# æ›´æ–°æ—¥èªŒ

æœ¬æ–‡ä»¶è¨˜éŒ„è·æ¶¯è«®è©¢å¹³å° iOS å¾Œç«¯ API çš„æ‰€æœ‰é‡è¦è®Šæ›´ã€‚

æ ¼å¼åŸºæ–¼ [Keep a Changelog](https://keepachangelog.com/zh-TW/1.1.0/)ï¼Œ
ç‰ˆæœ¬è™Ÿéµå¾ª [èªæ„åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-TW/)ã€‚

---

## [æœªç™¼å¸ƒ]

### è®Šæ›´
- **Dashboard UI å„ªåŒ–** (2026-02-07)ï¼šå°‡æ¨¡å‹åˆ†ä½ˆåœ–è¡¨æ›¿æ›ç‚ºæ¯æ—¥æ´»èºç”¨æˆ¶è¶¨å‹¢åœ–
  - **åŸå› **ï¼šæ¨¡å‹åˆ†ä½ˆåœ–é¡¯ç¤ºå›ºå®šæ¯”ä¾‹ï¼ˆç„¡æ´å¯Ÿåƒ¹å€¼ï¼‰ï¼›DAU è¿½è¹¤ç”¨æˆ¶åƒèˆ‡åº¦
  - **æ–°åœ–è¡¨**ï¼šé¡¯ç¤ºæ¯æ—¥ä¸é‡è¤‡ç”¨æˆ¶æ•¸é‡çš„æŠ˜ç·šåœ–
    - ç¶ è‰²é…è‰²ï¼ˆæˆé•·/æ­£å‘è¶¨å‹¢ï¼‰
    - å¹³æ»‘æ›²ç·šåŠ å€åŸŸå¡«å……
    - Y è»¸åƒ…é¡¯ç¤ºæ•´æ•¸ï¼ˆç„¡å°æ•¸é»ï¼‰
    - Tooltip é¡¯ç¤ºã€ŒX ä½ç”¨æˆ¶ã€æ ¼å¼
  - **æ™‚é–“ç¯©é¸æ”¯æ´**ï¼š
    - ä»Šå¤©ï¼šæ¯å°æ™‚åˆ†è§£ï¼ˆHH:MMï¼‰
    - éå» 7 å¤©ï¼šæ¯æ—¥åˆ†è§£ï¼ˆMM/DDï¼‰
    - éå» 30 å¤©ï¼šæ¯æ—¥åˆ†è§£ï¼ˆMM/DDï¼‰
  - **æ–°å¢ API ç«¯é»**ï¼š`GET /api/v1/admin/dashboard/daily-active-users`
    - å¾ `SessionUsage` è¡¨çµ±è¨ˆæ¯å€‹æ™‚æ®µçš„ `DISTINCT counselor_id`
    - æ”¯æ´ç§Ÿæˆ¶ç¯©é¸
    - è¿”å› `{labels: ["2/1", "2/2", ...], data: [12, 15, 8, ...]}`
  - **å‘å¾Œç›¸å®¹**ï¼šèˆŠçš„ `/model-distribution` ç«¯é»ä¿ç•™ï¼ˆæ¨™è¨˜ç‚ºå·²æ£„ç”¨ï¼‰
  - **ä¿®æ”¹æª”æ¡ˆ**ï¼š
    - `app/api/v1/admin/dashboard.py` (+60 è¡Œ)
    - `app/templates/admin_dashboard.html` (åœ–è¡¨æ›¿æ›)

### ä¿®æ­£
- **åˆ†ææ—¥èªŒ Bug ä¿®å¾©** (2026-02-07)ï¼šä¿®å¾©åˆ†ææ—¥èªŒç³»çµ±çš„å…©å€‹é—œéµ bug
  - **Bug 1 - æ¨¡å‹åç¨±è¨˜éŒ„éŒ¯èª¤**ï¼šæ‰€æœ‰åˆ†ææ—¥èªŒéŒ¯èª¤åœ°è¨˜éŒ„ `model_name` ç‚º `"gemini-3-flash-preview"`ï¼Œè€Œéå¯¦éš›ä½¿ç”¨çš„æ¨¡å‹
    - **æ ¹æœ¬åŸå› **ï¼šAPI ç«¯é»åœ¨å‘¼å« `SessionBillingService.save_analysis_log_and_usage()` æ™‚ï¼Œ`_metadata` æœªåŒ…å« `model_name`
    - **å½±éŸ¿**ï¼šDashboard åˆ†æé¡¯ç¤ºéŒ¯èª¤çš„æ¨¡å‹ä½¿ç”¨æƒ…æ³ï¼›æˆæœ¬è¨ˆç®—å¯èƒ½ä¸æº–ç¢º
    - **ä¿®å¾©å…§å®¹**ï¼š
      - `EmotionAnalysisService` ç¾åœ¨åœ¨ `token_usage` dict ä¸­è¿”å› `model_name` å’Œ `provider`
      - æ‰€æœ‰ API ç«¯é»ï¼ˆ`analyze_emotion_feedback`ã€`quick_feedback`ã€`deep_analyze`ã€`report`ï¼‰ç¾åœ¨å°‡ `model_name` å‚³éçµ¦ `_metadata`
      - `MetadataBuilder` æ›´æ–°ç‚ºæ­£ç¢ºçš„æ¨¡å‹åç¨±ï¼š`gemini-flash-lite-latest`ï¼ˆæƒ…ç·’åˆ†æï¼‰ã€`gemini-1.5-flash-latest`ï¼ˆæ·±åº¦åˆ†æ/å ±å‘Šï¼‰
      - åœ¨ `SessionBillingService._get_default_model_name()` ä¸­æ–°å¢é˜²ç¦¦æ€§ fallback èˆ‡è­¦å‘Šæ—¥èªŒ
    - **ä¿®æ”¹æª”æ¡ˆ**ï¼š
      - `app/services/analysis/emotion_service.py`ï¼ˆ164-179 è¡Œï¼‰
      - `app/api/sessions.py`ï¼ˆ597-600 è¡Œï¼‰
      - `app/api/session_analysis.py`ï¼ˆ221-228ã€362-370 è¡Œï¼‰
      - `app/services/analysis/keyword_analysis/metadata.py`ï¼ˆ99ã€122ã€146-154 è¡Œï¼‰
      - `app/services/analysis/session_billing_service.py`ï¼ˆ38-48ã€120-122 è¡Œï¼‰
  - **Bug 2 - ç¼ºå°‘ ElevenLabs STT æˆæœ¬**ï¼šæˆæœ¬è¿½è¹¤åƒ…åŒ…å« Gemini LLM æˆæœ¬ï¼Œç¼ºå°‘ ElevenLabs Scribe v2 Realtime STT æˆæœ¬ï¼ˆ$0.40/å°æ™‚ = ç¸½æˆæœ¬çš„ 68%ï¼‰
    - **æ ¹æœ¬åŸå› **ï¼š`estimated_cost_usd` åƒ…è¨ˆç®— token æˆæœ¬ï¼ŒæœªåŒ…å«æŒ‰å°æ™‚è¨ˆè²»çš„ STT æˆæœ¬
    - **å½±éŸ¿**ï¼šDashboard é¡¯ç¤ºçš„æˆæœ¬æ¯”å¯¦éš›ä½ç´„ 8 å€ï¼ˆ$0.073/å°æ™‚ vs é æœŸ $0.535/å°æ™‚ï¼‰
    - **æˆæœ¬çµæ§‹**ï¼ˆæ¯å°æ™‚ï¼‰ï¼š
      - ElevenLabs Scribe v2 Realtimeï¼š$0.40ï¼ˆ68%ï¼‰
      - Gemini Flash Liteï¼ˆæƒ…ç·’åˆ†æï¼‰ï¼š$0.10ï¼ˆ17%ï¼‰
      - Gemini Flash 1.5ï¼ˆå ±å‘Šç”Ÿæˆï¼‰ï¼š$0.035ï¼ˆ6%ï¼‰
      - åŸºç¤è¨­æ–½ï¼ˆä¸è¿½è¹¤ï¼‰ï¼š$0.052ï¼ˆ9%ï¼‰
      - **è¿½è¹¤ç¸½è¨ˆ**ï¼š$0.535/å°æ™‚
    - **ä¿®å¾©å…§å®¹**ï¼š
      - `SessionBillingService.save_analysis_log_and_usage()` ç¾åœ¨æ ¹æ“š session æ™‚é•·è¨ˆç®— ElevenLabs æˆæœ¬
      - å…¬å¼ï¼š`elevenlabs_cost = (duration_seconds / 3600) * 0.40`
      - ç¸½æˆæœ¬ï¼š`gemini_cost + elevenlabs_cost`
    - **ä¿®æ”¹æª”æ¡ˆ**ï¼š
      - `app/services/analysis/session_billing_service.py`ï¼ˆ168-191 è¡Œï¼‰
      - `app/services/core/quick_feedback_service.py`ï¼ˆ94-109 è¡Œï¼‰
      - `app/services/analysis/parents_report_service.py`ï¼ˆ83-100 è¡Œï¼‰
  - **æ­£ç¢ºçš„æ¨¡å‹å®šåƒ¹**ï¼ˆä¿®å¾©ä¸­å·²æ›´æ–°ï¼‰ï¼š
    - Gemini Flash Lite Latestï¼šè¼¸å…¥ $0.075/1Mï¼Œè¼¸å‡º $0.30/1M
    - Gemini Flash 1.5 Latestï¼šè¼¸å…¥ $0.50/1Mï¼Œè¼¸å‡º $3.00/1Mï¼ˆæ·±åº¦åˆ†æï¼‰
    - Gemini Flash 1.5 Latestï¼šè¼¸å…¥ $1.25/1Mï¼Œè¼¸å‡º $5.00/1Mï¼ˆå ±å‘Šç”Ÿæˆï¼‰
  - **æ¸¬è©¦è¦†è“‹**ï¼šæ–°å¢ `test_logging_unit.py` åŒ…å« 4 å€‹å®Œæ•´æ¸¬è©¦ï¼ˆå…¨éƒ¨é€šéï¼‰
  - **é©—è­‰**ï¼šå–®å…ƒæ¸¬è©¦ç¢ºèª model_name åŒ…å«èˆ‡ ElevenLabs æˆæœ¬è¨ˆç®—æ­£ç¢º

### æ–°å¢
- **å¤šæ­¥é©Ÿå¯†ç¢¼é‡è¨­é é¢èˆ‡ Deeplink æ”¯æ´** (2026-02-01)ï¼šç‚º iOS in-app browser å„ªåŒ–çš„å¿˜è¨˜å¯†ç¢¼é é¢
  - 4 æ­¥é©Ÿå–®é æµç¨‹ï¼šè¼¸å…¥ Email â†’ é©—è­‰ç¢¼ â†’ æ–°å¯†ç¢¼ â†’ æˆåŠŸ
  - é€²åº¦æŒ‡ç¤ºå™¨ï¼ˆ1/4ã€2/4ã€3/4ã€4/4ï¼‰
  - åµæ¸¬åˆ° `source=app` åƒæ•¸æ™‚è‡ªå‹• deeplink è·³è½‰å› App
  - å¤±æ•—æ©Ÿåˆ¶ï¼šApp æœªé–‹å•Ÿæ™‚è¿”å›ç¶²é ç™»å…¥
  - Deeplink å”å®šï¼š`islandparent://auth/forgot-password-done`
  - åŒæ™‚æ”¯æ´ iOS in-app browser å’Œç¶²é ç€è¦½å™¨ä½¿ç”¨
  - **å¯¦ä½œå…§å®¹**ï¼š`app/templates/forgot_password.html`ï¼ˆå®Œå…¨é‡å¯«ï¼‰
  - **æ¸¬è©¦**ï¼š3 å€‹æ–°å¢æ•´åˆæ¸¬è©¦æ–¼ `tests/integration/test_password_reset_flows.py`
  - **å„ªé»**ï¼šç„¡ç¸« iOS App æ•´åˆã€æå‡ä½¿ç”¨è€…é«”é©—ã€å–®é ä¾¿åˆ©æ€§

- **å¯†ç¢¼é‡è¨­é©—è­‰ç¢¼ç³»çµ±** (2026-02-01)ï¼šå¢å¼·å®‰å…¨æ€§çš„ 6 ä½æ•¸é©—è­‰ç¢¼
  - 6 ä½æ•¸é©—è­‰ç¢¼ï¼ˆå–ä»£ 64 å­—å…ƒ URL tokenï¼‰
  - 10 åˆ†é˜é©—è­‰ç¢¼éæœŸï¼ˆç›¸è¼ƒæ–¼ 6 å°æ™‚ token éæœŸï¼‰
  - 5 æ¬¡å¤±æ•—é©—è­‰å¾Œé–å®šå¸³æˆ¶ï¼ˆ15 åˆ†é˜é–å®šï¼‰
  - é¸ç”¨çš„é é©—è­‰ç«¯é»ï¼Œå¯åœ¨å¯†ç¢¼è¡¨å–®å‰å…ˆæª¢æŸ¥é©—è­‰ç¢¼
  - ä¾ç§Ÿæˆ¶å®¢è£½åŒ– Email æ¨£æ¿
  - å®Œæ•´çš„ç«¯å°ç«¯æ¸¬è©¦è¦†è“‹ï¼ˆè«‹æ±‚ â†’ é©—è­‰ â†’ ç¢ºèª â†’ ç™»å…¥ï¼‰
  - **API ç«¯é»**ï¼š
    - `POST /api/v1/auth/password-reset/request`ï¼ˆæ›´æ–°ç‚ºç”Ÿæˆé©—è­‰ç¢¼ï¼‰
    - `POST /api/v1/auth/password-reset/verify-code`ï¼ˆæ–°å¢ï¼‰
    - `POST /api/v1/auth/password-reset/confirm`ï¼ˆæ›´æ–°ç‚ºæ¥å—é©—è­‰ç¢¼ï¼‰
  - **å¯¦ä½œå…§å®¹**ï¼š`app/api/v1/password_reset.py`ã€`app/models/password_reset.py`
  - **æ¸¬è©¦**ï¼š7 å€‹æ•´åˆæ¸¬è©¦æ–¼ `tests/integration/test_password_reset_verification.py`
  - **æ–‡æª”**ï¼šå®Œæ•´ API æŒ‡å—æ–¼ `docs/api/password-reset-verification-code.md`
  - **å„ªé»**ï¼šè¡Œå‹•å‹å–„ã€æ¸›å°‘æ‘©æ“¦ã€é€éé–å®šæ©Ÿåˆ¶æå‡å®‰å…¨æ€§

- **App é…ç½® API** (2026-01-31)ï¼šç‚º iOS å®¢æˆ¶ç«¯æä¾›å‹•æ…‹ URL ç®¡ç†
  - å¤šç§Ÿæˆ¶æ”¯æ´ï¼ˆ`island_parents`ã€`career`ï¼‰
  - å…¬é–‹ç«¯é» `GET /api/v1/app/config/{tenant}`
  - è¿”å›å‹•æ…‹ URLsï¼šæœå‹™æ¢æ¬¾ã€éš±ç§æ¬Šæ”¿ç­–ã€Landing Pageã€å¹«åŠ©ã€å¿˜è¨˜å¯†ç¢¼
  - ç’°å¢ƒæ„ŸçŸ¥çš„ base_url é…ç½®
  - ç‰ˆæœ¬è¿½è¹¤èˆ‡ç¶­è­·æ¨¡å¼æ”¯æ´
  - ç„¡éœ€èªè­‰ï¼ˆå…¬é–‹ç«¯é»ï¼‰
  - ç„¡æ•ˆç§Ÿæˆ¶è¿”å› 404 å›æ‡‰
  - **å¯¦ä½œå…§å®¹**ï¼š`app/api/app_config.py`ã€`app/schemas/app_config.py`
  - **æ¸¬è©¦**ï¼šå®Œæ•´çš„å–®å…ƒæ¸¬è©¦èˆ‡æ•´åˆæ¸¬è©¦è¦†è“‹
  - **æ–‡æª”**ï¼šå·²åŠ å…¥ `IOS_API_GUIDE.md` å’Œ `IOS_GUIDE_PARENTS.md`
  - **å„ªé»**ï¼šç„¡éœ€ç™¼ç‰ˆå³å¯æ›´æ–° URLã€æ”¯æ´ A/B æ¸¬è©¦ã€å³æ™‚åˆ‡æ›ç¶­è­·æ¨¡å¼

- **WordPress æ³•å¾‹é é¢** (2026-01-31)ï¼šç‚º Island Parents æä¾› Elementor å¯ç·¨è¼¯çš„ HTML é é¢
  - **Landing Page**ï¼šç”¢å“ä»‹ç´¹èˆ‡åŠŸèƒ½å±•ç¤º
    - éƒ¨ç½²ç¶²å€ï¼šhttps://www.comma.study/island_parents_landing/
    - é‡é»ï¼šå³æ™‚ AI å›é¥‹ã€å®‰å…¨è©•ä¼°ã€æ•™é¤ŠæŒ‡å°
  - **éš±ç§æ¬Šæ”¿ç­–**ï¼šç¬¦åˆ GDPR/å°ç£å€‹è³‡æ³•çš„éš±ç§æ¬Šæ”¿ç­–
    - éƒ¨ç½²ç¶²å€ï¼šhttps://www.comma.study/island_parents_privacy_policy/
    - 7 å€‹ç« ç¯€ï¼šè³‡æ–™æ”¶é›†ã€ä½¿ç”¨ã€ç¬¬ä¸‰æ–¹æœå‹™ã€å®‰å…¨ã€å…’ç«¥éš±ç§
  - **æœå‹™æ¢æ¬¾**ï¼šå®Œæ•´çš„æœå‹™æ¢æ¬¾
    - éƒ¨ç½²ç¶²å€ï¼šhttps://www.comma.study/island_parents_terms_of_service/
    - 10 å€‹ç« ç¯€ï¼šæœå‹™èªªæ˜ã€ä½¿ç”¨è¦ç¯„ã€é€€æ¬¾æ”¿ç­–ã€å…è²¬è²æ˜
  - **æŠ€è¡“ç‰¹è‰²**ï¼š
    - éŸ¿æ‡‰å¼è¨­è¨ˆï¼ˆæ¡Œé¢/å¹³æ¿/æ‰‹æ©Ÿï¼‰
    - å¯ç›´æ¥è²¼ä¸Š WordPress Elementor HTML å€å¡Š
    - PM å¯æ›´æ–°å…§å®¹ç„¡éœ€é‡æ–°éƒ¨ç½² API
    - ä¹¾æ·¨å°ˆæ¥­çš„æ¨£å¼ï¼Œç¬¦åˆ Island Parents å“ç‰Œå½¢è±¡
  - **ä½ç½®**ï¼š`wordpress-legal-pages/` ç›®éŒ„
  - **æ–‡æª”**ï¼š`wordpress-legal-pages/README.md`

- **è¨ˆè²»æ¨¡å¼æ”¯æ´èˆ‡æ¯æœˆä½¿ç”¨é‡é™åˆ¶** (2026-01-31)ï¼šç‚ºå„²å€¼èˆ‡è¨‚é–±ç”¨æˆ¶æä¾›å½ˆæ€§ä»˜è²»æ¨¡å¼
  - è¨ˆè²»æ¨¡å¼æ”¯æ´ï¼ˆå„²å€¼/è¨‚é–±ï¼‰æä¾›å½ˆæ€§ä»˜è²»æ¨¡å¼
  - è¨‚é–±ç”¨æˆ¶æ¯æœˆä½¿ç”¨ä¸Šé™ï¼ˆ360 åˆ†é˜/æœˆï¼‰
  - ä½¿ç”¨é‡çµ±è¨ˆ API ç«¯é»ï¼ˆ`GET /api/v1/usage/stats`ï¼‰
  - æ»¾å‹• 30 å¤©ä½¿ç”¨é€±æœŸèˆ‡è‡ªå‹•é‡ç½®
  - è¨‚é–±è¶…é™æ™‚è¿”å› HTTP 429 éŒ¯èª¤
  - å‘å¾Œå…¼å®¹ï¼šæ‰€æœ‰ç¾æœ‰ç”¨æˆ¶é è¨­ç‚ºå„²å€¼æ¨¡å¼

- **API å›æ‡‰åŠ å…¥éƒµä»¶é©—è­‰ç‹€æ…‹** (2026-01-31)ï¼šå¼·åŒ–èªè­‰ç«¯é»ä»¥åŒ…å«éƒµä»¶é©—è­‰ç‹€æ…‹è³‡è¨Š
  - **è¨»å†Šå›æ‡‰**ï¼šæ–°å¢ `email_verified`ã€`verification_email_sent` å’Œ `message` æ¬„ä½
  - **ç™»å…¥å›æ‡‰**ï¼šç¾åœ¨å›å‚³åŒ…å« `email_verified` æ¬„ä½çš„ `user` ç‰©ä»¶
  - **éƒµä»¶é©—è­‰æª¢æŸ¥**ï¼šå•Ÿç”¨éƒµä»¶é©—è­‰æ™‚ï¼Œæœªé©—è­‰ç”¨æˆ¶ç„¡æ³•ç™»å…¥ï¼ˆHTTP 403ï¼‰
  - **è³‡æ–™åº«çµæ§‹**ï¼šCounselor æ¨¡å‹æ–°å¢ `email_verified` å¸ƒæ—æ¬„ä½
  - **é©—è­‰éƒµä»¶ç«¯é»**ï¼šåŒæ™‚è¨­å®š `is_active` å’Œ `email_verified` ç‚º true
  - **æ¸¬è©¦ç’°å¢ƒ**ï¼šæ¸¬è©¦ç’°å¢ƒé è¨­åœç”¨éƒµä»¶é©—è­‰ï¼ˆé€é autouse fixtureï¼‰
  - **å¯¦ä½œå…§å®¹**ï¼š
    - ä¿®æ”¹ï¼š`app/api/auth.py`ã€`app/schemas/auth.py`ã€`app/models/counselor.py`
    - ä¿®æ”¹ï¼š`tests/integration/conftest.py`ã€`tests/integration/test_auth_api.py`ã€`tests/integration/test_email_verification.py`
    - æ–°å¢ï¼š`tests/integration/test_issue_4_email_verification_status.py`ï¼ˆ4 å€‹å®Œæ•´æ¸¬è©¦ï¼‰
    - æ¸¬è©¦è¦†è“‹ï¼š37/37 èªè­‰æ¸¬è©¦é€šé

- **æœå‹™æ¢æ¬¾èˆ‡éš±ç§æ¬Šæ”¿ç­–é é¢** (2026-01-27)ï¼šç¬¦åˆ RevenueCat/App Store å¯©æ ¸è¦æ±‚çš„æ³•å¾‹é é¢
  - è·¯ç”±ï¼š`/island-parents/terms` - åŒ…å« 10 å€‹å®Œæ•´ç« ç¯€çš„æœå‹™æ¢æ¬¾
  - è·¯ç”±ï¼š`/island-parents/privacy` - ç¬¦åˆ GDPR/å°ç£å€‹è³‡æ³•çš„éš±ç§æ¬Šæ”¿ç­–
  - å…±ç”¨æ¨¡æ¿ç³»çµ±ï¼ˆ`legal_base.html`ï¼‰æ­é…å›ºå®šç›®éŒ„å°èˆª
  - éŸ¿æ‡‰å¼è¨­è¨ˆï¼šæ¡Œé¢ç‰ˆå´é‚Šæ¬„ç›®éŒ„ + æ‰‹æ©Ÿç‰ˆå¯æŠ˜ç–Šä¸‹æ‹‰é¸å–®
  - å¹³æ»‘æ²å‹•å°èˆªèˆ‡ç•¶å‰ç« ç¯€é«˜äº®ï¼ˆIntersection Observerï¼‰
  - å…§å®¹æ¶µè“‹ï¼šæœå‹™èªªæ˜ã€ä½¿ç”¨è€…æ¬Šåˆ©ã€è³‡æ–™è™•ç†ã€GDPR åˆè¦ã€é€€æ¬¾æ”¿ç­–
  - å·²æº–å‚™å¥½æ•´åˆ RevenueCat Paywallï¼ˆApp Store å¯©æ ¸è¦æ±‚ï¼‰
  - PM å¯éš¨æ™‚æ›´æ–°æ–‡æ¡ˆï¼ˆåƒ…éœ€ç·¨è¼¯ HTML æ¨¡æ¿ï¼Œç„¡éœ€é‡æ–°éƒ¨ç½²ï¼‰

- **æ”¹é€² analyze-partial çš„ OpenAPI æ–‡æª”** (2026-01-26)ï¼šå¢å¼· Swagger UI é«”é©—
  - æ–°å¢è©³ç›¡çš„æ‘˜è¦èˆ‡èªªæ˜ï¼Œè§£é‡‹å¤šç§Ÿæˆ¶è¡Œç‚ºå·®ç•°
  - æ–°å¢ 3 å€‹å›æ‡‰ç¯„ä¾‹ï¼ˆisland_parents_greenã€island_parents_redã€career_analysisï¼‰
  - è¨˜è¼‰æ‰€æœ‰å›æ‡‰ä»£ç¢¼ï¼ˆ200/401/404/500ï¼‰ä¸¦é™„ä¸Šæ¸…æ¥šèªªæ˜
  - åŒ…å«åŠŸèƒ½äº®é»ï¼ˆéé˜»å¡ã€èƒŒæ™¯ä»»å‹™ã€RAGã€token è¿½è¹¤ï¼‰
  - æ”¹å–„ iOS/å‰ç«¯åœ˜éšŠä½¿ç”¨ `/docs` çš„é–‹ç™¼é«”é©—

### è®Šæ›´
- **CI/CD Pipeline - Staging ç’°å¢ƒè‡ªå‹•åŸ·è¡Œè³‡æ–™åº« Migration** (2026-02-01)ï¼šStaging éƒ¨ç½²ç¾åœ¨æœƒè‡ªå‹•åŸ·è¡Œè³‡æ–™åº« migration
  - Pipeline åœ¨éƒ¨ç½²åˆ° Cloud Run ä¹‹å‰åŸ·è¡Œ `alembic upgrade head`
  - ä½¿ç”¨ `DATABASE_URL`ï¼ˆé€£ç·šæ± ï¼‰ä»¥ç¢ºä¿èˆ‡ GitHub Actions çš„ IPv4 ç›¸å®¹æ€§
  - ç¢ºä¿è³‡æ–™åº« schema èˆ‡éƒ¨ç½²çš„ç¨‹å¼ç¢¼ç‰ˆæœ¬ç›¸ç¬¦
  - Production migrations ä»éœ€æ‰‹å‹•åŸ·è¡Œä»¥ç¢ºä¿å®‰å…¨ï¼ˆéœ€è¦äººå·¥å¯©æ ¸ï¼‰
  - **å½±éŸ¿**ï¼šåŠ å¿«éƒ¨ç½²é€±æœŸï¼Œé˜²æ­¢ schema/ç¨‹å¼ç¢¼ä¸åŒ¹é…éŒ¯èª¤
  - **ä½ç½®**ï¼š`.github/workflows/ci.yml`ï¼ˆåƒ… staging jobï¼‰

- **Session å‰µå»ºæ™‚æª¢æŸ¥ä½¿ç”¨é™åˆ¶** (2026-01-31)ï¼šSession å‰µå»ºæ™‚æ ¹æ“šè¨ˆè²»æ¨¡å¼æª¢æŸ¥ä½¿ç”¨é™åˆ¶
  - Counselor æ¨¡å‹æ“´å……è¨ˆè²»æ¨¡å¼èˆ‡ä½¿ç”¨è¿½è¸ªæ¬„ä½
  - å„²å€¼ç”¨æˆ¶ï¼šcredits <= 0 æ™‚é˜»æ“‹
  - è¨‚é–±ç”¨æˆ¶ï¼šè¶…éæ¯æœˆé™åˆ¶æˆ–è¨‚é–±éæœŸæ™‚é˜»æ“‹
  - 30 å¤©å¾Œè‡ªå‹•é‡ç½®ä½¿ç”¨é€±æœŸ

### è³‡æ–™åº«
- **è¨ˆè²»æ¨¡å¼èˆ‡ä½¿ç”¨è¿½è¸ªçµæ§‹** (2026-01-31)ï¼šæ“´å…… counselors è¡¨ä»¥æ”¯æ´å½ˆæ€§è¨ˆè²»
  - æ–°å¢ `billing_mode` æšèˆ‰æ¬„ä½è‡³ counselors è¡¨ï¼ˆprepaid/subscriptionï¼‰
  - æ–°å¢è¨‚é–±ä½¿ç”¨è¿½è¸ªæ¬„ä½ï¼š
    - `monthly_usage_limit_minutes`ï¼ˆé è¨­ï¼š360ï¼‰
    - `monthly_minutes_used`ï¼ˆé è¨­ï¼š0ï¼‰
    - `usage_period_start`ï¼ˆæ»¾å‹• 30 å¤©é€±æœŸï¼‰
  - Migrationï¼šæ‰€æœ‰ç¾æœ‰ç”¨æˆ¶é è¨­ç‚ºå„²å€¼æ¨¡å¼ï¼ˆå‘å¾Œå…¼å®¹ï¼‰

### ä¿®å¾©
- **ä½¿ç”¨é‡è¿½è¹¤éŒ¯èª¤ä¿®å¾©** (2026-02-03)ï¼šä¿®å¾© session å‰µå»ºæ™‚æœªæ›´æ–°è¨‚é–±å¸³è™Ÿçš„ monthly_minutes_used
  - **æ ¹æœ¬åŸå› **ï¼šSession å‰µå»ºç«¯é» (`POST /api/v1/sessions`) æœ‰æª¢æŸ¥ä½¿ç”¨é‡é™åˆ¶ï¼Œä½†æ²’æœ‰ç´¯åŠ ä½¿ç”¨é‡è¨ˆæ•¸å™¨
  - **ä½ç½®**ï¼š`app/api/sessions.py:116-122` - åœ¨å‰µå»º session å‰æ–°å¢ä½¿ç”¨é‡è¿½è¹¤
  - **ä¿®å¾©**ï¼šè¨‚é–±æ¨¡å¼å‰µå»º session æ™‚å¢åŠ  `monthly_minutes_used`
  - **é‚Šç•Œæƒ…æ³**ï¼šè™•ç†æ²’æœ‰ `duration_minutes` çš„ sessionï¼ˆé¸å¡«æ¬„ä½ï¼‰- åªæœ‰æä¾›æ™‚æ‰è¿½è¹¤
  - **å½±éŸ¿**ï¼šè¨‚é–±å¸³è™Ÿç¾åœ¨æ­£ç¢ºè¿½è¹¤ session ä½¿ç”¨é‡ï¼›æ¯æœˆé™åˆ¶æ­£å¸¸åŸ·è¡Œ
  - **æ¸¬è©¦è¦†è“‹**ï¼šåœ¨ `tests/integration/test_usage_tracking_verification.py` æ–°å¢ 2 å€‹å®Œæ•´å›æ­¸æ¸¬è©¦
    - `test_usage_tracking_complete_flow`ï¼šé©—è­‰ç´¯ç©è¿½è¹¤ï¼ˆ0 â†’ 20 â†’ 80 åˆ†é˜ï¼‰
    - `test_usage_limit_enforcement`ï¼šé©—è­‰ 360 åˆ†é˜é™åˆ¶é˜»æ“‹ session å‰µå»ºï¼ˆHTTP 429ï¼‰
  - **æ™‚å€éŒ¯èª¤ä¿®å¾©**ï¼šä¿®å¾© session ç·¨è™Ÿçš„ naive/aware datetime æ¯”è¼ƒå•é¡Œ (`app/services/core/session_service.py`)
  - **æ¸¬è©¦çµæœ**ï¼šå…¨éƒ¨ 432 å€‹æ•´åˆæ¸¬è©¦é€šéï¼ŒCI/CD æˆåŠŸ

- **å®‰å…¨è©•ä¼°æ¸¬è©¦å¤±æ•—** (2026-01-27)ï¼šä¿®å¾© `test_safe_conversation_returns_green_level`
  - æ ¹æœ¬åŸå› ï¼šä½”ä½çš„ `/messages` ç«¯é»æœªå„²å­˜é€å­—ç¨¿è³‡æ–™
  - è§£æ±ºæ–¹æ¡ˆï¼šæ¸¬è©¦ç¾åœ¨ç›´æ¥è¨­å®š session ç‰©ä»¶çš„ `transcript_text`
  - æ›´æ–°æ¸¬è©¦æ–·è¨€ä»¥ç¬¦åˆ `RealtimeAnalyzeResponse` schemaï¼ˆsummary/alerts/suggestionsï¼‰
  - æ¸¬è©¦åœ¨ CI/CD pipeline ä¸­ç©©å®šé€šéï¼ˆä¿®å¾©å‰é€£çºŒå¤±æ•— 5 æ¬¡ï¼‰
  - è¨˜éŒ„é™åˆ¶ï¼š`/api/v1/sessions/{id}/messages` ç«¯é»ç‚ºä½”ä½ï¼ˆè¨Šæ¯å„²å­˜å°šæœªå¯¦ä½œï¼‰

- **ç§»é™¤é‡è¤‡çš„ deep-analyze ç«¯é»** (2026-01-26)ï¼šä¿®å¾© 23 å€‹å¤±æ•—æ¸¬è©¦
  - ç§»é™¤ `sessions.py` ä¸­éæ™‚çš„ TDD stub ç«¯é»ï¼ˆå›å‚³ç¡¬ç·¨ç¢¼å›æ‡‰ï¼‰
  - `session_analysis.py` ä¸­çš„æ­£å¼å¯¦ä½œç¾åœ¨è™•ç†æ‰€æœ‰ deep-analyze è«‹æ±‚
  - æ ¹æœ¬åŸå› ï¼šé‡è¤‡ç«¯é»å„ªå…ˆè¨»å†Šï¼Œé®è”½äº†çœŸæ­£çš„å¯¦ä½œ
  - æ¸¬è©¦ç¾åœ¨æ­£ç¢ºæ¥æ”¶å®Œæ•´åˆ†æçµæœçš„ `RealtimeAnalyzeResponse`
  - å½±éŸ¿ï¼šæ‰€æœ‰ E2E workflowã€session analysis å’Œ RAG æ•´åˆæ¸¬è©¦ç¾å·²é€šé

### å·²æ£„ç”¨
- **Deep Analysis API - TDD GREEN éšæ®µ** (2026-01-26)ï¼šå·²è¢« session_analysis.py å–ä»£
  - ~~æ–°å¢ POST /sessions/{id}/deep-analyze ç«¯é»ï¼ˆä½”ä½ï¼Œç¡¬ç·¨ç¢¼å®‰å…¨ç‹€æ…‹ï¼‰~~
  - ~~DeepAnalysisResponse schema åŒ…å« safety_level/display_text/quick_suggestion~~
  - æ­¤ç‚º TDD stubï¼Œå·²è¢«å®Œæ•´å¯¦ä½œå–ä»£

- **Emotion feedback API æ—¥èªŒè¨˜éŒ„** (2026-01-25)ï¼šè³‡æ–™åº«èˆ‡ BigQuery æ—¥èªŒï¼Œç”¨æ–¼æˆæœ¬è¿½è¹¤èˆ‡åˆ†æ
  - è¿½è¹¤ token ä½¿ç”¨é‡ï¼ˆprompt/completion tokens + æˆæœ¬ï¼‰
  - è¨˜éŒ„åˆ†æçµæœè‡³ SessionAnalysisLogï¼ˆPostgreSQLï¼‰
  - èƒŒæ™¯ä»»å‹™ä¸Šå‚³è‡³ BigQuery
  - éµå¾ªèˆ‡ quick/deep feedback APIs ç›¸åŒæ¨¡å¼

- **IOS_GUIDE_PARENTS.md v1.10** (2026-01-25)ï¼šå®Œæ•´çš„ Client & Case ç®¡ç†æ–‡æª”
  - æ–°å¢ Section 2.6 å®Œæ•´ client-case API æ–‡æª”
  - åŒ…å« Swift å¯¦ä½œç¯„ä¾‹èˆ‡éŒ¯èª¤è™•ç†
  - æ–°å¢ session å»ºç«‹æµç¨‹çš„å‰ç½®æ¢ä»¶è­¦å‘Š
  - æ›´æ–° API ç«¯é»ç¸½è¦½ï¼ˆSection 12.3ï¼‰å¼·èª¿ Island Parents UI APIs
  - æ–‡æª”å®Œæ•´åº¦å¾ 92% æå‡è‡³ ~98%

- **Island Parents äº¤ä»˜æª¢æŸ¥æ¸…å–®** (2026-01-25)ï¼š`docs/weekly/ISLAND_PARENTS_DELIVERY_CHECKLIST.md`
  - iOS åœ˜éšŠäº¤æ¥çš„å…¨é¢äº¤ä»˜ç¸½è¦½
  - å®Œæ•´ API è¦æ ¼èˆ‡ Request/Response ç¯„ä¾‹
  - ä½¿ç”¨ staging ç’°å¢ƒå¯¦éš›æ¸¬è©¦è³‡æ–™çš„é©—è­‰çµæœ
  - iOS åœ˜éšŠé©—è­‰çš„å¿«é€Ÿæ¸¬è©¦æŒ‡å—
  - è¯çµ¡è³‡è¨Šèˆ‡éœ€è¦ PM æ±ºç­–çš„å¾…è¾¦äº‹é …

### ä¿®å¾©
- **IOS_GUIDE_PARENTS.md ä¸­çš„ Staging URLs** (2026-01-25)
  - æ›´æ–° 3 å€‹éæ™‚çš„ staging URLs ç‚ºç•¶å‰æ ¼å¼
  - èˆŠï¼š`career-app-api-staging-kxaznpplqq-uc.a.run.app`
  - æ–°ï¼š`career-app-api-staging-978304030758.us-central1.run.app`
  - å½±éŸ¿ç« ç¯€ï¼š2.6ï¼ˆClient-Case APIï¼‰ã€11ï¼ˆå¿˜è¨˜å¯†ç¢¼ Web æµç¨‹ï¼‰

- **ElevenLabs Token API æ–‡æª”éŒ¯èª¤** (2026-01-12)
  - ä¿®æ­£ IOS_API_GUIDE.md ä¸­çš„ç«¯é»è·¯å¾‘ï¼š`/api/v1/realtime/elevenlabs-token` â†’ `/api/v1/transcript/elevenlabs-token`
  - åœ¨ IOS_GUIDE_PARENTS.md æ–°å¢ Section 6 å®Œæ•´ API æ–‡æª”
  - è§£æ±º iOS åœ˜éšŠå‘¼å«ç«¯é»æ™‚çš„ 404 éŒ¯èª¤
  - è¨»ï¼šSwagger æ–‡æª” (`/docs`) ç‚º API ç«¯é»çš„æ¬Šå¨ä¾†æº

- **Quick Feedback æˆªæ–· Bug** (2026-01-08)
  - æ ¹æœ¬åŸå› ï¼š`max_tokens=50` å¤ªå°ï¼Œå°è‡´ Gemini æˆªæ–·åœ¨å­—è©ä¸­é–“
  - ç—‡ç‹€ï¼šä¸å®Œæ•´çš„å›æ‡‰å¦‚ã€Œä½ ã€ã€ã€Œèƒ½è¤‡ã€ã€ã€Œé¡˜æ„ã€ï¼ˆ1-3 å­—ï¼‰
  - ä¿®å¾©ï¼šå°‡ `max_tokens` å¾ 50 å¢åŠ åˆ° 500
  - æ–°å¢ `min_chars=7` é©—è­‰ï¼Œä¸å®Œæ•´æ™‚ä½¿ç”¨ fallback
  - æ”¹é€²æ–‡å­—è§£æï¼Œç§»é™¤åƒåœ¾æ–‡å­—ï¼ˆè‹±æ–‡ã€æ‹¬è™Ÿï¼‰
  - ç¾åœ¨å›å‚³å®Œæ•´å¥å­ + emojiï¼šã€Œé¡˜æ„å­¸ç¿’å‚¾è½æ˜¯éå¸¸æ£’çš„é€²æ­¥ ğŸŒŸã€

- **Report Encouragement æˆªæ–· Bug** (2026-01-08)
  - æ ¹æœ¬åŸå› ï¼šç¡¬æˆªæ–· `[:15]` æœƒåˆ‡æ–·å¥å­ä¸­é–“
  - ç—‡ç‹€ï¼šã€Œä½ è€å¿ƒå‚¾è½å­©å­åˆ†äº«è«®å•†é«”é©—ï¼Œä¸¦ã€ï¼ˆåœ¨ã€Œä¸¦ã€è¢«åˆ‡æ–·ï¼‰
  - ä¿®å¾©ï¼šç§»é™¤ç¡¬æˆªæ–·ï¼Œè®“ AI è‡ªç„¶ç”Ÿæˆ prompt è¦æ±‚çš„é•·åº¦
  - ç¾åœ¨å›å‚³å®Œæ•´å¥å­ï¼šã€Œä½ æ­£åŠªåŠ›å˜—è©¦æ‰¿æ¥å­©å­æ·±å¥§çš„æ€æƒ³ã€

- **Deep Analyze æ¬„ä½é©—è­‰** (2026-01-08)
  - æ–°å¢ `display_text` æœ€å°/æœ€å¤§é©—è­‰ (4-20 å­—)
  - æ–°å¢ `quick_suggestion` æœ€å°/æœ€å¤§é©—è­‰ (5-20 å­—ï¼ŒåŸºæ–¼ 200 å¥å°ˆå®¶å»ºè­°)
  - è¶…å‡ºç¯„åœæ™‚è¨˜éŒ„è­¦å‘Šä½†ä¸ç¡¬æˆªæ–·
  - display_text å¤ªçŸ­æ™‚ fallback ç‚ºã€Œåˆ†æå®Œæˆã€

- **GET Report API æ ¼å¼çµ±ä¸€** (2026-01-08)
  - `GET /api/v1/sessions/{session_id}/report` ç¾åœ¨å›å‚³èˆ‡ POST ç›¸åŒçš„æ ¼å¼
  - ä½¿ç”¨ `tenant_id`ï¼ˆä¾†è‡ª JWTï¼‰åˆ¤æ–·æ ¼å¼ï¼Œè€Œé `report.mode`
  - å°æ–¼ `tenant_id == "island_parents"`ï¼šæ°¸é å›å‚³æ‰å¹³çš„ `ParentsReportResponse`
  - iOS ç¾åœ¨å¯ä»¥ç”¨åŒä¸€å€‹ Model è§£æ POST å’Œ GET å›æ‡‰
  - å…¶ä»–ç§Ÿæˆ¶ä»å›å‚³å®Œæ•´ `ReportResponse` ä»¥ç¶­æŒå‘å¾Œç›¸å®¹
  - æ›´æ–° IOS_GUIDE_PARENTS.md v1.6 åŠ å…¥ GET endpoint æ–‡ä»¶

### è®Šæ›´
- **åˆ†ææœå‹™é‡æ§‹** (2026-01-07)
  - å¾å¤§å‹æª”æ¡ˆä¸­æå– 4 å€‹æ–°æ¨¡çµ„ä»¥æå‡å¯ç¶­è­·æ€§ï¼š
    - `expert_suggestion_service.py` - AI é©…å‹•çš„å»ºè­°é¸æ“‡
    - `session_billing_service.py` - ç„¡æ¢ä»¶é€²ä½çš„å¢é‡è¨ˆè²»
    - `analysis_helpers.py` - é—œéµå­—åˆ†æå·¥å…·å‡½æ•¸
    - `parents_report_service.py` - è¦ªå­å°è©±å ±å‘Šç”Ÿæˆ
  - æª”æ¡ˆå¤§å°å„ªåŒ–ï¼š
    - `keyword_analysis_service.py`: 1397 â†’ 632 è¡Œ (-55%)
    - `session_analysis.py`: 771 â†’ 529 è¡Œ (-31%)
  - æ›´æ–° `__init__.py` æ”¯æ´å‘å¾Œç›¸å®¹çš„é‡æ–°åŒ¯å‡º
  - å…¨éƒ¨ 333 å€‹æ•´åˆæ¸¬è©¦é€šé

### å®‰å…¨æ€§
- **Admin API DEBUG æ¨¡å¼å¼·åŒ–** (2026-01-07)
  - ä¿®å¾©å…è¨±æœªèªè­‰è¨ªå•ç®¡ç†åŠŸèƒ½çš„å®‰å…¨æ¼æ´
  - DEBUG æ¨¡å¼ç¾åœ¨éœ€è¦ `ENVIRONMENT != production AND != staging`
  - å½±éŸ¿ 12 å€‹ç®¡ç†ç«¯é»ï¼šè«®è©¢å¸«ç®¡ç† + é»æ•¸ç®¡ç†
  - ä¸å½±éŸ¿ iOS App æˆ–ä¸€èˆ¬ç”¨æˆ¶ API

### ä¿®å¾©
- **IOS_GUIDE_PARENTS.md** - èªè­‰ API æ–‡ä»¶ä¿®æ­£ (2026-01-07)
  - ä¿®æ­£ç™»å…¥ç«¯é»ï¼š`/api/v1/auth/login` â†’ `/api/auth/login`
  - ä¿®æ­£ç™»å…¥ bodyï¼š`username` â†’ `email` + æ–°å¢ `tenant_id` éœ€æ±‚
  - ä¿®æ­£ auth/me ç«¯é»ï¼š`/api/v1/auth/me` â†’ `/api/auth/me`
  - æ–°å¢ `expires_in` æ¬„ä½å’Œå®Œæ•´ç”¨æˆ¶ç‰©ä»¶æ–¼ç™»å…¥å›æ‡‰
  - æ›´æ–° Section 11.1 API åƒè€ƒè¡¨æ ¼
- **IOS_GUIDE_PARENTS.md** - ä¿®æ­£ quick-feedback API æ–‡ä»¶
  - ç§»é™¤éæ™‚çš„ `recent_transcript` body éœ€æ±‚
  - API ç¾æ­£ç¢ºè¨˜è¼‰ç‚ºè‡ªå‹•å¾ session è®€å–é€å­—ç¨¿

### æ–°å¢
- **PromptRegistry - çµ±ä¸€ Prompt æ¶æ§‹** (2026-01-04)
  - æ–°å¢é›†ä¸­å¼ prompt ç®¡ç†ç³»çµ±æ–¼ `app/prompts/`
  - æª”æ¡ˆçµæ§‹ï¼š
    - `base.py` - é è¨­ promptsï¼ˆä»»ä½•ç§Ÿæˆ¶çš„ fallbackï¼‰
    - `career.py` - è·æ¶¯è«®è©¢ promptsï¼ˆdeepã€reportï¼‰
    - `parenting.py` - æµ®å³¶å®¶é•·ç‰ˆ promptsï¼ˆquickã€deepã€reportï¼‰
    - `__init__.py` - PromptRegistry é¡åˆ¥èˆ‡ `get_prompt()` æ–¹æ³•
  - åŠŸèƒ½ç‰¹é»ï¼š
    - å¤šç§Ÿæˆ¶æ”¯æ´ï¼Œè‡ªå‹• fallback åˆ°é è¨­å€¼
    - ç§Ÿæˆ¶åˆ¥åï¼š`island` â†’ `island_parents`ï¼ˆä¿ç•™æ—¥å¾Œæ‹†åˆ†å½ˆæ€§ï¼‰
    - island_parents æ·±åº¦åˆ†ææ¨¡å¼æ”¯æ´ï¼š`practice` / `emergency`
    - é¡å‹æ”¯æ´ï¼š`quick`ã€`deep`ã€`report`
  - ä½¿ç”¨æ–¹å¼ï¼š`PromptRegistry.get_prompt("island_parents", "deep", mode="emergency")`
  - æ›´æ–°çš„æœå‹™ï¼š
    - `quick_feedback_service.py` - ç¾æ¥å— `tenant_id` åƒæ•¸
    - `keyword_analysis_service.py` - ä½¿ç”¨ PromptRegistry å–ä»£ç¡¬ç·¨ç¢¼ prompts
  - Prompt è¦†è“‹ç¯„åœï¼š
    | é¡å‹ | Career | Island Parents | Default |
    |------|--------|----------------|---------|
    | quick | âŒ fallback | âœ… è¦ªå­å°ˆç”¨ | âœ… é€šç”¨ |
    | deep | âœ… è·æ¶¯åˆ†æ | âœ… practice/emergency | âœ… é€šç”¨ |
    | report | âœ… è·æ¶¯å ±å‘Š | âœ… 8å­¸æ´¾å ±å‘Š | âœ… é€šç”¨ |
  - PRD å·²æ›´æ–°å®Œæ•´æ¶æ§‹æ–‡ä»¶

### è®Šæ›´
- **éŒ„éŸ³æ™‚é–“è¨ˆè²»** (2026-01-05)
  - è¨ˆè²»æ–¹å¼å¾ã€Œç¶“éæ™‚é–“ã€æ”¹ç‚ºã€Œå¯¦éš›éŒ„éŸ³æ™‚é–“ã€
  - èˆŠæ–¹å¼ï¼š`duration = current_time - session.start_time`ï¼ˆåŒ…å«é–’ç½®/æš«åœæ™‚é–“ï¼‰
  - æ–°æ–¹å¼ï¼š`duration = sum(recordings[].duration_seconds)`ï¼ˆåƒ…è¨ˆç®—éŒ„éŸ³æ™‚é–“ï¼‰
  - ä½¿ç”¨è€…æ•ˆç›Šï¼š
    - æš«åœå°è©±æ™‚ä¸è¨ˆè²»
    - è«®è©¢å¸«é›¢é–‹æ¥é›»è©±æ™‚ä¸è¨ˆè²»
    - åªæœ‰å¯¦éš›éŒ„éŸ³é€²è¡Œä¸­æ‰è¨ˆè²»
  - æª”æ¡ˆï¼š`app/services/keyword_analysis_service.py`

- **æµ®å³¶å®¶é•·ç‰ˆé»æ•¸ API** (2026-01-05)
  - ä¿®å¾© clients_history.html æ”¹ç”¨ `/api/auth/me` å–ä»£ä¸å­˜åœ¨çš„ `/api/v1/credits/balance`
  - ç¾åœ¨æ­£ç¢ºå¾ `available_credits` æ¬„ä½é¡¯ç¤ºå‰©é¤˜é»æ•¸
  - æª”æ¡ˆï¼š`app/templates/island_parents/clients_history.html`

### æ–‡ä»¶
- **IOS_GUIDE_PARENTS.md v1.4** (2026-01-05)
  - ä¿®æ­£æ·±åº¦åˆ†æç«¯é»ï¼š`/api/v1/sessions/{id}/deep-analyze`ï¼ˆåŸéŒ¯èª¤è¨˜è¼‰ç‚º `analyze-partial`ï¼‰
  - ä¿®æ­£éŒ„éŸ³ append æ ¼å¼ï¼š`start_time` å’Œ `end_time` å¿…é ˆç‚º ISO 8601 æ—¥æœŸæ™‚é–“å­—ä¸²ï¼ˆéæµ®é»æ•¸ï¼‰
  - é€éç€è¦½å™¨è‡ªå‹•åŒ–æ¸¬è©¦é©—è­‰å®Œæ•´ 11 æ­¥ API æµç¨‹
  - æ¸¬è©¦æµç¨‹ï¼šç™»å…¥ â†’ å–å¾—é»æ•¸ â†’ å»ºç«‹å®¢æˆ¶+æ¡ˆä»¶ â†’ å»ºç«‹æœƒè«‡ â†’ è¨­å®šæƒ…å¢ƒ â†’ å–å¾— ElevenLabs Token â†’ æ–°å¢éŒ„éŸ³ â†’ å¿«é€Ÿå›é¥‹ â†’ æ·±åº¦åˆ†æ â†’ ç”¢ç”Ÿå ±å‘Š â†’ æ­·å²é é¢
  - æ‰€æœ‰ API å·²æ¸¬è©¦ç¢ºèªæ­£å¸¸é‹ä½œ

### ä¿®å¾©
- **ç¹é«”ä¸­æ–‡ï¼ˆzh-TWï¼‰å¼·åˆ¶åŸ·è¡Œ** (2026-01-02)
  - å•é¡Œï¼šAI prompt å’Œç¨‹å¼ç¢¼è¨»è§£ä¸­ç™¼ç¾ç°¡é«”ä¸­æ–‡å­—å…ƒ
    - å—å½±éŸ¿æª”æ¡ˆï¼šapp/services/keyword_analysis_service.pyï¼ˆç¬¬ 45-50, 74-87 è¡Œï¼‰
    - å­—å…ƒï¼šä»â†’å¾ã€ä¸“å®¶â†’å°ˆå®¶ã€å»ºè®®â†’å»ºè­°ã€æŒ‘é€‰â†’æŒ‘é¸ã€é€‚åˆâ†’é©åˆã€å¯¹è¯â†’å°è©±ã€ç­‰çº§â†’ç­‰ç´šã€æ•°é‡â†’æ•¸é‡ã€å½“å‰â†’ç•¶å‰ã€åº“â†’åº«ã€è¯·â†’è«‹ã€é€‰æ‹©â†’é¸æ“‡ã€è§„åˆ™â†’è¦å‰‡ã€å¿…é¡»â†’å¿…é ˆã€æ”¹å†™â†’æ”¹å¯«ã€è¾“å‡ºâ†’è¼¸å‡º
  - ä¿®å¾©ï¼šå°‡æ‰€æœ‰ç°¡é«”ä¸­æ–‡è½‰æ›ç‚ºç¹é«”ä¸­æ–‡
    - æ›´æ–° keyword_analysis_service.py çš„ docstring å’Œ AI prompts
    - åœ¨å¿«é€Ÿå›é¥‹å’Œæ·±åº¦åˆ†æ prompt ä¸­åŠ å…¥æ˜ç¢ºçš„ zh-TW å¼·åˆ¶æŒ‡ä»¤
    - æ–°å¢æŒ‡ç¤ºï¼šã€ŒCRITICAL: æ‰€æœ‰å›æ‡‰å¿…é ˆä½¿ç”¨ç¹é«”ä¸­æ–‡ï¼ˆzh-TWï¼‰ï¼Œä¸å¯ä½¿ç”¨ç°¡é«”ä¸­æ–‡ã€‚ã€
  - å½±éŸ¿ï¼šæ‰€æœ‰ AI å›æ‡‰ï¼ˆå¿«é€Ÿå›é¥‹èˆ‡æ·±åº¦åˆ†æï¼‰ç¾åœ¨ä¿è­‰ä½¿ç”¨ç¹é«”ä¸­æ–‡
  - æª”æ¡ˆï¼šapp/services/keyword_analysis_service.pyã€app/services/quick_feedback_service.py
  - Commitï¼š7c0f9dd

- **å¿«é€Ÿå›é¥‹æƒ…å¢ƒåˆ†æä¿®å¾©** (2026-01-02)
  - å•é¡Œï¼šç¡¬ç·¨ç¢¼æƒ…å¢ƒè¦å‰‡å°è‡´å›é¥‹èª¤åˆ¤
    - ç¯„ä¾‹ï¼šã€Œæˆ‘æ•¸åˆ°ä¸‰ï¼Œä¸€ã€äºŒã€ä¸‰ï¼ã€ï¼ˆå¨è„…å€’æ•¸ï¼‰è¢«èª¤åˆ¤ç‚ºã€Œæ¸¬è©¦éº¥å…‹é¢¨ã€
    - æ ¹æœ¬åŸå› ï¼šPrompt ä¸­çš„ã€Œå¦‚æœ...å‰‡...ã€è¦å‰‡åƒ…åŒ¹é…é—œéµå­—ï¼Œå¿½ç•¥ä¸Šä¸‹æ–‡
  - ä¿®å¾©ï¼šä»¥æƒ…å¢ƒç†è§£å–ä»£ç¡¬ç·¨ç¢¼è¦å‰‡
    - ç§»é™¤æ‰€æœ‰ã€Œå¦‚æœå®¶é•·åœ¨æ•¸æ•¸/æ¸¬è©¦éº¥å…‹é¢¨ â†’ å›æ‡‰...ã€é¡å‹çš„è¦å‰‡
    - æ–°å¢æŒ‡ç¤ºè¦æ±‚ AI åˆ†æå®Œæ•´å°è©±æƒ…å¢ƒï¼š
      - å°è©±çš„è„ˆçµ¡å’Œæƒ…å¢ƒ
      - å®¶é•·ç•¶ä¸‹çš„äº’å‹•æ–¹å¼
      - å°è©±çš„èµ°å‘
    - æ–°å¢åæ¨¡æ¿æŒ‡ç¤ºï¼šã€Œä¸è¦å¥—ç”¨å›ºå®šæ¨¡æ¿ã€
  - å½±éŸ¿ï¼šAI ç¾åœ¨æ ¹æ“šå¯¦éš›å°è©±æµç¨‹æä¾›ç¬¦åˆæƒ…å¢ƒçš„å›é¥‹
  - æ¸¬è©¦çµæœï¼š9/9 å¿«é€Ÿå›é¥‹æ¸¬è©¦é€šéï¼Œç¾å¯å€åˆ†ç´°å¾®æƒ…å¢ƒå·®ç•°
  - æª”æ¡ˆï¼šapp/services/quick_feedback_service.py:19-39
  - Commitï¼šå¾…æäº¤

- **å¿«é€Ÿå›é¥‹ Token é™åˆ¶ä¿®å¾©** (2026-01-02)
  - å•é¡Œ 1ï¼šå¿«é€Ÿå›é¥‹æ°¸é å›å‚³é è¨­è¨Šæ¯ã€Œç¹¼çºŒä¿æŒï¼Œä½ åšå¾—å¾ˆå¥½ã€
    - æ ¹æœ¬åŸå› ï¼šGoogle Cloud èªè­‰éæœŸ
    - éŒ¯èª¤è¨Šæ¯ï¼š`google.auth.exceptions.RefreshError: Reauthentication is needed`
    - ä¿®å¾©ï¼šé‡æ–°åŸ·è¡Œ `gcloud auth application-default login` ä¸¦é‡å•Ÿä¼ºæœå™¨
  - å•é¡Œ 2ï¼šèªè­‰ä¿®å¾©å¾Œï¼Œå¿«é€Ÿå›é¥‹åªå›å‚³å–®ä¸€å­—å…ƒï¼ˆå¦‚ã€Œä½ ã€ã€ã€Œæ·±ã€ï¼‰
    - æ ¹æœ¬åŸå› ï¼š`max_tokens=100` å¤ªåš´æ ¼ï¼ŒGemini è§¸åŠ MAX_TOKENS ä¸Šé™
    - ä¼ºæœå™¨æ—¥èªŒï¼šã€ŒResponse may be incomplete. Finish reason: 2ã€ï¼ˆ2=MAX_TOKENSï¼‰
    - ç—‡ç‹€ï¼šä¸­æ–‡å­—å…ƒéœ€è¦å¤šå€‹ tokenï¼Œå³ä½¿çŸ­å›æ‡‰ä¹Ÿç„¡æ³•å®Œæ•´è¼¸å‡º
  - ä¿®å¾©ï¼šå¯¦ä½œé›™å±¤é•·åº¦æ§åˆ¶ç­–ç•¥
    - å°‡ `max_tokens` å¾ 100 æé«˜åˆ° 1000ï¼ˆè¼¸å‡ºå®‰å…¨ä¸Šé™ï¼‰
    - ä¿ç•™ prompt æŒ‡ç¤ºã€Œè«‹ç”¨ 1 å¥è©±ï¼ˆ20 å­—å…§ï¼‰ã€ä½œç‚ºå…§å®¹å±¤ç´šæ§åˆ¶
    - ç†ç”±ï¼š`max_output_tokens`ï¼ˆVertex AIï¼‰åªè¨ˆç®—è¼¸å‡º tokenï¼Œä¸å«è¼¸å…¥
    - é€™æ¨£å¯é˜²æ­¢æˆªæ–·ï¼ŒåŒæ™‚çµ¦äºˆè¶³å¤ çš„ token é ç®—ä¾†ç”Ÿæˆå®Œæ•´å¥å­å’Œæ ¼å¼
  - å½±éŸ¿ï¼šå¿«é€Ÿå›é¥‹ç¾åœ¨å¯ç”Ÿæˆå®Œæ•´ã€ç¬¦åˆæƒ…å¢ƒçš„å›æ‡‰
  - æ¸¬è©¦çµæœï¼šã€Œå…ˆåŒç†å­©å­ä¸æƒ³å¯«çš„å¿ƒæƒ…ï¼Œå†å¥½å¥‡ä»–çš„å›°é›£ã€‚ã€ï¼ˆå®Œæ•´å¥å­ï¼Œç„¡æˆªæ–·ï¼‰
  - æª”æ¡ˆï¼šapp/services/quick_feedback_service.py:71
  - Commitï¼šå¾…æäº¤

- **è³‡æ–™åº«é·ç§»ï¼šè£œä¸Šéºå¤±çš„ `last_billed_minutes` æ¬„ä½** (2026-01-02)
  - å•é¡Œï¼šå³æ™‚åˆ†æå¡ä½ï¼Œå› ç‚º `session_usages.last_billed_minutes` æ¬„ä½ä¸å­˜åœ¨
  - æ ¹æœ¬åŸå› ï¼šé·ç§»è…³æœ¬ 02c909267dd6 æ¨™è¨˜ç‚ºå·²åŸ·è¡Œï¼Œä½†æ¬„ä½å¯¦éš›æœªå»ºç«‹
  - ä¿®å¾©ï¼šæ‰‹å‹•æ–°å¢æ¬„ä½ `ALTER TABLE session_usages ADD COLUMN last_billed_minutes INTEGER NOT NULL DEFAULT 0`
  - å½±éŸ¿ï¼šå³æ™‚åˆ†æç¾åœ¨æ­£å¸¸é‹ä½œï¼Œå¢é‡è¨ˆè²»åŠŸèƒ½å¯ç”¨
  - éŒ¯èª¤è¨Šæ¯ï¼š`psycopg2.errors.UndefinedColumn: column session_usages.last_billed_minutes does not exist`

- **æ‰‹æ©Ÿç‰ˆé»æ“Šã€Œå›åˆ°é¦–é ã€æ™‚å®¢æˆ¶æ¸…å–®æœªé‡æ–°è¼‰å…¥** (2026-01-02)
  - å•é¡Œï¼šé»æ“Šã€Œå›åˆ°é¦–é ã€æŒ‰éˆ•æ™‚ï¼Œå®¢æˆ¶æ¸…å–®é¡¯ç¤ºåˆæ¬¡ç™»å…¥æ™‚çš„èˆŠè³‡æ–™
  - æ ¹æœ¬åŸå› ï¼š`goToHome()` å‡½æ•¸æœªå¾ API é‡æ–°è¼‰å…¥å®¢æˆ¶æ¸…å–®
  - åŸå§‹è¡Œç‚ºï¼šé¡¯ç¤ºåˆæ¬¡ç™»å…¥æ™‚å¿«å–çš„ HTMLï¼Œæ²’æœ‰å‘¼å« API
  - ä¿®å¾©ï¼šç›´æ¥åœ¨ `goToHome()` å‡½æ•¸ä¸­å…§åµŒå®¢æˆ¶è¼‰å…¥é‚è¼¯
  - å¯¦ä½œç´°ç¯€ï¼š
    - å°‡ `goToHome()` æ”¹ç‚ºéåŒæ­¥å‡½æ•¸
    - æ–°å¢ `fetch('/api/v1/clients')` API å‘¼å«ï¼ŒåŒ…å«éŒ¯èª¤è™•ç†
    - ä½¿ç”¨ API æœ€æ–°è³‡æ–™é‡æ–°æ¸²æŸ“å®¢æˆ¶æ¸…å–®
    - è™•ç†é‚Šç•Œæƒ…æ³ï¼ˆç„¡å®¢æˆ¶ â†’ é¡¯ç¤ºè¡¨å–®ï¼ŒrenderClientList æœªå®šç¾© â†’ è¨˜éŒ„éŒ¯èª¤ï¼‰
  - å½±éŸ¿ï¼šè¿”å›é¦–é æ™‚å®¢æˆ¶æ¸…å–®æ°¸é æ˜¯æœ€æ–°çš„ï¼Œæ–°å¢çš„å®¢æˆ¶ç«‹å³é¡¯ç¤º
  - æª”æ¡ˆè®Šæ›´ï¼šapp/templates/realtime_counseling.html:399-462
  - Console æ—¥èªŒï¼š`[ONBOARDING] Going back to home`, `[CLIENT_LIST] Fetching clients...`

### æ–°å¢
- **Island Parents æ‰‹æ©Ÿç‰ˆå…¨åŸŸå°èˆª** (2026-01-02)
  - åœ¨æ‰€æœ‰æ‰‹æ©Ÿé é¢æ–°å¢æŒä¹…åŒ–å°èˆªåˆ—
  - åŠŸèƒ½ï¼š
    - å·¦ä¸Šè§’ï¼šã€Œå›åˆ°é¦–é ã€æŒ‰éˆ• - è¿”å›å®¢æˆ¶é¸æ“‡é é¢
    - å³ä¸Šè§’ï¼šã€Œç™»å‡ºã€æŒ‰éˆ•ï¼ˆç´…è‰²ï¼‰- ç™»å‡ºä½¿ç”¨è€…
  - å¯¦ä½œç´°ç¯€ï¼š
    - å›ºå®šæ–¼é ‚éƒ¨çš„ headerï¼Œz-index 9999ï¼ˆæ°¸é åœ¨æœ€ä¸Šå±¤ï¼‰
    - åƒ…åœ¨æ‰‹æ©Ÿé¡¯ç¤ºï¼ˆmd:hiddenï¼‰
    - ç™»å…¥æ™‚è‡ªå‹•é¡¯ç¤ºï¼Œç™»å‡ºæ™‚éš±è—
  - å½±éŸ¿ï¼šæ‰€æœ‰æ‰‹æ©Ÿé é¢å°èˆªä¸€è‡´ï¼Œæ–¹ä¾¿ç™»å‡º
  - æª”æ¡ˆè®Šæ›´ï¼šapp/templates/realtime_counseling.html

- **Island Parents æ‰‹æ©Ÿç‰ˆå¼•å°æµç¨‹å¼·åŒ–** (2026-01-02)
  - é‡æ–°è¨­è¨ˆå…©éšæ®µå¼•å°æµç¨‹ï¼š
    - ç¬¬ä¸€é ï¼šé¸æ“‡æˆ–å»ºç«‹å­©å­
    - ç¬¬äºŒé ï¼šé¸æ“‡æ¨¡å¼ï¼ˆå°è«‡/ç·´ç¿’ï¼‰+ ç¢ºèªå­©å­åç¨±
  - æ–°å¢åŠŸèƒ½ï¼š
    - é¡¯ç¤ºã€Œç¾åœ¨è¦è·Ÿ [å­©å­åç¨±] å°è©±ã€- æ˜ç¢ºå‘ŠçŸ¥å°‡èˆ‡å“ªå€‹å­©å­å°è©±
    - æ¨¡å¼é¸æ“‡é æ–°å¢ã€Œè¿”å›ã€æŒ‰éˆ•ï¼Œå¯é‡æ–°é¸æ“‡å­©å­
    - æŒ‰éˆ•æ–‡å­—æ”¹ç‚ºã€Œé–‹å§‹å°è©±ã€ï¼ˆåŸç‚ºã€Œä¸‹ä¸€æ­¥ã€ï¼‰
  - æ‰‹æ©Ÿå„ªå…ˆï¼šç™»å…¥å¾Œé¦–é å°å‘å®¢æˆ¶é¸æ“‡ï¼Œè€Œéä¸»å…§å®¹
  - å½±éŸ¿ï¼šå®¶é•·å¼•å°é«”é©—æ›´ä½³ï¼Œæ¸…æ¥šçŸ¥é“ç•¶å‰é¸æ“‡çš„å­©å­
  - æª”æ¡ˆè®Šæ›´ï¼šapp/templates/realtime_counseling.html

### è®Šæ›´
- **Island Parents å¿«é€Ÿå›é¥‹æ”¹é€²** (2026-01-02)
  - é–“éš”æ™‚é–“å¾ 10 ç§’å¢åŠ åˆ° 20 ç§’ï¼ˆé™ä½å¹²æ“¾ï¼‰
  - ä¿®æ­£ AI å›æ‡‰çš„æ–·è¡Œå•é¡Œï¼š
    - åœ¨ prompt æ–°å¢ã€ŒCRITICAL: åªè¼¸å‡ºä¸€å¥è©±ï¼Œä¸è¦æ›è¡Œã€
    - åœ¨å›æ‡‰è™•ç†ä¸­ç§»é™¤ `\n` å’Œ `\r` å­—å…ƒ
  - æ”¹ç‚ºå…©è¡Œé¡¯ç¤ºï¼š
    - ä¸Šæ–¹ï¼šæ·±åº¦åˆ†æï¼ˆè¼ƒå¤§ã€ç²—é«”ï¼‰
    - ä¸‹æ–¹ï¼šå¿«é€Ÿå›é¥‹ï¼ˆè¼ƒå°ã€è¼ƒæ·¡ï¼‰
    - ä¸å†è¦†è“‹æ·±åº¦åˆ†æçµæœ
  - å½±éŸ¿ï¼šå›é¥‹ç¯€å¥æ›´è‡ªç„¶ï¼ŒUI å‘ˆç¾æ›´æ¸…æ™°
  - æª”æ¡ˆè®Šæ›´ï¼š
    - app/services/quick_feedback_service.pyï¼ˆprompt + è™•ç†é‚è¼¯ï¼‰
    - app/templates/realtime_counseling.htmlï¼ˆå…©è¡Œé¡¯ç¤ºï¼‰

### ä¿®å¾©
- **æ‰‹æ©Ÿç‰ˆæŒ‰éˆ•é»æ“Šç„¡åæ‡‰** (2026-01-02)
  - ä¿®æ­£ ReferenceError: å‡½æ•¸æœªå®šç¾©å°è‡´ onclick è™•ç†å™¨ç„¡æ³•åŸ·è¡Œ
  - æ ¹æœ¬åŸå› ï¼šå‡½æ•¸å®šç¾©åœ¨ HTML æ¸²æŸ“ä¹‹å¾Œï¼Œonclick å±¬æ€§ç„¡æ³•æ‰¾åˆ°å‡½æ•¸
  - è§£æ±ºæ–¹æ¡ˆï¼šå°‡æ‰€æœ‰æŒ‰éˆ•è™•ç†å‡½æ•¸ç§»åˆ°æ—©æœŸ script æ¨™ç±¤ï¼ˆHTML ä¹‹å‰ï¼‰
  - ç§»å‹•çš„å‡½æ•¸ï¼šlogout(), goToHome(), showClientForm(), backToClientSelection(), setOnboardingMode(), completeOnboarding()
  - å½±éŸ¿ï¼šæ‰€æœ‰æ‰‹æ©Ÿå°èˆªå’Œå¼•å°æµç¨‹æŒ‰éˆ•ç¾åœ¨æ­£å¸¸é‹ä½œ
  - æª”æ¡ˆè®Šæ›´ï¼šapp/templates/realtime_counseling.html
  - æ¸¬è©¦ï¼šChrome æ‰‹æ©Ÿç‰ˆé©—è­‰æ‰€æœ‰ 6 å€‹é—œéµæŒ‰éˆ•

- **æ‰‹æ©Ÿå°èˆª Z-Index å•é¡Œ** (2026-01-02)
  - ä¿®æ­£æ‰‹æ©Ÿå°èˆªè¢« onboarding å®¹å™¨é®è“‹çš„å•é¡Œ
  - å°‡ z-index å¾ z-50 æ”¹ç‚º z-[9999]
  - å½±éŸ¿ï¼šæ‰€æœ‰æ‰‹æ©Ÿé é¢çš„å°èˆªæŒ‰éˆ•ç¾åœ¨æ­£ç¢ºé¡¯ç¤º
  - æª”æ¡ˆè®Šæ›´ï¼šapp/templates/realtime_counseling.html

- **æ‰‹æ©Ÿç‰ˆå®¢æˆ¶é¸æ“‡ç•«é¢é¡¯ç¤º** (2026-01-02)
  - ä¿®æ­£æ‰‹æ©Ÿç™»å…¥å¾Œç©ºç™½ç•«é¢çš„å•é¡Œ
  - åœ¨ checkAuth å‡½æ•¸ä¸­æ˜ç¢ºåˆå§‹åŒ– clientListMode é¡¯ç¤ºç‹€æ…‹
  - å½±éŸ¿ï¼šæ‰‹æ©Ÿç™»å…¥å¾Œæ­£ç¢ºé¡¯ç¤ºå®¢æˆ¶é¸æ“‡ç•«é¢
  - æª”æ¡ˆè®Šæ›´ï¼šapp/templates/realtime_counseling.htmlï¼ˆcheckAuth å‡½æ•¸ï¼‰

- **Web å³æ™‚è«®è©¢ - Island Parents æµç¨‹** (2026-01-02)
  - ä¿®æ­£é è¨­ç§Ÿæˆ¶ï¼šå¾ 'career' æ”¹ç‚º 'island_parents'ï¼ˆå®¶é•·ä½¿ç”¨çš„ç¶²é ä»‹é¢ï¼‰
  - ä¿®æ­£ session åˆå§‹åŒ–ï¼šç¾åœ¨ä½¿ç”¨ onboarding éšæ®µé¸æ“‡çš„å®¢æˆ¶ï¼Œè€Œéç¡¬ç·¨ç¢¼é è¨­å€¼
  - å¯¦ä½œç´°ç¯€ï¼š
    - æ›´æ–° `app/templates/realtime_counseling.html` é è¨­ tenant_id ç‚º 'island_parents'
    - ä¿®æ”¹ session workflowï¼Œå¾ localStorage è®€å– selectedClientId/selectedClientName
    - è‹¥æœ‰é¸æ“‡å®¢æˆ¶ï¼šç‚ºç¾æœ‰å®¢æˆ¶å‰µå»º case å’Œ sessionï¼ˆè³‡æ–™æ­£ç¢ºé—œè¯ï¼‰
    - è‹¥ç„¡å®¢æˆ¶ï¼šfallback å‰µå»ºæ–° client+case+sessionï¼ˆå‘å¾Œç›¸å®¹ï¼‰
  - æµç¨‹æ”¹é€²ï¼š
    - ç™»å…¥ â†’ å®¢æˆ¶é¸æ“‡/å»ºç«‹ â†’ ç·´ç¿’æ¨¡å¼ â†’ åˆ†æï¼ˆå…¨éƒ¨æ­£ç¢ºé—œè¯ï¼‰
    - å®¢æˆ¶è³‡æ–™é€é localStorage åœ¨ç·´ç¿’éšæ®µæŒä¹…åŒ–
    - Case å’Œ session æ­£ç¢ºé—œè¯åˆ°é¸æ“‡çš„å­©å­
  - å½±éŸ¿ï¼šå®¶é•·ç¾åœ¨å¯ä»¥æ­£ç¢ºè¨­å®šå­©å­è³‡è¨Šä¸¦è¿½è¹¤è«®è©¢æ­·å²
  - æª”æ¡ˆè®Šæ›´ï¼šapp/templates/realtime_counseling.html (+88 è¡Œ, -22 è¡Œ)

- **BigQuery åˆ†ææ—¥èªŒæ¬Šé™** (2026-01-02)
  - ç‚º Cloud Run service account æ–°å¢ç¼ºå¤±çš„ BigQuery æ¬Šé™
  - Service account: career-app-sa@groovy-iris-473015-h3.iam.gserviceaccount.com
  - æˆäºˆè§’è‰²ï¼š
    - roles/bigquery.dataEditorï¼ˆå¯«å…¥åˆ†ææ—¥èªŒåˆ°è¡¨æ ¼ï¼‰
    - roles/bigquery.userï¼ˆåŸ·è¡ŒæŸ¥è©¢ï¼‰
  - ä¿®æ­£éŒ¯èª¤ï¼š"Permission bigquery.tables.updateData denied on table realtime_analysis_logs"
  - å½±éŸ¿ï¼šSession åˆ†ææ—¥èªŒç¾åœ¨å¯ä»¥å¯«å…¥ BigQuery ä¾›åˆ†æä½¿ç”¨
  - åƒè€ƒï¼šåˆ†ææ—¥èªŒåŠŸèƒ½åœ¨ app/services/gbq_service.py

- **æ–° Session Workflow çš„é©—è­‰èˆ‡å¿«é€Ÿå›é¥‹ä¿®å¾©** (2026-01-02)
  - ä¿®æ­£å‘¼å« `/api/v1/sessions/{id}/recordings/append` æ™‚çš„ 403 Forbidden éŒ¯èª¤
  - æ ¹æœ¬åŸå› ï¼šAPIClient åœ¨ constructor å¿«å– auth tokenï¼Œä½†ç•¶æ™‚ç”¨æˆ¶å°šæœªç™»å…¥
  - è§£æ±ºæ–¹æ¡ˆï¼šæ¯æ¬¡è«‹æ±‚æ™‚å¾ localStorage é‡æ–°è®€å–æœ€æ–°çš„ auth token
  - ä¿®æ­£ island_parents ç§Ÿæˆ¶ç¼ºå°‘å¿«é€Ÿå›é¥‹å»ºè­°çš„å•é¡Œ
  - æ ¹æœ¬åŸå› ï¼šå¾Œç«¯å›å‚³ `detailed_scripts`ï¼Œå‰ç«¯æœŸå¾… `quick_suggestions`
  - è§£æ±ºæ–¹æ¡ˆï¼šåœ¨ session-workflow.js å°‡ `detailed_scripts` è½‰æ›ç‚ºå»ºè­°æ ¼å¼
  - æ ¼å¼ï¼š`ğŸ’¡ {situation}\n{parent_script}`
  - å° career ç§Ÿæˆ¶ fallback ä½¿ç”¨ `quick_suggestions`ï¼ˆå‘å¾Œç›¸å®¹ï¼‰
  - å½±éŸ¿ï¼šåˆ†æç¾åœ¨å¯ä»¥æ­£ç¢ºé©—è­‰ï¼Œå¿«é€Ÿå›é¥‹æ­£ç¢ºé¡¯ç¤º
  - æª”æ¡ˆè®Šæ›´ï¼š
    - app/static/js/api-client.jsï¼ˆæ¯æ¬¡è«‹æ±‚è®€å– tokenï¼‰
    - app/static/js/session-workflow.jsï¼ˆè½‰æ› detailed_scriptsï¼‰

### æ–°å¢
- **é›™ API åˆ†æç³»çµ± - å¿«é€Ÿå›é¥‹ï¼ˆé›æ¹¯æ–‡ï¼‰+ æ·±åº¦åˆ†æ** (2026-01-02)
  - å¯¦ä½œåŒæ™‚é‹è¡Œçš„å¿«é€Ÿå›é¥‹èˆ‡æ·±åº¦åˆ†æè¨ˆæ™‚å™¨
  - **å¿«é€Ÿå›é¥‹ API**ï¼ˆé›æ¹¯æ–‡ - å³æ™‚é¼“å‹µè¨Šæ¯ï¼‰ï¼š
    - ç«¯é»ï¼šPOST `/api/v1/realtime/quick-feedback`
    - è§¸ç™¼æ™‚æ©Ÿï¼šåœ¨ ğŸŸ¢ ç¶ ç‡ˆå’Œ ğŸŸ¡ é»ƒç‡ˆå®‰å…¨ç­‰ç´šä¸‹ï¼Œæ¯ 10 ç§’è§¸ç™¼ä¸€æ¬¡
    - ğŸ”´ ç´…ç‡ˆæ™‚åœç”¨ï¼ˆ15 ç§’æ·±åº¦åˆ†æå·²ç¶“å¤ å¿«ï¼‰
    - Toast æç¤ºï¼šé»ƒè‰²æ¼¸å±¤ï¼ˆã€Œâš¡ å¿«é€Ÿåˆ†æä¸­...ã€ï¼‰
    - ç›®çš„ï¼šå¡«è£œæ·±åº¦åˆ†æä¹‹é–“çš„ç©ºç™½ï¼Œæä¾›è¼•é‡ç´šé¼“å‹µ
    - å›æ‡‰æ™‚é–“ï¼šç´„ 1-2 ç§’ï¼ˆGemini Flash è¼•é‡ promptï¼‰
  - **æ·±åº¦åˆ†æ API**ï¼ˆå®Œæ•´åˆ†æå«å®‰å…¨ç­‰ç´šæ›´æ–°ï¼‰ï¼š
    - ç«¯é»ï¼šPOST `/api/v1/realtime/analyze`ï¼ˆæ—¢æœ‰ç«¯é»ï¼‰
    - è§¸ç™¼æ™‚æ©Ÿï¼šåŸºæ–¼å®‰å…¨ç­‰ç´šçš„è‡ªé©æ‡‰é–“éš”
      - ğŸŸ¢ ç¶ ç‡ˆï¼šæ¯ 60 ç§’
      - ğŸŸ¡ é»ƒç‡ˆï¼šæ¯ 30 ç§’
      - ğŸ”´ ç´…ç‡ˆï¼šæ¯ 15 ç§’ï¼ˆç¶­æŒä¸è®Šï¼‰
    - Toast æç¤ºï¼šç´«è—æ¼¸å±¤ï¼ˆã€Œâš¡ è‡ªå‹•åˆ†æä¸­...ã€ï¼‰
    - ç›®çš„ï¼šè®Šæ›´å®‰å…¨ç­‰ç´šä¸¦èª¿æ•´åˆ†æé–“éš”
  - **é›™è¨ˆæ™‚å™¨ç¨ç«‹é‹ä½œ**ï¼šå…©å€‹è¨ˆæ™‚å™¨åŒæ™‚é‹è¡Œï¼Œäº’ä¸å¹²æ“¾
  - **UI å¢å¼·**ï¼š
    - æ–°å¢ã€Œå³æ™‚å»ºè­°ã€æ¨™é¡Œåˆ°å»ºè­°å€å¡Š
    - æ–°å¢ã€Œåˆ†æå®Œæˆã€æ¨™ç±¤åœ¨æ¨™é¡Œæ—
    - ä¸åŒ toast é¡è‰²å€åˆ†å¿«é€Ÿ vs æ·±åº¦åˆ†æ
  - æ¶æ§‹ï¼š
    - å¾Œç«¯ï¼š`/app/services/quick_feedback_service.py`ï¼ˆAI é©…å‹•çš„é¼“å‹µè¨Šæ¯ï¼‰
    - å‰ç«¯ï¼šé›™è¨ˆæ™‚å™¨é‚è¼¯åœ¨ `app/templates/realtime_counseling.html`
    - æˆæœ¬ï¼šç¶ ç‡ˆæƒ…å¢ƒä¸‹å¢åŠ  $0.0036/å°æ™‚ï¼ˆ+0.85%ï¼‰
  - å½±éŸ¿ï¼šæŒçºŒçš„å›é¥‹æµç¨‹ï¼Œé¿å…é•·åˆ†æé–“éš”æ™‚çš„ã€Œç©ºç™½æ„Ÿã€
  - æª”æ¡ˆè®Šæ›´ï¼š
    - app/templates/realtime_counseling.htmlï¼ˆé›™è¨ˆæ™‚å™¨å¯¦ä½œï¼‰
    - å¾Œç«¯ï¼šquick_feedback_service.pyã€realtime.pyï¼ˆAPI å·²å­˜åœ¨ï¼‰
  - åƒè€ƒï¼šåŸºæ–¼ `/api/v1/realtime/quick-feedback` ç«¯é»ï¼ˆ2026-01-01 æ–°å¢ï¼‰

### è®Šæ›´
- **Web/iOS API æ¶æ§‹é©—è­‰** (2026-01-01)
  - ç¢ºèª Web ç‰ˆæœ¬å·²é€é `keyword_analysis_service` ä½¿ç”¨ 8 å¤§æµæ´¾ Prompt
  - Web èˆ‡ iOS å…±ç”¨çµ±ä¸€çš„åˆ†æé‚è¼¯ï¼ˆç„¡é‡è¤‡ä»£ç¢¼ï¼‰ï¼š
    - å…©å€‹å¹³å°ä½¿ç”¨ç›¸åŒçš„ promptsï¼ˆä¾†è‡ª `app/prompts/parenting.py`ï¼‰
    - å…©å€‹å¹³å°ä½¿ç”¨ç›¸åŒçš„ 200 å¥å°ˆå®¶å»ºè­°ï¼ˆRAG çŸ¥è­˜åº«ï¼‰
    - å…©å€‹å¹³å°ä½¿ç”¨ç›¸åŒçš„ keyword analysis service
  - API å›æ‡‰æ ¼å¼ä¾å¹³å°ä¸åŒï¼š
    - Web: `RealtimeAnalyzeResponse` (realtime.py)
    - iOS: `IslandParentAnalysisResponse` (sessions_keywords.py)
  - æ ¸å¿ƒåˆ†æé‚è¼¯åœ¨å…©å€‹å¹³å°å®Œå…¨ç›¸åŒ
  - âœ… é‡æ§‹å·²æˆåŠŸå¾ realtime.py ç§»é™¤é‡è¤‡ä»£ç¢¼
  - å½±éŸ¿ï¼šWeb ç„¡éœ€é¡å¤–æ•´åˆ - å·²ç¶“åœ¨ä½¿ç”¨ 8 å¤§æµæ´¾æ¡†æ¶
  - åƒè€ƒï¼šæ¶æ§‹åˆ†æç¢ºèªçµ±ä¸€ç¨‹å¼ç¢¼åŸºç¤ (2026-01-01)

### æ–°å¢
- **Web Session Workflow æ¨¡çµ„åŒ– JavaScript æ¶æ§‹** (2026-01-01)
  - å»ºç«‹æ¨¡çµ„åŒ– JavaScript æ¶æ§‹ï¼Œçµ±ä¸€ Web èˆ‡ iOS çš„ session workflows
  - æ–°å¢æ¨¡çµ„ï¼š
    - `app/static/js/api-client.js` - é›†ä¸­å¼ API é€šè¨Šå±¤ï¼Œå«èªè­‰åŠŸèƒ½
    - `app/static/js/session-workflow.js` - çµ±ä¸€çš„ session ç®¡ç†ï¼ˆiOS é¢¨æ ¼ï¼‰
  - åœ¨ `app/templates/realtime_counseling.html` æ•´åˆ Feature Flagï¼š
    - `USE_NEW_SESSION_WORKFLOW` æ——æ¨™æ§åˆ¶æ–°èˆŠ API è·¯å¾‘
    - æ–° workflowï¼šå»ºç«‹ client+case â†’ å»ºç«‹ session â†’ é™„åŠ éŒ„éŸ³ â†’ åˆ†æ
    - èˆŠ workflowï¼šç›´æ¥å‘¼å« realtime analyze APIï¼ˆä¿ç•™å‘å¾Œç›¸å®¹æ€§ï¼‰
  - Response è½‰æ›å±¤ï¼š
    - è‡ªå‹•å°‡ Session API å›æ‡‰è½‰æ›ç‚º Realtime API æ ¼å¼
    - ç¢ºä¿é›¶ UI è®Šæ›´éœ€æ±‚ï¼ˆ`displayAnalysisCard` å‡½æ•¸å®Œå…¨ç›¸å®¹ï¼‰
  - æ–‡æª”èˆ‡ç¯„ä¾‹ï¼š
    - `docs/web-session-workflow-implementation.md` - å®Œæ•´å¯¦ä½œæŒ‡å—
    - `app/static/js/README.md` - API client èˆ‡ session workflow æ–‡æª”
    - `app/static/integration-example.js` - ç¨ç«‹æ•´åˆç¯„ä¾‹
    - `app/static/test-session-workflow.html` - äº’å‹•å¼æ¸¬è©¦é é¢
  - æ•´åˆæ¸¬è©¦ (`tests/integration/test_web_session_workflow.py`)ï¼š
    - test_complete_web_session_workflow - å®Œæ•´ workflow æ¸¬è©¦
    - test_web_workflow_multiple_analyses - å¤šæ®µåˆ†ææ¸¬è©¦
    - test_web_workflow_emergency_mode - Emergency æ¨¡å¼ workflow æ¸¬è©¦
  - å„ªå‹¢ï¼š
    - **iOS/Web ä¸€è‡´æ€§**ï¼šå…©å€‹å¹³å°ç¾åœ¨ä½¿ç”¨ç›¸åŒçš„ session workflow
    - **å‘å¾Œç›¸å®¹**ï¼šé€é feature flag ä¿ç•™èˆŠ realtime API è·¯å¾‘
    - **æ¨¡çµ„åŒ–è¨­è¨ˆ**ï¼šé—œæ³¨é»æ¸…æ™°åˆ†é›¢ï¼ˆAPI clientã€session workflowã€UIï¼‰
    - **æ˜“æ–¼æ¸¬è©¦**ï¼šç¨ç«‹æ¸¬è©¦é é¢ä¾›å¿«é€Ÿé–‹ç™¼ä½¿ç”¨
  - æ¸¬è©¦è¦†è“‹ï¼š3 å€‹æ–°æ•´åˆæ¸¬è©¦ï¼Œ283 å€‹æ¸¬è©¦å…¨éƒ¨é€šéï¼ˆç„¡è¿´æ­¸ï¼‰
  - Commit: 2ec0033

### è®Šæ›´
- **é™ä½ 8 å¤§æµæ´¾ Prompt ä¸­ Dan Siegel çš„æ¬Šé‡** (2026-01-01)
  - ç‚º Dan Siegel çš„ã€Œå…¨è…¦æ•™é¤Šã€ç†è«–æ·»åŠ ç§‘å­¸çˆ­è­°è­¦å‘Š
  - é‡æ–°æ’åºåˆ†ææ¶æ§‹ï¼Œå„ªå…ˆä½¿ç”¨ ABC è¡Œç‚ºæ¨¡å‹ï¼Œè€Œéè…¦éƒ¨äºŒåˆ†æ³•
  - å°‡ã€Œä¸Šå±¤è…¦/ä¸‹å±¤è…¦ã€è¡“èªæ›¿æ›ç‚ºä¸­æ€§çš„ã€Œæƒ…ç·’ç‹€æ…‹ã€
  - æ›´æ–°ï¼š`app/prompts/parenting.py` - Practice å’Œ Emergency æ¨¡å¼ prompts
  - åŸºæ–¼ Solomon çš„åé¥‹ï¼šå„ªå…ˆä½¿ç”¨å¯¦è­‰åŸºç¤çš„æ–¹æ³•ï¼Œè€Œéæœ‰çˆ­è­°çš„ç†è«–

### æ–°å¢
- **å³æ™‚é¼“å‹µå¿«é€Ÿå›é¥‹ API** (2026-01-01)
  - æ–°å¢ `/api/v1/realtime/quick-feedback` ç«¯é»ï¼Œæä¾›è¼•é‡ç´š AI é©…å‹•çš„é¼“å‹µè¨Šæ¯
  - æä¾› 1-2 ç§’ AI ç”Ÿæˆå›é¥‹ï¼Œå¡«è£œå®Œæ•´åˆ†æé€±æœŸä¹‹é–“çš„ç©ºæª”
  - æ ¹æ“šç‡ˆè™Ÿå‹•æ…‹å”èª¿é »ç‡ï¼Œé¿å…èˆ‡ realtime/analyze è¡çªï¼š
    - ğŸŸ¢ ç¶ ç‡ˆï¼š30 ç§’é–“éš”ï¼ˆè£œå…… 60 ç§’å®Œæ•´åˆ†æï¼‰
    - ğŸŸ¡ é»ƒç‡ˆï¼š15 ç§’é–“éš”ï¼ˆè£œå…… 30 ç§’å®Œæ•´åˆ†æï¼‰
    - ğŸ”´ ç´…ç‡ˆï¼šåœç”¨ï¼ˆ15 ç§’å®Œæ•´åˆ†æå·²è¶³å¤ å¿«é€Ÿï¼‰
  - åŠŸèƒ½ç‰¹æ€§ï¼š
    - ä½¿ç”¨ Gemini Flash çš„æƒ…å¢ƒæ„ŸçŸ¥ AI å›æ‡‰ï¼ˆâ‰¤ 20 å­—ï¼‰
    - è®€å–æœ€è¿‘ 10 ç§’é€å­—ç¨¿ç”¢ç”Ÿé©ç•¶é¼“å‹µ
    - éŒ¯èª¤æ™‚å„ªé›…é™ç´šè‡³é è¨­è¨Šæ¯
    - è¿½è¹¤å»¶é²ä»¥é€²è¡Œæ•ˆèƒ½ç›£æ§
  - æ–°å¢æª”æ¡ˆï¼š
    - `app/services/quick_feedback_service.py` - AI é©…å‹•çš„å¿«é€Ÿå›é¥‹æœå‹™
    - `app/services/encouragement_service.py` - è¦å‰‡å‹å‚™ç”¨æœå‹™ï¼ˆæœªä½¿ç”¨ï¼Œä¿ç•™ä¾›åƒè€ƒï¼‰
    - `app/schemas/realtime.py` - æ–°å¢ QuickFeedbackRequest/Response æ¨¡å‹
  - æ›´æ–°ï¼š`app/api/realtime.py` - æ•´åˆ quick_feedback_service
  - æ–‡æª”ï¼š
    - `docs/encouragement_api_integration.md` - å®Œæ•´ iOS æ•´åˆæŒ‡å—ï¼ˆå« Swift ç¯„ä¾‹ï¼‰
    - `docs/encouragement_services_report.md` - æ•ˆèƒ½æ¯”è¼ƒï¼ˆè¦å‰‡å‹ vs AI é©…å‹•ï¼‰
  - æˆæœ¬å½±éŸ¿ï¼šç¶ ç‡ˆæƒ…å¢ƒæ¯å°æ™‚ +$0.0036ï¼ˆ+0.85%ï¼‰
  - å‘å¾Œç›¸å®¹ï¼šæ–°ç«¯é»ï¼Œç¾æœ‰ API ç„¡è®Šæ›´
  - æ¸¬è©¦ï¼š`tests/integration/test_quick_feedback_api.py`ï¼ˆ9 å€‹æ¸¬è©¦ï¼š3 å€‹é€šéï¼Œ6 å€‹éœ€è¦ GCP èªè­‰ï¼‰

- **8 å¤§æ•™é¤Šæµæ´¾ - è©³ç´°è©±è¡“èˆ‡ç†è«–æ¡†æ¶** (2025-12-31)
  - æ•´åˆ 8 å¤§è¦ªå­æ•™é¤Šç†è«–è‡³ island_parents ç§Ÿæˆ¶ prompts
  - Practice Mode æ–°å¢å›æ‡‰æ¬„ä½ï¼š
    - `detailed_scripts`: é€æ­¥å°è©±æŒ‡å°ï¼ˆ100-300 å­—å…·é«”å°è©±ç¯„ä¾‹ï¼‰
    - `theoretical_frameworks`: ç†è«–æ­¸å› ï¼ˆæ¨™è¨»ä½¿ç”¨çš„æµæ´¾ï¼‰
  - Schema æ“´å……ï¼š
    - æ–°å¢ `DetailedScript` æ¨¡å‹ï¼ŒåŒ…å«æ¬„ä½ï¼šsituation, parent_script, child_likely_response, theory_basis, step
    - æ“´å…… `IslandParentAnalysisResponse`ï¼Œæ–°å¢é¸å¡«æ¬„ä½ detailed_scripts èˆ‡ theoretical_frameworks
  - Prompt æª”æ¡ˆï¼š
    - `app/prompts/island_parents_8_schools_practice_v1.py`ï¼ˆPractice Mode - è©³ç´°æ•™å­¸ç‰ˆï¼‰
    - `app/prompts/island_parents_8_schools_emergency_v1.py`ï¼ˆEmergency Mode - å¿«é€Ÿå»ºè­°ç‰ˆï¼‰
  - å‘å¾Œç›¸å®¹ï¼šæ‰€æœ‰æ–°æ¬„ä½çš†ç‚º Optionalï¼ŒEmergency Mode ä¿æŒç°¡æ½”ï¼ŒCareer ç§Ÿæˆ¶ä¸å—å½±éŸ¿
  - æ•´åˆæ¸¬è©¦ï¼š`tests/integration/test_8_schools_prompt_integration.py`
  - æ¸¬è©¦å ´æ™¯ï¼šPractice/Emergency æ¨¡å¼é¸æ“‡ã€Schema é©—è­‰ã€å®‰å…¨ç­‰ç´šè©•ä¼°ã€Token è¿½è¹¤
  - æ›´æ–°ï¼š`app/services/keyword_analysis_service.py`ã€`app/schemas/analysis.py`ã€`PRD.md`
  - åŸºç¤æª”æ¡ˆï¼š`scripts/README_8_SCHOOLS_PROMPT.md`ã€`scripts/PROMPT_COMPARISON.md`ã€`scripts/test_8_schools_prompt.py`
  - åƒè€ƒï¼š`docs/PARENTING_THEORIES.md` - 8 å¤§æ•™é¤Šæµæ´¾ç†è«–å®Œæ•´æŒ‡å—

- **analyze-partial API è«®è©¢æ¨¡å¼æ”¯æ´** (2025-12-31)
  - island_parents ç§Ÿæˆ¶æ–°å¢ `mode` åƒæ•¸
    - `emergency`: å¿«é€Ÿã€ç°¡åŒ–åˆ†æï¼ˆ1-2 å€‹é—œéµå»ºè­°ï¼‰
    - `practice`: è©³ç´°æ•™å­¸æ¨¡å¼ï¼ˆ3-4 å€‹å»ºè­°å«æŠ€å·§èªªæ˜ï¼‰
  - å‘å¾Œç›¸å®¹ï¼šé¸å¡«åƒæ•¸ï¼Œé è¨­ç‚º `practice`
  - Career ç§Ÿæˆ¶ï¼šå¿½ç•¥ mode åƒæ•¸ï¼ˆä¸é©ç”¨ï¼‰
  - realtime.py bug ä¿®å¾©ï¼šGBQ ä¸­åˆ†é›¢ `analysis_type` èˆ‡ `mode` æ¬„ä½
  - 4 å€‹æ•´åˆæ¸¬è©¦ï¼šemergency æ¨¡å¼ã€practice æ¨¡å¼ã€é è¨­å€¼ã€career å¿½ç•¥
  - æ›´æ–°ï¼š`app/schemas/analysis.py`ã€`app/api/sessions_keywords.py`ã€`app/services/keyword_analysis_service.py`ã€`app/api/realtime.py`
  - æ¸¬è©¦ï¼š`tests/integration/test_analyze_partial_api.py`ï¼ˆç¬¬ 472-730 è¡Œï¼‰

- **é…ç½®ç®¡ç†æ–‡æª”** (2025-12-31)
  - å»ºç«‹ `docs/CONFIGURATION.md` - Single Source of Truth é…ç½®æŒ‡å—
  - æ¨¡å‹é¸æ“‡æŒ‡å—ï¼ˆGemini 3 Flashã€2.0 Flashã€1.5 Proï¼‰
  - å€åŸŸç›¸å®¹æ€§æ–‡æª”ï¼ˆglobal vs us-central1ï¼‰
  - åæ¨¡å¼è­¦å‘Šèˆ‡ç–‘é›£æ’è§£æŒ‡å—

- **RFC 7807 æ¨™æº–åŒ–éŒ¯èª¤è™•ç†** (2025-12-31)
  - å¯¦ä½œ RFC 7807ï¼ˆHTTP API å•é¡Œè©³æƒ…ï¼‰æ¨™æº–ï¼Œçµ±ä¸€æ‰€æœ‰éŒ¯èª¤å›æ‡‰æ ¼å¼
  - æ‰€æœ‰ API éŒ¯èª¤ç¾åœ¨è¿”å›ä¸€è‡´çš„ JSON æ ¼å¼ï¼ŒåŒ…å« `type`ã€`title`ã€`status`ã€`detail` å’Œ `instance` æ¬„ä½
  - æ–°å¢å®Œæ•´çš„éŒ¯èª¤è™•ç†æ¨¡çµ„ï¼š
    - `app/core/exceptions.py` - è‡ªå®šç¾©ä¾‹å¤–é¡åˆ¥ï¼ˆBadRequestErrorã€UnauthorizedErrorã€ForbiddenErrorã€NotFoundErrorã€ConflictErrorã€UnprocessableEntityErrorã€InternalServerErrorï¼‰
    - `app/core/errors.py` - éŒ¯èª¤æ ¼å¼åŒ–å·¥å…·ï¼Œæ”¯æ´å¤šèªè¨€ï¼ˆè‹±æ–‡/ä¸­æ–‡ï¼‰
    - `app/middleware/error_handler.py` - å…¨åŸŸéŒ¯èª¤è™•ç†ä¸­ä»‹è»Ÿé«”
  - æ›´æ–°ç«¯é»ä»¥ä½¿ç”¨ RFC 7807 æ ¼å¼ï¼š
    - `app/api/auth.py` - æ‰€æœ‰èªè­‰ç«¯é»ï¼ˆè¨»å†Šã€ç™»å…¥ã€å€‹äººè³‡æ–™æ›´æ–°ï¼‰
    - `app/api/sessions.py` - æ‰€æœ‰æœƒè«‡ç®¡ç†ç«¯é»
  - éŒ¯èª¤ç‹€æ…‹ç¢¼æ”¹é€²ï¼š
    - å°‡é‡è¤‡è³‡æºéŒ¯èª¤å¾ 400 æ”¹ç‚º 409ï¼ˆConflictï¼‰- èªæ„æ›´æ­£ç¢º
    - ç¶­æŒéŒ¯èª¤è¨Šæ¯å…§å®¹çš„å‘å¾Œç›¸å®¹æ€§
  - æ–°å¢ 31 å€‹å–®å…ƒæ¸¬è©¦ï¼ˆ`tests/unit/test_errors.py`ï¼‰æ¶µè“‹æ‰€æœ‰éŒ¯èª¤é¡å‹å’Œé‚Šç•Œæƒ…æ³
  - æ–°å¢ 18 å€‹æ•´åˆæ¸¬è©¦ï¼ˆ`tests/integration/test_error_handling.py`ï¼‰é©—è­‰ç«¯å°ç«¯éŒ¯èª¤æ ¼å¼
  - å„ªé»ï¼š
    - **ä¸€è‡´æ€§**ï¼šæ‰€æœ‰éŒ¯èª¤éµå¾ªç›¸åŒå¯é æ¸¬çš„çµæ§‹
    - **ç¬¦åˆæ¨™æº–**ï¼šéµå¾ª IETF RFC 7807 è¦ç¯„
    - **å‰ç«¯å‹å–„**ï¼šiOS app æ›´å®¹æ˜“è§£æå’Œé¡¯ç¤ºéŒ¯èª¤
    - **åœ‹éš›åŒ–**ï¼šå…§å»ºä¸­æ–‡éŒ¯èª¤è¨Šæ¯æ”¯æ´
    - **é™¤éŒ¯**ï¼šinstance æ¬„ä½é¡¯ç¤ºå¤±æ•—çš„ç¢ºåˆ‡ç«¯é»
  - éŒ¯èª¤å›æ‡‰ç¯„ä¾‹ï¼š
    ```json
    {
      "type": "https://api.career-counseling.app/errors/not-found",
      "title": "Not Found",
      "status": 404,
      "detail": "Session not found",
      "instance": "/api/v1/sessions/123e4567-e89b-12d3-a456-426614174000"
    }
    ```

### è®Šæ›´
- **é…ç½®ç®¡ç†é‡æ§‹ - Single Source of Truth** (2025-12-31)
  - é‡æ§‹é…ç½®ç®¡ç†ä»¥å»ºç«‹ Single Source of Truth æ¨¡å¼
  - å¾ service æ¨¡çµ„ç§»é™¤æ‰€æœ‰ `getattr()` fallback defaults
  - æ‰€æœ‰æ¨¡çµ„ç¾åœ¨ç›´æ¥ä½¿ç”¨ `app/core/config.py` çš„ `settings`
  - ä¿®æ”¹æª”æ¡ˆï¼š
    - `app/services/gemini_service.py` - ç§»é™¤ç¬¬ 12-21 è¡Œ fallbacksï¼Œç›´æ¥ä½¿ç”¨ settings
    - `app/services/cache_manager.py` - ç§»é™¤ç¬¬ 25-31 è¡Œ fallbacksï¼Œç°¡åŒ–åˆå§‹åŒ–
    - `scripts/test_config.py` - å»ºç«‹é›†ä¸­å¼æ¸¬è©¦é…ç½®æ¨¡çµ„
  - æ›´æ–° 3 å€‹æ¸¬è©¦è…³æœ¬ä»¥ä½¿ç”¨çµ±ä¸€é…ç½®
  - å½±éŸ¿ï¼šæ¨¡å‹è®Šæ›´ç¾åœ¨åªéœ€æ›´æ–° .env æˆ– config.pyï¼ˆSingle Source of Truthï¼‰
  - é©—è­‰ï¼š29/29 æ•´åˆæ¸¬è©¦é€šéï¼Œé…ç½®åŠ è¼‰å·²é©—è­‰
  - ç¯€çœæ™‚é–“ï¼šæ¨¡å‹è®Šæ›´å¾ 5 å€‹æª”æ¡ˆ â†’ 1 å€‹æª”æ¡ˆ
  - åƒè€ƒï¼š`docs/CONFIGURATION.md`

### ç§»é™¤
- **CodeerProvider æ”¯æ´** (2025-12-31)
  - ç§»é™¤ Codeer AI provider æ•´åˆä»¥ç°¡åŒ–ç¨‹å¼ç¢¼
  - ç¾åœ¨çµ±ä¸€ä½¿ç”¨ Gemini é€²è¡Œæ‰€æœ‰åˆ†æ
  - å½±éŸ¿ï¼šé™ä½è¤‡é›œåº¦ã€æ›´æ˜“ç¶­è­·ã€æä¾›è€…ä¸€è‡´
  - åŸå› ï¼šCodeer å¯¦æ¸¬æ•ˆæœä¸ä½³
  - ä¿®æ”¹æª”æ¡ˆï¼š
    - `app/schemas/realtime.py` - å¾ `RealtimeAnalyzeRequest` ç§»é™¤ `provider` å’Œ `codeer_model` åƒæ•¸
    - `app/schemas/realtime.py` - ç§»é™¤ `CodeerTokenMetadata` schema
    - `app/api/realtime.py` - ç§»é™¤ Codeer provider è·¯ç”±é‚è¼¯
    - `app/api/realtime.py` - ç§»é™¤ `_analyze_with_codeer()` å‡½æ•¸
    - `app/core/config.py` - ç§»é™¤æ‰€æœ‰ CODEER_* è¨­å®šæ¬„ä½
    - `app/models/session_analysis_log.py` - æ›´æ–° provider è¨»è§£ç§»é™¤ "codeer"
  - åˆªé™¤æª”æ¡ˆï¼š
    - `app/services/codeer_client.py` - Codeer API å®¢æˆ¶ç«¯
    - `app/services/codeer_session_pool.py` - Codeer session pooling
    - `tests/integration/test_realtime_codeer_provider.py` - Codeer provider æ¸¬è©¦
    - `scripts/list_codeer_agents.py` - Agent åˆ—è¡¨è…³æœ¬
    - `scripts/validate_codeer_cache.py` - Cache é©—è­‰è…³æœ¬
    - `scripts/test_all_codeer_models.py` - æ¨¡å‹æ¸¬è©¦è…³æœ¬
  - æ³¨æ„ï¼šiOS app æ‡‰ç§»é™¤ API è«‹æ±‚ä¸­çš„ `provider` åƒæ•¸

### æ–°å¢
- **æ–‡æª”** (2025-12-31)
  - å»ºç«‹ `docs/PARENTING_THEORIES.md` - 8 å¤§æ•™é¤Šæµæ´¾ç†è«–å®Œæ•´æŒ‡å—
    - è©³ç´°èªªæ˜å„æµæ´¾æ¡†æ¶ï¼ˆæ­£å‘æ•™é¤Šã€è–©æçˆ¾ã€é˜¿å¾·å‹’ã€è’™ç‰¹æ¢­åˆ©ã€éæš´åŠ›æºé€šã€ä¾é™„ç†è«–ã€æƒ…ç·’æ•™é¤Šã€è¡Œç‚ºä¸»ç¾©ï¼‰
    - API æ•´åˆç¯„ä¾‹å±•ç¤º theoretical_frameworks å¦‚ä½•è¿”å›
    - AI åˆ†æä½¿ç”¨æº–å‰‡
  - å»ºç«‹ `docs/LOGIN_ERROR_MESSAGES.md` - ç™»å…¥éŒ¯èª¤è¨Šæ¯å®‰å…¨è¦ç¯„
    - çµ±ä¸€éŒ¯èª¤è¨Šæ¯é˜²æ­¢å¸³è™Ÿåˆ—èˆ‰æ”»æ“Š
    - Backend/Frontend å¯¦ä½œæŒ‡å—
    - å®‰å…¨æ—¥èªŒè¨˜éŒ„èˆ‡é€Ÿç‡é™åˆ¶è¦ç¯„
    - ç¬¦åˆ OWASP æ¨™æº–çš„èªè­‰éŒ¯èª¤è™•ç†

### ä¿®å¾©
- **Cloud Run éƒ¨ç½² - å­¤ç«‹çš„ Alembic Revision** (2026-01-01)
  - ä¿®å¾© Cloud Run éƒ¨ç½²å¤±æ•—ï¼šå®¹å™¨ç„¡æ³•åœ¨ port 8080 å•Ÿå‹•
  - æ ¹æœ¬åŸå› ï¼šè³‡æ–™åº«æœ‰å­¤ç«‹çš„ revision `58545e695a2d` (å·²åˆªé™¤çš„ organization management migration)
  - Cloud Run logs çœŸæ­£éŒ¯èª¤ï¼š`Can't locate revision identified by '58545e695a2d'`
  - æ™‚é–“è»¸ï¼š
    - Commit ccbfc95 æ–°å¢ organization management åŠŸèƒ½èˆ‡ migration 58545e695a2d
    - Migration å·²éƒ¨ç½²è‡³ staging è³‡æ–™åº«
    - Commit 3c87a32 revert åŠŸèƒ½ä¸¦åˆªé™¤ migration æª”æ¡ˆ
    - è³‡æ–™åº«ä¿ç•™ alembic_version ä¸­çš„ 58545e695a2d ç´€éŒ„
    - å¾ŒçºŒéƒ¨ç½²å¤±æ•—ï¼Œå› ç‚º alembic æ‰¾ä¸åˆ°è©²æª”æ¡ˆ
  - è§£æ±ºæ–¹æ¡ˆï¼šå»ºç«‹ä¿®å¾© script æ›´æ–°è³‡æ–™åº« revision è‡³æ­£ç¢ºå€¼ (6b32af0c9441)
  - å¯¦ä½œç´°ç¯€ï¼š
    - æ–°å¢ scripts/fix_alembic_version.py æ›´æ–° alembic_version è¡¨
    - ä¿®æ”¹ scripts/start.sh åœ¨ migrations å‰åŸ·è¡Œä¿®å¾©
    - åˆªé™¤éŒ¯èª¤æ¢å¾©çš„ migration æª”æ¡ˆ
  - å…ˆå‰çš„èª¿æŸ¥å˜—è©¦ (SSL é…ç½®ã€DATABASE_URLã€æ¢å¾© migration æª”æ¡ˆ) éƒ½ä¸æ­£ç¢º
  - å½±éŸ¿ï¼šæˆåŠŸå•Ÿç”¨ Cloud Run éƒ¨ç½²èˆ‡è³‡æ–™åº« migration
  - ä¿®æ”¹æª”æ¡ˆï¼šscripts/fix_alembic_version.py (æ–°å¢)ã€scripts/start.shã€åˆªé™¤ 58545e695a2d migration

- **æ¸¬è©¦å¥—ä»¶å¯é æ€§** (2025-12-31)
  - ä¿®å¾©æ•´åˆæ¸¬è©¦ä¸­çš„ GCP æ†‘è­‰é©—è­‰æª¢æŸ¥
  - æ¸¬è©¦ç¾åœ¨æœƒåœ¨æ†‘è­‰ç„¡æ•ˆæ™‚æ­£ç¢ºè·³éï¼ˆä¸åƒ…æ˜¯ç¼ºå°‘æ†‘è­‰ï¼‰
  - ä¿®å¾© session usage credit deduction æ¸¬è©¦ä¸­çš„æ™‚é–“è¨ˆç®—éŒ¯èª¤
  - å½±éŸ¿ï¼šæ¸¬è©¦å¥—ä»¶ç¾åœ¨å¯é åœ°é€šéï¼ˆ280 é€šéã€90 è·³éã€0 å¤±æ•—ï¼‰
  - ä¿®æ”¹æª”æ¡ˆï¼š
    - `tests/integration/test_token_usage_response.py` - æ–°å¢æ­£ç¢ºçš„ GCP èªè­‰é©—è­‰
    - `tests/integration/test_session_usage_api.py` - ä¿®å¾©åˆ†é˜æº¢ä½å•é¡Œï¼ˆä½¿ç”¨ timedeltaï¼‰

- **RAG åŸ·è¡Œé †åº Bug - é—œéµä¿®å¾©** (2025-12-31)
  - ä¿®å¾©é‡å¤§ bugï¼šRAG æª¢ç´¢åœ¨ Gemini èª¿ç”¨ä¹‹å¾ŒåŸ·è¡Œ
  - RAG ä¸Šä¸‹æ–‡ç¾åœ¨åœ¨ AI åˆ†æå‰æ­£ç¢ºåŒ…å«åœ¨ AI prompts ä¸­
  - å½±éŸ¿ï¼šRAG çŸ¥è­˜ç¾åœ¨å¯¦éš›è¢« AI ä½¿ç”¨ï¼Œå›æ‡‰å“è³ªæ›´å¥½ï¼ˆ200+ å°ˆå®¶å»ºè­°ï¼‰
  - æ ¹æœ¬åŸå› ï¼šRAG åœ¨ Gemini ä¹‹å¾Œèª¿ç”¨ï¼Œå°è‡´å®Œå…¨å¤±æ•ˆ
  - ä¿®æ”¹æª”æ¡ˆï¼š`app/services/keyword_analysis_service.py`
    - å°‡ RAG æª¢ç´¢ç§»åˆ° prompt å»ºæ§‹ä¹‹å‰ï¼ˆç¬¬ 143-177 è¡Œï¼‰
    - å°‡ RAG ä¸Šä¸‹æ–‡åŠ å…¥ prompt æ¨¡æ¿ï¼ˆç¬¬ 194 è¡Œï¼‰
    - æ–°å¢æ¸…æ™°çš„æ­¥é©Ÿè¨»è§£ä»¥æé«˜å¯è®€æ€§
  - é©—è­‰ï¼š113/113 æ¸¬è©¦é€šéï¼ˆæ–°å¢ 7 å€‹ RAG æ¸¬è©¦ï¼‰
  - å“è³ªæå‡ï¼šAI åˆ†æç¾åœ¨ä½¿ç”¨è¦ªå­æ•™é¤Šè³‡æ–™åº«çš„å°ˆå®¶çŸ¥è­˜
  - æ€§èƒ½å½±éŸ¿ï¼š0 ç§’ï¼ˆåƒ…åŸ·è¡Œé †åºè®Šæ›´ï¼‰
  - æ–‡æª”ï¼š`docs/bugfix_rag_integration.md`
  - Git commit: 82cd8d1

- **Token Usage å›æ‡‰** (2025-12-31)
  - ä¿®å¾© API å›æ‡‰ fallback å ´æ™¯ä¸­ç¼ºå°‘ token_usage çš„å•é¡Œ
  - token_usage ç¾åœ¨æ°¸é åŒ…å«ï¼ˆAI èª¿ç”¨å¤±æ•—æ™‚ç‚ºé›¶å€¼ï¼‰
  - å½±éŸ¿ï¼šAPI å›æ‡‰ schema ä¸€è‡´æ€§ã€æ›´å¥½çš„éŒ¯èª¤ç›£æ§
  - ä¿®æ”¹æª”æ¡ˆï¼š`app/services/keyword_analysis_service.py`
    - æ›´æ–° `_get_tenant_fallback_result()` ä»¥åŒ…å« `_metadata` èˆ‡ `token_usage`
    - ç¢ºä¿ token_usage åœ¨ API å›æ‡‰ä¸­æ°¸ä¸ç‚º null

### ç§»é™¤
- **ç§»é™¤ CacheManager** (2025-12-31)
  - ç§»é™¤ Gemini Context Caching å¯¦ä½œï¼ˆå¯¦æ¸¬æ•ˆæœ 28%ï¼Œé æœŸ 50%ï¼‰
  - Vertex AI Context Caching API å°‡æ–¼ 2026-06-24 æ£„ç”¨
  - åˆªé™¤æª”æ¡ˆï¼š
    - `app/services/cache_manager.py` (216 è¡Œ)
    - `scripts/cleanup_caches.py` (49 è¡Œ)
    - `tests/integration/test_realtime_cache.py` (å®Œæ•´æ¸¬è©¦æª”æ¡ˆ)
  - ä¿®æ”¹æª”æ¡ˆï¼š
    - `app/api/realtime.py` - ç§»é™¤ cache_manager import å’Œå¿«å–é‚è¼¯
    - `app/services/gemini_service.py` - ç§»é™¤ analyze_with_cache æ–¹æ³•å’Œå¿«å– import
    - `scripts/compare_four_providers.py` - ç§»é™¤å¿«å–ä½¿ç”¨
  - æˆæœï¼šç°¡åŒ–æ¶æ§‹ã€æ¸›å°‘ 300 è¡Œä»£ç¢¼ã€é™ä½ç¶­è­·æˆæœ¬

### æ–°å¢
- **8 å¤§æµæ´¾è¦ªå­æ•™é¤Š Prompt æ•´åˆ** (2025-12-31)
  - âœ… æ•´åˆ 8 å¤§è¦ªå­æ•™é¤Šç†è«–è‡³ island_parents ç§Ÿæˆ¶ prompts
    1. é˜¿å¾·å‹’æ­£å‘æ•™é¤Šï¼ˆå°Šé‡ã€åˆä½œã€æº«å’Œè€Œå …å®šï¼‰
    2. è–©æçˆ¾æ¨¡å¼ï¼ˆå†°å±±ç†è«–ã€æ¢ç´¢æ·±å±¤éœ€æ±‚ï¼‰
    3. è¡Œç‚ºåˆ†æå­¸æ´¾ï¼ˆABAã€ABC æ¨¡å¼ã€ç’°å¢ƒè¨­è¨ˆï¼‰
    4. äººéš›ç¥ç¶“ç”Ÿç‰©å­¸ï¼ˆå…¨è…¦æ•™é¤Šã€æƒ…ç·’å„ªå…ˆï¼‰
    5. æƒ…ç·’è¼”å°ï¼ˆæƒ…ç·’æ¨™è¨»ã€åŒç†ã€è¨­é™ï¼‰
    6. å”ä½œè§£æ±ºå•é¡Œï¼ˆRoss Greene CPSï¼‰
    7. ç¾ä»£ä¾é™„èˆ‡å…§åœ¨è§€é»ï¼ˆDr. Becky Kennedyï¼‰
    8. ç¤¾æœƒæ„è­˜æ•™é¤Šï¼ˆæ€§åˆ¥å¹³æ¬Šã€èº«é«”è‡ªä¸»æ¬Šï¼‰
  - âœ… **æ–°å¢å›æ‡‰æ¬„ä½**ï¼ˆisland_parents Practice Modeï¼‰ï¼š
    - `detailed_scripts`: é€å­—ç¨¿ç´šåˆ¥è©±è¡“æŒ‡å°ï¼ˆ100-300 å­—å…·é«”å°è©±ç¯„ä¾‹ï¼‰
    - `theoretical_frameworks`: ç†è«–ä¾†æºè¿½æº¯ï¼ˆæ¨™è¨»ä½¿ç”¨çš„æµæ´¾ï¼‰
  - âœ… **Schema æ“´å……**ï¼š
    - æ–°å¢ `DetailedScript` æ¨¡å‹ï¼ŒåŒ…å«æ¬„ä½ï¼šsituation, parent_script, child_likely_response, theory_basis, step
    - æ“´å…… `IslandParentAnalysisResponse`ï¼Œæ–°å¢é¸å¡«æ¬„ä½ detailed_scripts èˆ‡ theoretical_frameworks
  - âœ… **Prompt æª”æ¡ˆ**ï¼š
    - `app/prompts/island_parents_8_schools_practice_v1.py`ï¼ˆPractice Mode - è©³ç´°æ•™å­¸ç‰ˆï¼‰
    - `app/prompts/island_parents_8_schools_emergency_v1.py`ï¼ˆEmergency Mode - å¿«é€Ÿå»ºè­°ç‰ˆï¼‰
  - âœ… **å‘å¾Œç›¸å®¹**ï¼š
    - æ‰€æœ‰æ–°æ¬„ä½çš†ç‚º Optionalï¼ˆä¸å½±éŸ¿ç¾æœ‰ API èª¿ç”¨ï¼‰
    - Emergency Mode ä¿æŒç°¡æ½”ï¼ˆä¸æä¾› detailed_scriptsï¼‰
    - Career ç§Ÿæˆ¶ä¸å—å½±éŸ¿
  - âœ… **æ•´åˆæ¸¬è©¦**: `tests/integration/test_8_schools_prompt_integration.py`
    - æ¸¬è©¦å ´æ™¯ï¼šPractice/Emergency æ¨¡å¼é¸æ“‡ã€Schema é©—è­‰ã€å®‰å…¨ç­‰ç´šè©•ä¼°ã€Token è¿½è¹¤
  - ğŸ“ æ›´æ–°ï¼š`app/services/keyword_analysis_service.py`ã€`app/schemas/analysis.py`ã€`PRD.md`
  - ğŸ“ åŸºç¤æª”æ¡ˆï¼š`scripts/README_8_SCHOOLS_PROMPT.md`ã€`scripts/PROMPT_COMPARISON.md`ã€`scripts/test_8_schools_prompt.py`
- **analyze-partial API è«®è©¢æ¨¡å¼æ”¯æ´** (2025-12-31)
  - âœ… island_parents ç§Ÿæˆ¶æ–°å¢ `mode` åƒæ•¸
    - `emergency`: å¿«é€Ÿã€ç°¡åŒ–åˆ†æï¼ˆ1-2 å€‹é—œéµå»ºè­°ï¼‰
    - `practice`: è©³ç´°æ•™å­¸æ¨¡å¼ï¼ˆ3-4 å€‹å»ºè­°å«æŠ€å·§èªªæ˜ï¼‰
  - âœ… å‘å¾Œç›¸å®¹ï¼šé¸å¡«åƒæ•¸ï¼Œé è¨­ç‚º `practice`
  - âœ… Career ç§Ÿæˆ¶ï¼šå¿½ç•¥ mode åƒæ•¸ï¼ˆä¸é©ç”¨ï¼‰
  - âœ… realtime.py bug ä¿®å¾©ï¼šGBQ ä¸­åˆ†é›¢ `analysis_type` èˆ‡ `mode` æ¬„ä½
  - âœ… 4 å€‹æ•´åˆæ¸¬è©¦ï¼šemergency æ¨¡å¼ã€practice æ¨¡å¼ã€é è¨­å€¼ã€career å¿½ç•¥
  - ğŸ“ æ›´æ–°ï¼š`app/schemas/analysis.py`ã€`app/api/sessions_keywords.py`ã€`app/services/keyword_analysis_service.py`ã€`app/api/realtime.py`
  - ğŸ“ æ¸¬è©¦ï¼š`tests/integration/test_analyze_partial_api.py`ï¼ˆç¬¬ 472-730 è¡Œï¼‰
- **æ€§èƒ½åˆ†æèˆ‡æ¸¬è©¦åŸºç¤è¨­æ–½** (2025-12-31)
  - âœ… æ€§èƒ½åˆ†ææ–‡æª”ï¼š
    - `docs/LIGHT_VS_HEAVY_ANALYSIS.md` - é€Ÿåº¦å°æ¯”å ±å‘Šï¼ˆè¦å‰‡å¼ vs Gemini è¼•é‡ vs Gemini é‡é‡ï¼‰
    - `docs/OPTIMIZATION_OPPORTUNITIES.md` - å„ªåŒ–æ©Ÿæœƒåˆ†æèˆ‡å„ªå…ˆç´šæ’åº
  - âœ… æ€§èƒ½æ¸¬è©¦è…³æœ¬ï¼ˆ7 å€‹ï¼‰ï¼š
    - `scripts/test_vertex_ai_caching.py` - Vertex AI Context Caching æ€§èƒ½æ¸¬è©¦
    - `scripts/test_gemini_context_caching.py` - Gemini Context Caching æ¸¬è©¦
    - `scripts/test_light_vs_heavy_analysis.py` - è¼•é‡ vs é‡é‡åˆ†æå°æ¯”
    - `scripts/test_timing_average.py` - å¹³å‡æ™‚é–“æ¸¬è©¦ï¼ˆ5 æ¬¡è¿­ä»£ï¼‰
    - `scripts/test_detailed_timing.py` - è©³ç´°è¨ˆæ™‚åˆ†è§£
    - `scripts/test_real_api_e2e.py` - çœŸå¯¦ API ç«¯åˆ°ç«¯æ¸¬è©¦
    - `scripts/test_real_gemini_speed.py` - Gemini API é€Ÿåº¦æ¸¬è©¦
  - âœ… å·¥å…·è…³æœ¬ï¼š
    - `scripts/check_test_account.py` - æ¸¬è©¦å¸³è™Ÿé©—è­‰
    - `scripts/verify_password.py` - å¯†ç¢¼é©—è­‰å·¥å…·
  - ğŸ“Š é—œéµç™¼ç¾ï¼š
    - Gemini 3 Flashï¼šå¹³å‡ 5.61 ç§’ï¼ˆæ¯” Gemini 2.5 Flash å¿« 45%ï¼‰
    - Context Cachingï¼š28.4% æ”¹å–„ï¼ˆéå®£ç¨±çš„ 50%ï¼ŒAPI å°‡æ–¼ 2026-06 æ£„ç”¨ï¼‰
    - ä¸»è¦ç“¶é ¸ï¼šGemini APIï¼ˆ4.64 ç§’ï¼Œ83%ï¼‰+ RAG æª¢ç´¢ï¼ˆ0.97 ç§’ï¼Œ17%ï¼‰
    - å»ºè­°ï¼šå°ˆæ³¨æ–¼ Streaming æ”¹å–„æ„ŸçŸ¥å»¶é²ï¼ˆ5.61 ç§’ â†’ 1-2 ç§’ï¼‰
  - ğŸ“ ç›¸é—œæ–¼ TODO.md P0-Aï¼ˆRAG Bug ä¿®å¾©ï¼‰å’Œ P1-2ï¼ˆæ€§èƒ½å„ªåŒ–ï¼‰

### è®Šæ›´
- **Gemini 3 Flash å‡ç´š** (2025-12-28)
  - âœ… å¾ Gemini 2.5 Flash å‡ç´šè‡³ Gemini 3 Flash (`gemini-3-flash-preview`)
  - âœ… Pro ç´šæ™ºèƒ½ï¼ŒFlash é€Ÿåº¦èˆ‡å®šåƒ¹
  - âœ… æ›´æ–°å®šåƒ¹è¨ˆç®—ï¼š
    - è¼¸å…¥ï¼š$0.50/1M tokensï¼ˆåŸ $0.075/1Mï¼‰
    - è¼¸å‡ºï¼š$3.00/1M tokensï¼ˆåŸ $0.30/1Mï¼‰
    - å¿«å–è¼¸å…¥ï¼š$0.125/1M tokensï¼ˆåŸ $0.01875/1Mï¼‰
  - âœ… æ›´æ–°æ‰€æœ‰ service æª”æ¡ˆã€API endpoints èˆ‡æ¸¬è©¦
  - âœ… æ‰€æœ‰æ•´åˆæ¸¬è©¦é€šéï¼ˆ22 å€‹æ¸¬è©¦ï¼šè¨ˆè²»ã€åˆ†æã€GBQ å®Œæ•´æ€§ï¼‰
  - âœ… ç„¡ç ´å£æ€§è®Šæ›´ - API å‘å¾Œç›¸å®¹
  - ğŸ“ æ›´æ–°ï¼š`app/core/config.py`ã€`app/services/gemini_service.py`ã€`app/services/keyword_analysis_service.py`ã€`app/api/realtime.py`ã€å®šåƒ¹è¨ˆç®—
  - ğŸ“ ä¾†æºï¼š[Gemini 3 Flash æ–‡ä»¶](https://cloud.google.com/vertex-ai/generative-ai/docs/models/gemini/3-flash)

### æ–°å¢
- **Island Parents é—œä¿‚æ¬„ä½** (2025-12-29)
  - âœ… æ–°å¢ island_parents Client è¡¨å–®çš„ `relationship` æ¬„ä½
    - é¸é …ï¼šçˆ¸çˆ¸ã€åª½åª½ã€çˆºçˆºã€å¥¶å¥¶ã€å¤–å…¬ã€å¤–å©†ã€å…¶ä»–
    - island_parents ç§Ÿæˆ¶å¿…å¡«æ¬„ä½
    - æ¬„ä½é †åºå„ªåŒ–ä»¥æå‡ UXï¼ˆorder=3ï¼‰
  - âœ… æ›´æ–° Client æ¬„ä½æ¨™ç±¤ï¼š
    - "å­©å­å§“å" â†’ "å­©å­æš±ç¨±"
  - âœ… å®Œæ•´çš„ iOS API æ•´åˆæŒ‡å—
    - 9 æ­¥é©Ÿå®Œæ•´å·¥ä½œæµç¨‹æ–‡ä»¶
    - å®‰å…¨ç­‰ç´šåˆ†æèªªæ˜ï¼ˆğŸŸ¢ğŸŸ¡ğŸ”´ï¼‰
    - å‹•æ…‹åˆ†æé–“éš”ï¼ˆ5-30 ç§’ï¼Œä¾å®‰å…¨ç­‰ç´šèª¿æ•´ï¼‰
    - iOS å¯¦ä½œçš„ Swift ç¨‹å¼ç¢¼ç¯„ä¾‹
    - FAQ ç« ç¯€èˆ‡ç›¸é—œè³‡æº
  - âœ… å®Œæ•´å·¥ä½œæµç¨‹æ•´åˆæ¸¬è©¦ï¼ˆ681 è¡Œï¼‰
  - ğŸ“ æ›´æ–°ï¼š`app/config/field_configs.py`ã€`IOS_API_GUIDE.md`
  - ğŸ“ æ–°å¢æ¸¬è©¦ï¼š`tests/integration/test_island_parents_complete_workflow.py`
  - ğŸ“ æ¸¬è©¦å ±å‘Šï¼š`docs/testing/ISLAND_PARENTS_WORKFLOW_TEST_REPORT.md`

- **æ–‡ä»¶æ•´ç†èˆ‡åŸºç¤è¨­æ–½æˆæœ¬åˆ†æ** (2025-12-29)
  - âœ… é‡çµ„æ–‡ä»¶çµæ§‹ï¼š
    - æ¸¬è©¦å ±å‘Šç§»è‡³ `docs/testing/`
    - æŠ€è¡“æ–‡ä»¶é›†ä¸­æ–¼ `docs/`
    - ä¾åŠŸèƒ½é ˜åŸŸæ”¹å–„æª”æ¡ˆçµ„ç¹”
  - âœ… PRD æ›´æ–°ï¼š
    - æ–°å¢ island_parents å®‰å…¨ç­‰ç´šç³»çµ±ç´°ç¯€
    - æ¨™è¨˜å¢é‡è¨ˆè²»ï¼ˆPhase 2ï¼‰ç‚ºå·²å®Œæˆ
    - æ›´æ–°æ¬„ä½é…ç½®èˆ‡èªªæ˜
  - âœ… åŸºç¤è¨­æ–½æˆæœ¬åˆ†æåŠ å…¥ PRDï¼š
    - Cloud Run æˆæœ¬ä¼°ç®—ï¼ˆä½/ä¸­/é«˜æµé‡ï¼‰
    - Supabase å®šåƒ¹æ–¹æ¡ˆèˆ‡å»ºè­°
    - Gemini 3 Flash AI æ¨¡å‹æˆæœ¬è¨ˆç®—
    - æ¯æœˆç¸½æˆæœ¬é ä¼°ï¼š$10-25ï¼ˆåŸå‹éšæ®µï¼‰ã€$65-125ï¼ˆæ­£å¼ç’°å¢ƒï¼‰
    - æˆæœ¬å„ªåŒ–ç­–ç•¥ï¼ˆå¿«å–ã€é »ç‡é™åˆ¶ã€ç›£æ§ï¼‰
  - ğŸ“ æ›´æ–°ï¼š`PRD.md` åŒ…å«æˆæœ¬åˆ†æèˆ‡åŠŸèƒ½ç‹€æ…‹
  - ğŸ“ ä¾†æºï¼š[Gemini 3 Flash å®šåƒ¹](https://cloud.google.com/vertex-ai/generative-ai/docs/models/gemini/3-flash)

- **å¯†ç¢¼é‡è¨­ç³»çµ±** (2025-12-27)
  - âœ… Web UI é é¢ï¼š`/forgot-password`ï¼ˆè«‹æ±‚ï¼‰èˆ‡ `/reset-password`ï¼ˆç¢ºèªï¼‰
  - âœ… iOS æ•´åˆ API ç«¯é»ï¼š
    - `POST /api/v1/password-reset/request` - è«‹æ±‚å¯†ç¢¼é‡è¨­
    - `POST /api/v1/password-reset/verify` - é©—è­‰é‡è¨­ token
    - `POST /api/v1/password-reset/confirm` - ç¢ºèªæ–°å¯†ç¢¼
  - âœ… é€é Admin API å»ºç«‹æ–°è«®è©¢å¸«æ™‚è‡ªå‹•ç™¼é€æ­¡è¿ä¿¡
  - âœ… Multi-tenant æ”¯æ´ï¼ˆcareer/island/island_parentsï¼‰ï¼ŒåŒ…å«å„ç§Ÿæˆ¶å°ˆå±¬ email æ¨¡æ¿
  - âœ… Token å®‰å…¨ï¼š32+ å­—å…ƒåŠ å¯†éš¨æ©Ÿå­—ä¸²ã€6 å°æ™‚æœ‰æ•ˆæœŸã€å–®æ¬¡ä½¿ç”¨
  - âœ… é »ç‡é™åˆ¶ï¼šæ¯ 5 åˆ†é˜æœ€å¤šè«‹æ±‚ä¸€æ¬¡
  - âœ… DEBUG æ¨¡å¼ï¼šé–‹ç™¼éšæ®µè·¨ç§Ÿæˆ¶ç®¡ç†å“¡å­˜å–
  - âœ… è³‡æ–™åº«é·ç§»ï¼š`20251227_1049_f9b8a56ce021_add_password_reset_tokens_table.py`
  - âœ… 23 å€‹æ•´åˆæ¸¬è©¦ï¼Œ100% é€šéç‡
  - âœ… Email æœå‹™å¢å¼·ï¼š
    - é€é Gmail SMTP ç™¼é€
    - å„ç§Ÿæˆ¶å°ˆå±¬æ¨¡æ¿ï¼ˆcareer/island/island_parentsï¼‰
    - éŒ¯èª¤è™•ç†èˆ‡é‡è©¦é‚è¼¯

### ä¿®å¾©
- **Career æ¨¡å¼ Token ç”¨é‡å›å‚³ 0 çš„å•é¡Œ** (2025-12-31)
  - ğŸ› ä¿®å¾© career ç§Ÿæˆ¶çš„ analyze-partial API å›å‚³ token_usage = 0 çš„ bug
  - ğŸ”§ æ ¹æœ¬åŸå› ï¼š`GeminiService.generate_text()` å›å‚³æ–‡å­—å­—ä¸²è€ŒéåŒ…å« metadata çš„ response ç‰©ä»¶
  - âœ… ä¿®æ”¹ `GeminiService.generate_text()` å›å‚³å®Œæ•´ response ç‰©ä»¶ï¼ˆç¬¬ 98 è¡Œï¼‰
  - âœ… æ›´æ–°æ‰€æœ‰å‘¼å«è€…å¾ response ç‰©ä»¶æå– `.text`ï¼š
    - `gemini_service.py`ï¼šchat_completion()ã€chat_completion_with_messages()
    - `keyword_analysis_service.py`ï¼š_parse_ai_response()
    - `analyze.py`ï¼šJSON è§£æé‚è¼¯
  - âœ… ä¿®æ­£ `test_token_usage_response.py` æ¸¬è©¦æ¨¡å‹æ¬„ä½éŒ¯èª¤ï¼š
    - Session æ¨¡å‹ï¼šç§»é™¤ç„¡æ•ˆçš„ `status`ï¼Œæ–°å¢ `session_date`
    - Client/Case æ¨¡å‹ï¼šæ–°å¢ç¼ºå°‘çš„å¿…å¡«æ¬„ä½
  - âœ… æ¸¬è©¦ï¼š2/2 é€šéï¼ˆåŸæœ¬ 0/2ï¼‰ï¼Œæ‰€æœ‰ç›¸é—œæ¸¬è©¦é€šéï¼ˆ16/16ï¼‰
  - ğŸ“ æ›´æ–°ï¼š`app/services/gemini_service.py`ã€`app/services/keyword_analysis_service.py`ã€`app/api/analyze.py`ã€`tests/integration/test_token_usage_response.py`
- **Staging éƒ¨ç½²çš„ SMTP é…ç½®** (2025-12-27)
  - ğŸ”§ åœ¨ CI/CD pipeline ä¸­æ–°å¢ SMTP ç’°å¢ƒè®Šæ•¸
  - ğŸ”§ å¿…è¦çš„ GitHub Secretsï¼šSMTP_USERã€SMTP_PASSWORDã€FROM_EMAILã€APP_URL
  - ğŸ”§ ä¿®å¾© staging ç’°å¢ƒéƒµä»¶éœé»˜ç™¼é€å¤±æ•—å•é¡Œ
  - ğŸ”§ å»ºç«‹ SMTP_SETUP.md é…ç½®æ­¥é©Ÿæ–‡ä»¶
  - ğŸ“ åƒè¦‹ï¼š`.github/workflows/ci.yml`ã€`SMTP_SETUP.md`

### æ–°å¢
- **Parents RAG å„ªåŒ– - å®Œæ•´å¯è§€æ¸¬æ€§** (2025-12-26)
  - âœ… GBQ schema è¦†è“‹ç‡å¾ 23% æå‡è‡³ 67%+ï¼ˆ29/43 æ¬„ä½ï¼‰
  - âœ… parents_report API å®Œæ•´ metadata è¿½è¹¤ï¼š
    - Token ç”¨é‡ï¼šprompt_tokensã€completion_tokensã€total_tokensã€cached_tokens
    - æˆæœ¬è¨ˆç®—ï¼šGemini 2.5 Flash å®šåƒ¹ï¼ˆ$0.000075/1K è¼¸å…¥ã€$0.0003/1K è¼¸å‡ºï¼‰
    - æ™‚é–“åˆ†è§£ï¼šRAG æœå°‹æ™‚é–“ã€LLM å‘¼å«æ™‚é–“ã€ç¸½æ™‚é•·
    - å®Œæ•´ promptsï¼šsystem_promptã€user_promptã€prompt_template
    - LLM å›æ‡‰ï¼šåŸå§‹å›æ‡‰ã€çµæ§‹åŒ–åˆ†æçµæœ
    - RAG è¿½è¹¤ï¼šæŸ¥è©¢ã€æ–‡ä»¶ã€ä¾†æºã€æ™‚é–“
    - æ¨¡å‹è³‡è¨Šï¼šproviderã€model_nameã€model_version
  - âœ… ä¿®æ”¹ `gemini_service.chat_completion()` å¯é¸è¿”å› usage_metadata
  - âœ… BigQuery JSON æ¬„ä½åºåˆ—åŒ–ï¼ˆanalysis_resultã€speakersã€rag_documentsï¼‰
  - âœ… å¾è«‹æ±‚æ“·å– Session IDï¼ˆWeb localStorage-basedï¼‰
  - âœ… ä¿®æ­£æ¬„ä½åç¨±ä¸åŒ¹é…ï¼ˆresponse_time_ms â†’ api_response_time_msã€transcript_segment â†’ transcriptï¼‰
  - âœ… æ¨¡å‹ä¿®æ­£ç‚º gemini-2.5-flashï¼ˆå¾ 2.0-flash-expï¼‰
- **Parents RAG å„ªåŒ– - Phase 1.4 & 2.1** (2025-12-25)
  - âœ… Phase 1.4 - å‰ç«¯èª¿æ•´ï¼š
    - ç§»é™¤å…©è¡Œæ ¼å¼åˆ¤æ–·ï¼Œçµ±ä¸€å–®è¡Œå»ºè­°é¡¯ç¤º
    - æ›´æ–°å‰ç«¯èªªæ˜ï¼ˆè¡Œå‹•ç‰ˆ & æ¡Œé¢ç‰ˆï¼‰åæ˜  200 å¥å°ˆå®¶å»ºè­°
    - Emergency æ¨¡å¼ï¼š1-2 å¥å°ˆå®¶å»ºè­°ï¼ˆå¾ 200 å¥ä¸­é¸ï¼‰
    - Practice æ¨¡å¼ï¼š3-4 å¥å°ˆå®¶å»ºè­°ï¼ˆå¾ 200 å¥ä¸­é¸ï¼‰
  - âœ… Phase 2.1 - å¾Œç«¯å„ªåŒ–ï¼š
    - æ“´å¤§åˆ†æç¯„åœå¾ 1 åˆ†é˜è‡³ 3-5 åˆ†é˜ï¼ˆSAFETY_WINDOW_SPEAKER_TURNSï¼š10 â†’ 40ï¼‰
    - å¢å¼· RAG æª¢ç´¢ï¼štop_k 3â†’7ã€similarity_threshold 0.5â†’0.35
    - ç§»é™¤ RAG å…§å®¹çš„ 200 å­—æˆªæ–·
  - âœ… å‹•æ…‹åˆ†æé–“éš”ï¼ˆCommit: 2b10eb0ï¼‰ï¼š
    - å¯¦ä½œåŸºæ–¼ safety_level çš„è‡ªé©æ‡‰ç›£æ§
    - ç¶ ç‡ˆï¼ˆå®‰å…¨ï¼‰ï¼š60 ç§’
    - é»ƒç‡ˆï¼ˆè­¦ç¤ºï¼‰ï¼š30 ç§’
    - ç´…ç‡ˆï¼ˆé«˜é¢¨éšªï¼‰ï¼š15 ç§’
    - è¦–è¦ºé€šçŸ¥èˆ‡ console æ—¥èªŒ
    - `updateAnalysisInterval()` å‡½æ•¸å‹•æ…‹èª¿æ•´è¨ˆæ™‚å™¨
  - âœ… å¡ç‰‡é¡è‰²ä¸€è‡´æ€§ï¼š
    - ä¿®æ­£å¡ç‰‡é¡è‰²ä½¿ç”¨ `safety_level` è€Œé `risk_level`
    - æ›´æ–°æ¨™ç±¤ï¼šã€Œå±éšªï¼šç«‹å³ä¿®æ­£ã€ã€ã€Œè­¦ç¤ºï¼šéœ€è¦èª¿æ•´ã€ã€ã€Œå®‰å…¨ï¼šæºé€šè‰¯å¥½ã€
  - âœ… æ¸¬è©¦å¢å¼·ï¼š
    - æ–°å¢é è¨­é€å­—ç¨¿å¿«æ·éµï¼ˆğŸŸ¢ğŸŸ¡ğŸ”´ï¼‰
    - æ–°å¢ã€Œâš¡ ç«‹å³åˆ†æã€æŒ‰éˆ•ç”¨æ–¼å³æ™‚æ¸¬è©¦
    - Phase 1.5ï¼š8/9 integration tests é€šéï¼Œ106 å€‹ç¸½æ¸¬è©¦é€šé
- **å®¶é•·å ±å‘Š API èˆ‡çµ±ä¸€ Session ç®¡ç†** (2025-12-26)
  - âœ… æ–°å¢ç«¯é»ï¼š`POST /api/v1/realtime/parents-report`
    - ç”Ÿæˆå®Œæ•´çš„è¦ªå­æºé€šå ±å‘Š
    - åˆ†æå®¶é•·èˆ‡å­©å­çš„å°è©±é€å­—ç¨¿
    - æä¾› 4 å€‹çµæ§‹åŒ–å›é¥‹å€å¡Šï¼š
      1. å°è©±ä¸»é¡Œæ‘˜è¦ï¼ˆä¸­æ€§ç«‹å ´ï¼‰
      2. æºé€šäº®é»ï¼ˆè¡¨ç¾è‰¯å¥½çš„éƒ¨åˆ†ï¼‰
      3. æ”¹é€²å»ºè­°ï¼ˆå…·é«”å»ºè­°æˆ–æ›å¥è©±èªªï¼‰
      4. RAG çŸ¥è­˜åº«åƒè€ƒï¼ˆç›¸é—œè¦ªå­æ•™é¤Šæ–‡ç»ï¼‰
    - æ•´åˆç¾æœ‰ RAG åŸºç¤è¨­æ–½ï¼ˆsimilarity_threshold=0.5ï¼‰
    - ä½¿ç”¨ Gemini 2.5 Flash é€²è¡Œåˆ†æï¼ˆtemperature=0.7ï¼‰
  - âœ… çµ±ä¸€ Session ID ç®¡ç†
    - åœ¨ session é–‹å§‹æ™‚ç”Ÿæˆä¸€æ¬¡ï¼š`session-{timestamp}-{random}`
    - æŒä¹…åŒ–æ–¼ localStorage ä»¥è·¨è«‹æ±‚è¿½è¹¤
    - æ‰€æœ‰å³æ™‚åˆ†æ API çµ±ä¸€ä½¿ç”¨ï¼š
      - `/api/v1/realtime/analyze`ï¼ˆç¾åŒ…å« session_id + use_cacheï¼‰
      - `/api/v1/realtime/parents-report`
      - æœªä¾†çš„ GBQ è³‡æ–™æŒä¹…åŒ–
    - å•Ÿç”¨ Gemini context caching å„ªåŒ–æˆæœ¬
  - âœ… å‰ç«¯æ•´åˆ
    - å ±å‘Šç•«é¢ UIï¼ŒåŒ…å«äº®é»å¡ç‰‡èˆ‡æ”¹é€²å»ºè­°
    - é»æ“Šã€ŒæŸ¥çœ‹å ±å‘Šã€è§¸ç™¼ API ä¸¦é¡¯ç¤ºçµæ§‹åŒ–å›é¥‹
    - æ‰‹æ©Ÿç‰ˆéŸ¿æ‡‰å¼è¨­è¨ˆï¼ŒåŒ…å«å®Œæˆç•«é¢
    - Session ID è²«ç©¿æ•´å€‹éŒ„éŸ³ç”Ÿå‘½é€±æœŸ
  - âœ… æ–°å¢ Schemasï¼š`ParentsReportRequest`ã€`ParentsReportResponse`ã€`ImprovementSuggestion`
  - âœ… æ¸¬è©¦ï¼šå¾Œç«¯ API é€é curl æ¸¬è©¦ï¼ˆæˆåŠŸå›æ‡‰ï¼Œå« RAG æ•´åˆï¼‰
- **ç”¨æˆ¶è¨»å†Š API** (2025-12-15)
  - âœ… æ–°å¢ç«¯é»ï¼š`POST /api/auth/register` ç”¨æ–¼è«®è©¢å¸«å¸³è™Ÿè¨»å†Š
  - âœ… è¨»å†Šå¾Œè‡ªå‹•ç™»å…¥ï¼ˆç«‹å³è¿”å› JWT tokenï¼‰
  - âœ… å¤šç§Ÿæˆ¶æ”¯æ´ï¼ˆemail + tenant_id å”¯ä¸€æ€§æª¢æŸ¥ï¼‰
  - âœ… ç”¨æˆ¶åå…¨ç³»çµ±å”¯ä¸€æ€§é©—è­‰
  - âœ… å¯†ç¢¼é©—è­‰ï¼ˆè‡³å°‘ 8 å€‹å­—å…ƒï¼‰
  - âœ… é è¨­è§’è‰²åˆ†é…ï¼ˆæœªæŒ‡å®šæ™‚é è¨­ç‚º counselorï¼‰
  - âœ… åœ¨ `/console` é é¢æ–°å¢è¨»å†Šè¡¨å–®
  - âœ… å®Œæ•´çš„ TDD æ¸¬è©¦è¦†è“‹ï¼ˆ6 å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼Œå…¨éƒ¨é€šéï¼‰
  - âœ… æ›´æ–° iOS API æ–‡æª”ï¼ŒåŒ…å« Swift ç¯„ä¾‹

### è®Šæ›´
- **æ–‡æª”é‡çµ„** (2025-12-26)
  - å°‡å®‰å…¨ç­‰ç´šè½‰æ›æ¸¬è©¦æ–‡æª”ç§»è‡³ `docs/testing/` ç›®éŒ„ï¼š
    - `SAFETY_TRANSITIONS_SUMMARY.md` - æ¸¬è©¦è¨ˆåŠƒç¸½è¦½èˆ‡è¨­è¨ˆæ±ºç­–
    - `SAFETY_TRANSITIONS_MANUAL_TEST_GUIDE.md` - é€æ­¥æ¸¬è©¦ç¨‹åº
    - `SAFETY_TRANSITIONS_TEST_FINDINGS.md` - Sticky è¡Œç‚ºåˆ†æèˆ‡æ¬Šè¡¡
    - `SAFETY_TRANSITIONS_TEST_RESULTS_TABLE.md` - é æœŸçµæœèˆ‡é—œéµå­—æª¢æ¸¬
    - `SLIDING_WINDOW_SAFETY_ASSESSMENT.md` - æ¼”ç®—æ³•ç´°ç¯€èˆ‡æˆæœ¬ç¯€çœ
  - æ›´æ–° PRD.md æ–°å¢æ¸¬è©¦æ–‡æª”åƒè€ƒé€£çµ
  - æ¸…ç† 7 å€‹å¯¦é©— JSON æª”æ¡ˆï¼ˆè³‡æ–™å·²æ•´ç†é€² PRD.mdï¼‰ï¼š
    - ç§»é™¤ cache_strategy_comparison.jsonã€experiment_results*.jsonã€strategy_*.json
  - åŸå› ï¼šæ›´å¥½çš„çµ„ç¹”çµæ§‹ï¼Œåˆ†é›¢é—œæ³¨é»ï¼ˆPRD vs æ¸¬è©¦æ–‡æª”ï¼‰
  - å½±éŸ¿ï¼šæ ¹ç›®éŒ„æ›´æ•´æ½”ã€æ›´æ˜“å°èˆªã€ä¿ç•™æ¸¬è©¦æ–‡æª”
- **å»¶é•· JWT Token æœ‰æ•ˆæœŸé™** (2025-12-13)
  - Access Tokenï¼š24 å°æ™‚ â†’ 90 å¤©ï¼ˆ3 å€‹æœˆï¼‰
  - Refresh Tokenï¼š7 å¤© â†’ 90 å¤©ï¼ˆ3 å€‹æœˆï¼‰
  - åŸå› ï¼šæ”¹å–„é–‹ç™¼è€…é«”é©—ï¼Œæ¸›å°‘åŸå‹éšæ®µé‡æ–°ç™»å…¥é »ç‡
  - å½±éŸ¿ï¼šå…©ç¨® token ç¾åœ¨éƒ½å…·æœ‰ä¸€è‡´çš„ 90 å¤©æœ‰æ•ˆæœŸ

### ä¿®å¾©
- **RAG ç›¸ä¼¼åº¦é–€æª»éé«˜** (2025-12-13)
  - ä¿®å¾©ï¼šRAG çŸ¥è­˜æª¢ç´¢ç¾å·²èƒ½æ­£ç¢ºé‹ä½œæ–¼è¦ªå­æ•™é¤ŠæŸ¥è©¢
  - æ ¹æœ¬åŸå› ï¼šsimilarity_threshold=0.7 è¨­å®šéé«˜ï¼›å¯¦éš›ç›¸ä¼¼åº¦åˆ†æ•¸æœ€é«˜ç´„ 0.54-0.59
  - è§£æ±ºæ–¹æ¡ˆï¼šåŸºæ–¼ç”Ÿç”¢è³‡æ–™åˆ†æï¼Œå°‡é–€æª»å¾ 0.7 é™è‡³ 0.5
  - å½±éŸ¿ï¼šRAG ç¾åœ¨èƒ½æª¢ç´¢åˆ°ç›¸é—œçš„è¦ªå­æ•™é¤ŠçŸ¥è­˜ï¼Œä¸å†å›å‚³ç©ºçµæœ
  - æ›´æ–°æª”æ¡ˆï¼š`app/api/realtime.py`ã€`tests/integration/test_realtime_rag_integration.py`
- **Codeer Agent ä¸åŒ¹é…éŒ¯èª¤** (2025-12-11)
  - ä¿®å¾©ï¼šClaude Sonnet 4.5 èˆ‡ Gemini 2.5 Flash æ¨¡å‹ç¾å·²å®Œå…¨é‹ä½œ
  - æ ¹æœ¬åŸå› ï¼šrealtime.py ä¸­ agent_id åƒæ•¸å‚³ééŒ¯èª¤
  - è§£æ±ºæ–¹æ¡ˆï¼šæ›´æ–°ç‚ºå¾ codeer_model åƒæ•¸ä½¿ç”¨æ­£ç¢ºçš„ agent ID
  - å½±éŸ¿ï¼šæ‰€æœ‰ä¸‰å€‹ Codeer æ¨¡å‹ï¼ˆClaudeã€Geminiã€GPT-5ï¼‰ç¾å·²åœ¨ç”Ÿç”¢ç’°å¢ƒæ­£å¸¸é‹ä½œ

### è®Šæ›´
- **Codeer æ¨¡å‹æ¨è–¦æ›´æ–°** (2025-12-11)
  - **é è¨­æ¨¡å‹è®Šæ›´**ï¼šGPT-5 Mini â†’ Gemini 2.5 Flashï¼ˆæœ€ä½³é€Ÿåº¦/å“è³ªå¹³è¡¡ï¼‰
  - **æ¨¡å‹é‡æ–°æ’åº**ï¼šä¾æ•ˆèƒ½æ’åºï¼ˆGemini > Claude > GPT-5 Miniï¼‰
  - **å‰ç«¯ UI æ›´æ–°**ï¼šæ–°å¢æ•ˆèƒ½æç¤ºï¼ˆ~10.3sã€~10.6sã€~22.6sï¼‰èˆ‡ç‹€æ…‹æ¨™ç±¤
  - **æ–‡ä»¶æ›´æ–°**ï¼šç§»é™¤ã€Œå¯¦é©—æ€§ã€ç‹€æ…‹ï¼Œæ–°å¢å·²é©—è­‰çš„æ•ˆèƒ½åŸºæº–
  - **æ•ˆèƒ½æ•¸æ“š**ï¼ˆå¯¦æ¸¬çµæœï¼‰ï¼š
    - Claude Sonnet 4.5ï¼š10.3s å»¶é²ï¼ˆæœ€é«˜å“è³ªï¼‰
    - Gemini 2.5 Flashï¼š10.6s å»¶é²ï¼ˆâ­ æ¨è–¦ï¼šæœ€ä½³å¹³è¡¡ï¼‰
    - GPT-5 Miniï¼š22.6s å»¶é²ï¼ˆç©©å®šã€å°ˆæ¥­çŸ¥è­˜ï¼‰

### æ–°å¢
- **Codeer å¤šæ¨¡å‹æ”¯æ´ - å³æ™‚è«®è©¢ç³»çµ±** (2025-12-11)
  - âœ… 3 ç¨® Codeer æ¨¡å‹å¯é¸ï¼šGPT-5 Miniï¼ˆé è¨­ï¼‰ã€Claude Sonnet 4.5ã€Gemini 2.5 Flash
  - âœ… Session pooling å„ªåŒ–ï¼ˆå»¶é²é™ä½ 50%ï¼‰
  - âœ… å‰ç«¯æ¨¡å‹é¸æ“‡å™¨ UIï¼ˆéŸ¿æ‡‰å¼è¨­è¨ˆï¼Œæ”¯æ´è¡Œå‹•èˆ‡æ¡Œé¢ï¼‰
  - âœ… åˆ†æçµæœé¡¯ç¤ºä½¿ç”¨çš„æ¨¡å‹è³‡è¨Š
  - âœ… API åƒæ•¸ `codeer_model` æ”¯æ´æ¨¡å‹é¸æ“‡
  - âœ… æ¨¡å‹æ¯”è¼ƒåŸºæº–æ¸¬è©¦è…³æœ¬ï¼ˆ`scripts/test_all_codeer_models.py`ï¼‰
  - âœ… æ–‡ä»¶æ›´æ–°åŒ…å«è³‡å®‰æœ€ä½³å¯¦è¸
- **Codeer AI API Client æ•´åˆ** (2025-12-11)
  - âœ… å®Œæ•´çš„ç•°æ­¥ CodeerClient æœå‹™ï¼ˆä½¿ç”¨ httpxï¼‰
  - âœ… SSE (Server-Sent Events) ä¸²æµæ”¯æ´ï¼Œå¯¦ç¾å³æ™‚èŠå¤©
  - âœ… å…¨é¢çš„ API è¦†è“‹ï¼šèŠå¤©ã€ä¸²æµã€RAGã€STTã€TTSã€ç¶²é æœå°‹
  - âœ… 27 å€‹æ•´åˆæ¸¬è©¦ï¼Œæ¶µè“‹æ‰€æœ‰ç«¯é»èˆ‡æƒ…å¢ƒ
  - âœ… é…ç½®ç®¡ç†ï¼šAPI keyã€base URLã€é è¨­ agent
  - âœ… è‡ªå‹•éŒ¯èª¤è™•ç†èˆ‡é‡è©¦æ©Ÿåˆ¶
  - âœ… å®Œæ•´ TDD å¯¦ä½œï¼ˆRED-GREEN-REFACTOR æµç¨‹ï¼‰
- **Gemini Explicit Context Caching Production å¯¦ä½œ** (2025-12-10)
  - âœ… Cache Manager æœå‹™æ¡ç”¨ Strategy Aï¼ˆç¸½æ˜¯æ›´æ–°ç´¯ç©å°è©±ï¼‰
  - âœ… å¤šå±¤æ¸…ç†æ©Ÿåˆ¶ï¼ˆæ‰‹å‹•åˆªé™¤ + TTL + æ¸…ç†è…³æœ¬ï¼‰
  - âœ… çŸ­å…§å®¹è‡ªå‹•é™ç´šï¼ˆ< 1024 tokensï¼‰
  - âœ… æ•´åˆåˆ° `/api/v1/realtime/analyze` endpoint
  - âœ… API å›æ‡‰åŒ…å« cache metadata
  - âœ… 8 å€‹æ•´åˆæ¸¬è©¦è¦†è“‹æ‰€æœ‰å ´æ™¯
- **Cache ç­–ç•¥å°æ¯”å¯¦é©—** (2025-12-10)
  - ç­–ç•¥ Aï¼šå®Œæ•´ç´¯ç©ï¼ˆ10/10 æˆåŠŸï¼Œ100% ç©©å®šï¼Œå®Œæ•´ä¸Šä¸‹æ–‡ï¼‰
  - ç­–ç•¥ Bï¼šåƒ…ç•¶å‰å¢é‡ï¼ˆ9/10 æˆåŠŸï¼Œ90% ç©©å®šï¼Œç¼ºå°‘ä¸Šä¸‹æ–‡ï¼‰
  - å¯¦é©—æ•¸æ“šå„²å­˜æ–¼ `CACHE_STRATEGY_ANALYSIS.md`
- **å³æ™‚è«®è©¢æˆæœ¬æ•ˆç›Šåˆ†æ**ï¼ˆPRD.mdï¼‰
  - å®Œæ•´æˆæœ¬æ‹†è§£ï¼šSTT + Gemini æœ‰/ç„¡ Cache æ–¹æ¡ˆå°æ¯”
  - ROI åˆ†æï¼šæ¯å ´è«®è©¢çœ 15.2%ï¼Œæ¯å¹´çœ NT$10,439ï¼ˆæ¯æ—¥ 10 å ´ï¼‰
  - å»ºè­°ï¼šProduction ç’°å¢ƒæ‡‰å¯¦ä½œ Explicit Context Caching

### ä¿®å¾©
- **Critical Cache æ›´æ–° Bug** (2025-12-10)
  - ä¿®å¾©ï¼šé¦–æ¬¡å‰µå»ºå¾Œ Cache å…§å®¹å‡çµï¼Œä¸å†æ›´æ–°
  - æ ¹æœ¬åŸå› ï¼š`get_or_create_cache()` è¿”å›èˆŠ cache ä¸æª¢æŸ¥æ–°å…§å®¹
  - è§£æ±ºæ–¹æ¡ˆï¼šå¯¦ä½œ Strategy A - ç¸½æ˜¯åˆªé™¤èˆŠ cacheï¼Œç”¨æœ€æ–° transcript å‰µå»ºæ–°çš„
  - å½±éŸ¿ï¼šAI åˆ†æç¾åœ¨æ­£ç¢ºåŒ…å«æ‰€æœ‰å°è©±æ­·å²

### è®Šæ›´
- **å³æ™‚ API å¢å¼·** - æ›´æ–°èŠå¤©å‰µå»ºä½¿ç”¨ UUID ç¢ºä¿å”¯ä¸€æ€§
  - æ–°å¢å¾®ç§’ç²¾åº¦ + UUID é˜²æ­¢é‡è¤‡èŠå¤©åç¨±
  - æ”¹å–„ Codeer API äº’å‹•çš„éŒ¯èª¤è™•ç†
- GCP Billing Monitorï¼ˆAI åˆ†æèˆ‡ Email å ±å‘Šï¼Œ3 å€‹æ–° APIï¼‰
- BigQuery æ•´åˆå¯¦ç¾å³æ™‚æˆæœ¬è¿½è¹¤
- Gemini AI è‡ªå‹•åŒ–å¸³å–®å ±å‘Šç”Ÿæˆ
- Gemini å›æ‡‰è¨ºæ–·è©³ç´°æ—¥èªŒ
- **å³æ™‚ STT è«®è©¢ç³»çµ±**ï¼ˆPhase 2 å‰ç«¯å®Œæˆï¼‰ï¼šAI é©…å‹•çš„å³æ™‚è«®è©¢åˆ†æ
  - TDD æ–¹æ³•è«–ï¼Œ11 å€‹æ•´åˆæ¸¬è©¦ï¼ˆå¾Œç«¯ API å®Œæˆï¼‰

### è¨»è¨˜
  - ElevenLabs Scribe v2 Realtime API æ•´åˆï¼ˆæ”¯æ´ä¸­æ–‡ï¼‰
  - æ‰‹å‹•èªªè©±è€…åˆ‡æ›ï¼ˆè«®è©¢å¸«/æ¡ˆä¸»ï¼‰é©ç”¨ Demo å ´æ™¯
  - é»æ“Šå³æ™‚åˆ†æï¼Œæä¾›é€åˆ†é˜æ¼¸é€²å¼æ¨¡æ“¬
  - å•†ç”¨ç´šè¡Œå‹•å„ªå…ˆ UI èˆ‡ RWDï¼ˆæ–·é»ï¼š640px, 1024pxï¼‰
  - èŠå¤©é¢¨æ ¼é€å­—ç¨¿ï¼Œä»¿ WhatsApp è¨Šæ¯æ°£æ³¡
  - åš´é‡æ€§åˆ†ç´šè­¦ç¤ºå¾½ç« ï¼ˆé«˜/ä¸­/ä½é¢¨éšªï¼‰
  - æµ®å‹•æ“ä½œæŒ‰éˆ•ï¼ˆFABï¼‰èˆ‡å›ºå®šåº•éƒ¨æ§åˆ¶åˆ—ï¼ˆè¡Œå‹•ç‰ˆï¼‰
  - è¼‰å…¥éª¨æ¶èˆ‡ç©ºç™½ç‹€æ…‹è¨­è¨ˆ
  - åˆ†æå¡ç‰‡ï¼šæ‘˜è¦ã€è­¦ç¤ºã€å»ºè­°ï¼ˆå«æ¼¸è®Šå‹•ç•«ï¼‰
  - Demo æ¨¡å¼æä¾› 5 æƒ…å¢ƒæ¼¸é€²å¼å°è©±æ¨¡æ“¬
  - åŸºæ–¼ localStorage çš„æœƒè©±æ­·å²ç®¡ç†
- **æ•ˆèƒ½åŸºæº–æ¸¬è©¦å¥—ä»¶** ç”¨æ–¼å³æ™‚åˆ†æ
  - å®Œæ•´åŸºæº–æ¸¬è©¦è…³æœ¬ï¼Œæ¶µè“‹ 1/10/30/60 åˆ†é˜é€å­—ç¨¿
  - æ•ˆèƒ½æ¸¬è©¦å ±å‘Šèˆ‡å®¢æˆ¶å‹å–„æ–‡ä»¶
  - æ‰€æœ‰é€å­—ç¨¿é•·åº¦ 100% æˆåŠŸç‡ï¼ˆ11-12 ç§’éŸ¿æ‡‰æ™‚é–“ï¼‰
- **Gemini Cache æ•ˆèƒ½è¿½è¹¤**
  - ä½¿ç”¨é‡å…ƒè³‡æ–™è¨˜éŒ„ï¼ˆcached_content_token_count, prompt_token_count, candidates_token_countï¼‰
  - ç´¯ç©æ€§é€å­—ç¨¿ Cache æ•ˆèƒ½æ¸¬è©¦è…³æœ¬ï¼ˆ1-10 åˆ†é˜ï¼‰
  - é©—è­‰ Gemini Implicit Caching æ•ˆèƒ½ï¼ˆå¿«å– tokens ç¯€çœ 75% æˆæœ¬ï¼‰

### è®Šæ›´
- Gemini max_tokens å¾ 4000 æå‡è‡³ 8000ï¼ˆé˜²æ­¢ JSON æˆªæ–·ï¼‰
- æ–‡æª”æ•´åˆï¼ˆ42 â†’ 31 æª”æ¡ˆï¼ŒPRD.md ç‚ºå–®ä¸€çœŸç›¸ä¾†æºï¼‰
- ç¨‹å¼ç¢¼å“è³ªæ”¹å–„ï¼ˆ11 æª”æ¡ˆé‡æ§‹ï¼Œ100% æª”æ¡ˆå¤§å°ç¬¦åˆï¼‰
- **å³æ™‚è«®è©¢ AI æç¤ºå¼·åŒ–**ï¼šæ ¹æ“šå°ˆæ¥­è«®è©¢å¸«å›é¥‹æ”¹å–„ç£å°æç¤º
  - åŒç†å„ªå…ˆæ–¹æ³•ï¼šAI å…ˆç†è§£çˆ¶æ¯æƒ…ç·’å†æä¾›å¼•å°
  - å…·é«”å¯åŸ·è¡Œå»ºè­°ï¼šæ‰€æœ‰å»ºè­°åŒ…å«æ˜ç¢ºæ­¥é©Ÿèˆ‡å°è©±ç¯„ä¾‹
  - æº«å’Œéæ‰¹åˆ¤èªæ°£ï¼šä»¥æ”¯æŒæ€§å¼•å°å–ä»£ç›´æ¥æ‰¹åˆ¤èªè¨€
  - çµæ§‹åŒ–è¼¸å‡ºï¼šæ‘˜è¦ã€åŒç†å€æ®µã€é—œæ³¨äº‹é …ã€è¡Œå‹•æ­¥é©Ÿå«ç¯„ä¾‹
  - **åˆ†æç¯„åœå„ªåŒ–**ï¼šæ–°å¢ã€åˆ†æç¯„åœã€‘å€æ®µï¼Œç¢ºä¿ AI èšç„¦æœ€æ–°ä¸€åˆ†é˜è€Œéç¸½çµå…¨éƒ¨å°è©±
    - ä¸»è¦ç„¦é»ï¼šæœ€æ–°ä¸€åˆ†é˜å°è©±ï¼ˆå³æ™‚ç£å°æƒ…å¢ƒï¼‰
    - èƒŒæ™¯è„ˆçµ¡ï¼šå‰é¢å°è©±ç”¨æ–¼ç†è§£é€£çºŒæ€§
    - é¿å…æ³›æ³›ç¸½çµï¼Œç¢ºä¿å¯åŸ·è¡Œçš„å³æ™‚å¼•å°

### ä¿®å¾©
- Gemini å ±å‘Šè©•åˆ† JSON æˆªæ–·ï¼ˆæˆåŠŸç‡ï¼š85% â†’ 100%ï¼‰
- BigQuery lazy-load é¿å… CI èªè­‰éŒ¯èª¤
- åŒæ­¥è³‡æ–™åº«å‘¼å«çš„éŒ¯èª¤ await èªæ³•
- æ–‡æª”æ•´åˆå¾Œçš„å¤±æ•ˆé€£çµ

### åŸºç¤è¨­æ–½
- å¸³å–®ç›£æ§èˆ‡ AI æˆæœ¬åˆ†æ
- Email é€šçŸ¥ç³»çµ±ï¼ˆGmail SMTPï¼‰
- å¼·åŒ–éŒ¯èª¤è™•ç†èˆ‡ robust JSON è§£æ

---

## [0.3.1] - 2025-11-29

### æ–°å¢
- å³æ™‚é€å­—ç¨¿é—œéµå­—åˆ†æ APIï¼ŒåŒ…å« AI é©…å‹•æå–
- Session åç¨±æ¬„ä½ï¼Œæ”¹å–„çµ„ç¹”ç®¡ç†
- å¾éŒ„éŸ³ç‰‡æ®µè‡ªå‹•è¨ˆç®—æ™‚é–“ç¯„åœ
- Claude Code agent é…ç½®èˆ‡ TDD å¼·åˆ¶åŸ·è¡Œ

### è®Šæ›´
- Gemini 2.5 Flash ä½œç‚ºé è¨­ LLM æä¾›è€…ï¼ˆæˆæœ¬é™ä½ 40%ï¼Œå›æ‡‰æ™‚é–“ < 2 ç§’ï¼‰
- ç°¡åŒ–é—œéµå­—åˆ†æ UIï¼ˆåƒ…éœ€ session + transcriptï¼‰
- ç§»é™¤ API ç«¯é»æ¨™é¡Œä¸­çš„ã€Œ(iOS)ã€å¾Œç¶´ï¼Œçµ±ä¸€å‘½åè¦ç¯„

### ä¿®å¾©
- ä¿®å¾© CI/CD ä¸­ GeminiService mock æ¸¬è©¦å¤±æ•—
- ä¿®å¾© Admin è§’è‰²è³‡æºåˆªé™¤æ¬Šé™

### æ•ˆèƒ½
- Session æœå‹™å±¤æŠ½å–èˆ‡ N+1 æŸ¥è©¢ä¿®å¾©ï¼ˆ**å¿« 3 å€**ï¼š800ms â†’ 250msï¼‰
- UI client-case-list API å„ªåŒ–ï¼ˆ**å¿« 5 å€**ï¼š1.2s â†’ 240msï¼‰
- Claude Code å·¥ä½œæµç¨‹å„ªåŒ–ï¼ˆhook è¼¸å‡ºæ•ˆç‡æå‡ 93%ï¼‰

---

## [0.3.0] - 2025-11-25

### æ–°å¢
- å¿«é€Ÿ CI ç­–ç•¥ï¼ŒåŒ…å« smoke testsï¼ˆ< 10 ç§’ï¼‰
- å ±å‘Šç”Ÿæˆæ•´åˆæ¸¬è©¦ï¼ˆä½¿ç”¨ mocked background tasksï¼‰
- Admin è§’è‰²ï¼Œæ”¯æ´è·¨è«®è©¢å¸«è³‡æºç®¡ç†

### è®Šæ›´
- Staging CI è·³éè€—æ™‚çš„ background task æ¸¬è©¦ï¼ŒåŠ å¿«éƒ¨ç½²é€Ÿåº¦

### ä¿®å¾©
- ä¿®å¾© Sessions API çš„ N+1 æŸ¥è©¢å•é¡Œï¼ˆä½¿ç”¨ SQLAlchemy `joinedload`ï¼‰
- ä¿®å¾© UI client-case-list API çš„ N+1 æŸ¥è©¢å•é¡Œï¼ˆTDD æ–¹æ³•ï¼‰
- ä¿®å¾©æ•´åˆæ¸¬è©¦åœ¨ CI ç’°å¢ƒçš„ç›¸å®¹æ€§å•é¡Œ

### ç§»é™¤
- ç§»é™¤ Playwright å‰ç«¯æ¸¬è©¦ï¼ˆå°ˆæ³¨æ–¼å¾Œç«¯ API æ¸¬è©¦ï¼‰

---

## [0.2.5] - 2025-11-24

### æ–°å¢
- Pre-commit hooksï¼ŒåŒ…å«å®Œæ•´æª¢æŸ¥ï¼ˆruffã€è³‡å®‰ã€æª”æ¡ˆå¤§å°ï¼‰
- Pre-push hooksï¼ŒåŒ…å« 4 å€‹æ ¸å¿ƒ API smoke tests
- 100% æ•´åˆæ¸¬è©¦é€šéç‡ï¼ˆ106 å€‹æ¸¬è©¦ï¼‰

### è®Šæ›´
- æ¸›å°‘ smoke tests è‡³ 4 å€‹æ ¸å¿ƒ API æ¸¬è©¦ï¼ŒåŠ å¿«åé¥‹é€Ÿåº¦
- æ›´æ–° API å›æ‡‰ç‹€æ…‹ç¢¼ï¼ˆPOST: 201, DELETE: 204ï¼‰
- å„ªåŒ– pre-push hookï¼Œåƒ…åŸ·è¡Œé—œéµæ¸¬è©¦

### ä¿®å¾©
- ä¿®å¾©æ‰€æœ‰å‰©é¤˜çš„æ•´åˆæ¸¬è©¦å¤±æ•—ï¼ˆé”æˆ 100% é€šéç‡ï¼‰
- ä¿®å¾© Report API æ¸¬è©¦æ¬„ä½åç¨±æ–·è¨€ï¼ˆ`edited_content_markdown`ï¼‰
- ä¿®å¾© Client API æ¸¬è©¦å¿…å¡«æ¬„ä½å’Œæ­£ç¢ºç‹€æ…‹ç¢¼
- ä¿®å¾© Session å‰µå»ºæ¸¬è©¦ï¼Œé æœŸå›å‚³ 201 Created

### å®‰å…¨æ€§
- æ˜ç¢ºç¦æ­¢ git æ“ä½œä¸­ä½¿ç”¨ `--no-verify`ï¼ˆè¨˜éŒ„æ–¼ CLAUDE.mdï¼‰
- åœ¨ pre-commit hooks ä¸­æ–°å¢ API keysã€secretsã€private keys æª¢æŸ¥

---

## [0.2.4] - 2025-11-24

### æ–°å¢
- Mypy å‹åˆ¥æª¢æŸ¥ï¼Œæ”¹å–„ç¨‹å¼ç¢¼å“è³ª
- Supabase Pooler é€£ç·šéœ€è¦ SSL

### è®Šæ›´
- æŠ‘åˆ¶ SQLAlchemy columns çš„ var-annotated mypy éŒ¯èª¤ï¼ˆç›¸å®¹æ€§ä¿®å¾©ï¼‰
- åœ¨ CI pipeline ä¸­åˆ†é›¢ unit å’Œ integration æ¸¬è©¦

### ä¿®å¾©
- ä¿®å¾© Supabase Pooler çš„ SSL é€£ç·šå•é¡Œï¼ˆ`sslmode=require`ï¼‰
- ä¿®å¾© model æª”æ¡ˆä¸­çš„ import é †åº
- ä¿®å¾©æ•´åˆæ¸¬è©¦è³‡æ–™åº«è¨­å®šå’Œèªè­‰æ¸¬è©¦
- æ–°å¢ OpenAI API å›æ‡‰çš„ None-safety æª¢æŸ¥

---

## [0.2.3] - 2025-11-23

### æ–°å¢
- Console ä¸­çš„ iPhone æ¨¡æ“¬å™¨é è¦½è¦–åœ–
- GET client-case detail ç«¯é»
- é¸æ“‡ client-case æ™‚è‡ªå‹•å¡«å……æ›´æ–°è¡¨å–®
- å®Œæ•´çš„ API æ•´åˆæ¸¬è©¦ï¼ˆ66 å€‹æ¸¬è©¦ï¼‰

### è®Šæ›´
- Case status å¾å­—ä¸² enum æ”¹ç‚ºæ•´æ•¸ï¼ˆ0: æœªé–‹å§‹, 1: é€²è¡Œä¸­, 2: å·²çµæ¡ˆï¼‰
- é‡çµ„ UI Pages ç‚ºå…©å€‹é¡åˆ¥ï¼ˆCRUD Forms + Preview Pagesï¼‰
- æ”¹å–„ console çš„è¡Œå‹•ç‰ˆ RWDï¼Œæ›´å¥½çš„å°èˆªå’Œåˆ†é 
- é‡æ–°è¨­è¨ˆ console å´é‚Šæ¬„ï¼Œä½¿ç”¨æ·ºç°è‰²ä¸»é¡Œ

### ä¿®å¾©
- ä¿®å¾© client-case list çš„ 500 éŒ¯èª¤ï¼ˆtimezone-aware datetimeï¼‰
- ä¿®å¾©æ›´æ–°è¡¨å–®ä¸­çš„æ¬„ä½æ˜ å°„å„ªå…ˆé †åº
- ä¿®å¾© schema ç©ºå€¼æ¬„ä½é¡¯ç¤º

### æ•ˆèƒ½
- å„ªåŒ– CI/CD pipelineï¼Œæå‡å¯é æ€§å’Œæ•ˆèƒ½

---

## [0.2.2] - 2025-11-22

### æ–°å¢
- iOS å°ˆç”¨çš„è¿½åŠ éŒ„éŸ³ APIï¼Œæ”¯æ´å¢é‡ä¸Šå‚³

### è®Šæ›´
- å°‡ Cloud Run è¨˜æ†¶é«”æ¢å¾©ç‚º 1Giï¼Œä¿®å¾©å®¹å™¨å•Ÿå‹•è¶…æ™‚å•é¡Œ

### æ•ˆèƒ½
- å„ªåŒ– Cloud Run è³‡æºæˆæœ¬æ•ˆç›Šï¼ˆ1 CPU, 1Gi è¨˜æ†¶é«”ï¼‰

---

## [0.2.1] - 2025-11-21

### æ–°å¢
- Console ä¸­é¡¯ç¤ºæ¸¬è©¦å¸³è™Ÿï¼Œæ–¹ä¾¿é–‹ç™¼å­˜å–

### è®Šæ›´
- ä¿®å¾© console ç™»å…¥è¡¨å–®ä¸­çš„ç§Ÿæˆ¶ä¸‹æ‹‰é¸å–®

---

## [0.2.0] - 2025-11-19

### æ–°å¢
- ç‚º iOS é–‹ç™¼è€…æä¾›å®Œæ•´çš„å¤šç§Ÿæˆ¶æ–‡æª”
- OpenAPI/Swagger æ–‡æª”çš„ RecordingSegment schema
- é€±é€²åº¦å ±å‘Šï¼ˆç¬¬ 46 é€±ï¼‰

### è®Šæ›´
- æ•´åˆä¸¦æ¸…ç†æ–‡æª”çµæ§‹
- å°‡ API æ–‡æª”ç§»è‡³æ ¹ç›®éŒ„ï¼Œæå‡å¯å­˜å–æ€§
- é‡æ¸…æ‰€æœ‰æ–‡æª”ä¸­çš„ tenant_id ä½¿ç”¨æ–¹å¼

### ç§»é™¤
- æœªä½¿ç”¨çš„æœªä¾†åŠŸèƒ½è¨­è¨ˆæ–‡æª”

### ä¿®å¾©
- æ”¹å–„å ±å‘Šç”Ÿæˆçš„é˜²é‡è¤‡é‚è¼¯

---

## [0.1.0] - 2025-11-18

**Phase 3 ç™¼å¸ƒ** - èªè­‰èˆ‡æ¥­å‹™é‚è¼¯

### æ–°å¢
- JWT èªè­‰ç³»çµ±ï¼ˆ24 å°æ™‚æœ‰æ•ˆæœŸï¼‰
- Clientã€Caseã€Session CRUDï¼Œè‡ªå‹•ç”Ÿæˆä»£ç¢¼
- å ±å‘Šç”Ÿæˆï¼Œä½¿ç”¨éåŒæ­¥ background tasks
- iOS å°ˆç”¨ UI æ•´åˆ APIï¼ˆ`/api/v1/ui/*`ï¼‰
- Web consoleï¼Œç”¨æ–¼ API æ¸¬è©¦
- å¤šç§Ÿæˆ¶æ¶æ§‹èˆ‡ RBAC

### å®‰å…¨æ€§
- bcrypt å¯†ç¢¼é›œæ¹Šã€JWT èªè­‰
- å¤šç§Ÿæˆ¶è³‡æ–™éš”é›¢èˆ‡åˆ—ç´šæ¬Šé™

---

## [0.0.5] - 2025-10-17

### æ–°å¢
- æ”¹å–„ RAG å°è©±æ„åœ–åˆ†é¡ï¼Œé™ä½ç›¸ä¼¼åº¦é–€æª»

### è®Šæ›´
- å ±å‘Šç”Ÿæˆå¾ SSE streaming æ”¹ç‚ºç›´æ¥ JSON å›æ‡‰
- æ”¹å–„ä¸Šå‚³éŒ¯èª¤è™•ç†å’Œè¡¨å–®æ¬„ä½åç¨±

### ä¿®å¾©
- ç§»é™¤ PDF æ–‡å­—ä¸­çš„ NUL å­—å…ƒå†å­˜å…¥ PostgreSQL
- æ”¹å–„å ±å‘Šç”Ÿæˆ UI çš„éŒ¯èª¤å¯è¦‹åº¦

### ç§»é™¤
- ç§»é™¤éæ™‚çš„ RAG PDF å ±å‘Š

---

## [0.0.4] - 2025-10-12

### æ–°å¢
- å ±å‘Šç”Ÿæˆçš„è¼¸å‡ºæ ¼å¼åƒæ•¸
- RAG ç³»çµ±æ¯”è¼ƒæ¨¡å¼
- é€±é€²åº¦å ±å‘Šï¼ˆç¬¬ 41 é€±ï¼‰

### è®Šæ›´
- å ±å‘Šç”Ÿæˆå¾ GET æ”¹ç‚º POST
- Cloud Run è¨˜æ†¶é«”é™åˆ¶è‡³ 1Gi
- RAG ç³»çµ±æ”¹ç”¨ Gemini

### ä¿®å¾©
- Docker ä¸­å®‰è£ git ä»¥æ”¯æ´ ragas ä¾è³´
- RAG æª¢ç´¢å’Œæ¯”è¼ƒæ¨¡å¼ UX

### æ•ˆèƒ½
- å¢å¼·çµ±è¨ˆé é¢ï¼Œæ”¯æ´å„ç­–ç•¥é¡¯ç¤º

---

## [0.0.3] - 2025-10-05

### æ–°å¢
- Chunk ç­–ç•¥ APIï¼ŒåŒ…å«çŸ©é™£è¦–è¦ºåŒ–
- RAG è©•ä¼°ç³»çµ±ï¼ŒåŒ…å«çŸ©é™£è¦–åœ–å’Œæ‰¹æ¬¡è©•ä¼°
- å¢å¼·è©•ä¼°çŸ©é™£ï¼Œæ•´åˆ chunk ç­–ç•¥

### æ•ˆèƒ½
- çµ„ç¹”å´é‚Šæ¬„å°èˆªï¼Œæ”¹å–„ UX

---

## [0.0.2] - 2025-10-04

### æ–°å¢
- å¤šç’°å¢ƒéƒ¨ç½²ï¼ˆstaging/productionï¼‰
- æ¡ˆä»¶å ±å‘Šçš„è¡¨æ ¼æ ¼å¼

### è®Šæ›´
- Cloud Run è¨˜æ†¶é«”å¾ 128Mi è‡³ 512Mi

### ä¿®å¾©
- ä½”ä½ç¬¦æ†‘è­‰ï¼Œé¿å…æ©Ÿå¯†æ´©æ¼èª¤åˆ¤
- æ–‡æª”é‡çµ„

---

## [0.0.1] - 2025-10-03

**åˆå§‹ç™¼å¸ƒ** - RAG ç³»çµ±åŸºç¤

### æ–°å¢
- RAG Consoleï¼Œæ•´åˆ Supabase
- RAG ç³»çµ±æ¨¡å‹å’Œ API ç«¯é»
- RAG è™•ç†æœå‹™ï¼ˆchunking, embedding, retrievalï¼‰
- è«®è©¢ console UIï¼Œæ”¯æ´æ–‡ä»¶ä¸Šå‚³

### è®Šæ›´
- RAG chat æ¸¬è©¦æ”¹ç”¨æ•´åˆæ–¹æ³•

### ä¿®å¾©
- æª”æ¡ˆä¸Šå‚³åŠŸèƒ½
- RAG Console é™¤éŒ¯å’Œ UI

### åŸºç¤è¨­æ–½
- GitHub Actions CI/CD è‡³ Cloud Run
- Docker å®¹å™¨åŒ–ï¼Œä½¿ç”¨ Poetry
- Workload Identity Federation ç”¨æ–¼éƒ¨ç½²

---

## é–‹ç™¼æ™‚é–“è»¸

### ğŸ“… ç¬¬ä¸€éšæ®µï¼šRAG åŸºç¤å»ºè¨­ï¼ˆ2025 å¹´ 10 æœˆï¼‰
**æœŸé–“**ï¼š2 é€± | **ç‰ˆæœ¬**ï¼š0.0.1 - 0.0.3

å»ºç«‹æ ¸å¿ƒ RAGï¼ˆæª¢ç´¢å¢å¼·ç”Ÿæˆï¼‰ç³»çµ±åŸºç¤è¨­æ–½ï¼š
- æ–‡ä»¶è™•ç†æµç¨‹ï¼ˆchunking, embedding, retrievalï¼‰
- RAG è©•ä¼°ç³»çµ±ï¼ŒåŒ…å«çŸ©é™£è¦–è¦ºåŒ–
- Cloud Run éƒ¨ç½²ï¼ŒåŒ…å« CI/CD è‡ªå‹•åŒ–
- Supabase æ•´åˆï¼Œç”¨æ–¼å‘é‡å„²å­˜ï¼ˆpgvectorï¼‰

**é—œéµæˆå°±**ï¼šå®Œæ•´åŠŸèƒ½çš„ RAG å¼•æ“ï¼Œç”¨æ–¼çŸ¥è­˜æª¢ç´¢

---

### ğŸ“… ç¬¬äºŒéšæ®µï¼šRAG å„ªåŒ–ï¼ˆ2025 å¹´ 10 æœˆï¼‰
**æœŸé–“**ï¼š1 é€± | **ç‰ˆæœ¬**ï¼š0.0.4 - 0.0.5

å¢å¼· RAG èƒ½åŠ›å’Œå ±å‘Šç”Ÿæˆï¼š
- å¤šæ ¼å¼å ±å‘Šè¼¸å‡ºï¼ˆJSON, Markdown, Tableï¼‰
- Vertex AI RAG æ¯”è¼ƒå’Œè©•ä¼°
- Gemini 2.5 æ•´åˆï¼Œæ”¹å–„æ•ˆèƒ½
- æ™ºæ…§å°è©±è·¯ç”±çš„æ„åœ–åˆ†é¡

**é—œéµæˆå°±**ï¼šç”Ÿç”¢å°±ç·’çš„ RAG ç³»çµ±ï¼Œæˆæœ¬é™ä½ 40%

---

### ğŸ“… ç¬¬ä¸‰éšæ®µï¼šæ¥­å‹™é‚è¼¯ï¼ˆ2025 å¹´ 11 æœˆï¼‰
**æœŸé–“**ï¼š2 é€± | **ç‰ˆæœ¬**ï¼š0.1.0 - 0.3.1

å»ºç«‹å®Œæ•´çš„è«®è©¢å¹³å°ï¼ŒåŒ…å«èªè­‰å’Œ CRUD æ“ä½œï¼š
- JWT èªè­‰ï¼Œå¤šç§Ÿæˆ¶éš”é›¢
- Client, Case, Session ç®¡ç†
- å³æ™‚é€å­—ç¨¿é—œéµå­—åˆ†æ
- iOS å„ªåŒ– APIï¼Œæ•ˆèƒ½èª¿æ ¡ï¼ˆå¿« 3-5 å€ï¼‰
- 100% æ•´åˆæ¸¬è©¦è¦†è“‹ç‡ï¼ˆ106 å€‹æ¸¬è©¦ï¼‰

**é—œéµæˆå°±**ï¼šå®Œæ•´çš„è«®è©¢å¹³å°ï¼Œæº–å‚™å¥½æ•´åˆ iOS

---

## ç‰ˆæœ¬æ­·å²ç¸½è¦½

| ç‰ˆæœ¬ | æ—¥æœŸ | éšæ®µ | ä¸»è¦åŠŸèƒ½ |
|------|------|------|----------|
| **0.3.1** | 2025-11-29 | **ç¬¬ä¸‰éšæ®µ** | å³æ™‚é—œéµå­—åˆ†æã€Session å‘½åã€Gemini 2.5 Flash |
| 0.3.0 | 2025-11-25 | ç¬¬ä¸‰éšæ®µ | N+1 æŸ¥è©¢ä¿®å¾©ã€å¿«é€Ÿ CIã€Admin è§’è‰² |
| 0.2.5 | 2025-11-24 | ç¬¬ä¸‰éšæ®µ | Pre-commit hooksã€100% æ¸¬è©¦è¦†è“‹ |
| 0.2.4 | 2025-11-24 | ç¬¬ä¸‰éšæ®µ | Mypy å‹åˆ¥æª¢æŸ¥ã€SSL ä¿®å¾© |
| 0.2.3 | 2025-11-23 | ç¬¬ä¸‰éšæ®µ | iPhone æ¨¡æ“¬å™¨è¦–åœ–ã€Case status æ•´æ•¸ |
| 0.2.2 | 2025-11-22 | ç¬¬ä¸‰éšæ®µ | iOS è¿½åŠ éŒ„éŸ³ API |
| 0.2.1 | 2025-11-21 | ç¬¬ä¸‰éšæ®µ | Console æ”¹å–„ |
| 0.2.0 | 2025-11-19 | ç¬¬ä¸‰éšæ®µ | å¤šç§Ÿæˆ¶æ–‡æª”ã€API æ•´åˆ |
| **0.1.0** | 2025-11-18 | **ç¬¬ä¸‰éšæ®µ** | **èªè­‰èˆ‡æ¥­å‹™é‚è¼¯** |
| 0.0.5 | 2025-10-17 | ç¬¬äºŒéšæ®µ | RAG å°è©±æ”¹å–„ã€å ±å‘Šç”Ÿæˆä¿®å¾© |
| 0.0.4 | 2025-10-12 | ç¬¬äºŒéšæ®µ | å ±å‘Šæ ¼å¼ã€RAG æ¯”è¼ƒã€Vertex AI POC |
| 0.0.3 | 2025-10-05 | ç¬¬ä¸€éšæ®µ | Chunk ç­–ç•¥ã€è©•ä¼°çŸ©é™£ |
| 0.0.2 | 2025-10-04 | ç¬¬ä¸€éšæ®µ | å¤šç’°å¢ƒéƒ¨ç½²ã€å ±å‘Šè¡¨æ ¼ |
| **0.0.1** | 2025-10-03 | **ç¬¬ä¸€éšæ®µ** | **RAG ç³»çµ±åŸºç¤** |

**ç¸½é–‹ç™¼æ™‚é–“**ï¼šç´„ 8 é€±ï¼ˆ2025-10-03 ~ 2025-11-29ï¼‰
**ç¸½ç‰ˆæœ¬æ•¸**ï¼š14 å€‹ç™¼å¸ƒç‰ˆæœ¬
**ç¸½æäº¤æ•¸**ï¼š227

---

## å‡ç´šæŒ‡å—

### å¾ 0.3.0 å‡ç´šåˆ° 0.3.1

**æ–°åŠŸèƒ½å¯ç”¨**ï¼š
- ä½¿ç”¨ `POST /api/v1/sessions/{id}/analyze-keywords` é€²è¡Œå³æ™‚é—œéµå­—åˆ†æ
- å‰µå»º sessions æ™‚å¯æ–°å¢é¸å¡«çš„ `name` æ¬„ä½

**é‡å¤§è®Šæ›´**ï¼š
- ç„¡

**å»ºè­°è¡Œå‹•**ï¼š
- æ›´æ–° iOS appï¼Œåœ¨è«®è©¢æœƒè«‡æœŸé–“åˆ©ç”¨å³æ™‚é—œéµå­—åˆ†æåŠŸèƒ½
- è€ƒæ…®æ–°å¢ session å‘½ååŠŸèƒ½ä»¥æ”¹å–„ UX

### å¾ 0.2.x å‡ç´šåˆ° 0.3.0

**API è®Šæ›´**ï¼š
- ç„¡é‡å¤§è®Šæ›´ï¼Œæ‰€æœ‰æ›´æ–°éƒ½å‘å¾Œç›¸å®¹

**æ•ˆèƒ½æ”¹å–„**ï¼š
- Sessions API ç¾åœ¨å¿« 3 å€ï¼ˆå›æ‡‰æ™‚é–“ï¼š800ms â†’ 250msï¼‰
- UI client-case-list API ç¾åœ¨å¿« 5 å€ï¼ˆå›æ‡‰æ™‚é–“ï¼š1.2s â†’ 240msï¼‰

**å»ºè­°è¡Œå‹•**ï¼š
- ç„¡éœ€ä¿®æ”¹ç¨‹å¼ç¢¼ï¼Œç›´æ¥äº«å—æ•ˆèƒ½æå‡ï¼

---

## [Keep a Changelog] åˆ†é¡èªªæ˜

æœ¬å°ˆæ¡ˆä½¿ç”¨ä»¥ä¸‹è®Šæ›´åˆ†é¡ï¼š

- **æ–°å¢ï¼ˆAddedï¼‰** - æ–°åŠŸèƒ½æˆ–ç«¯é»
- **è®Šæ›´ï¼ˆChangedï¼‰** - ç¾æœ‰åŠŸèƒ½çš„è®Šæ›´
- **æ£„ç”¨ï¼ˆDeprecatedï¼‰** - å°‡åœ¨æœªä¾†ç‰ˆæœ¬ç§»é™¤çš„åŠŸèƒ½
- **ç§»é™¤ï¼ˆRemovedï¼‰** - å·²ç§»é™¤çš„åŠŸèƒ½
- **ä¿®å¾©ï¼ˆFixedï¼‰** - Bug ä¿®å¾©
- **å®‰å…¨æ€§ï¼ˆSecurityï¼‰** - å®‰å…¨æ€§æ¼æ´ä¿®å¾©
- **æ•ˆèƒ½ï¼ˆPerformanceï¼‰** - æ•ˆèƒ½æ”¹å–„å’Œå„ªåŒ–

---

**å®Œæ•´æäº¤æ­·å²**ï¼šè¦‹ [GitHub å„²å­˜åº«](https://github.com/Youngger9765/career_ios_backend)
**API æ–‡æª”**ï¼šé€ è¨ª `/docs`ï¼ˆSwagger UIï¼‰æˆ– `/redoc`ï¼ˆReDocï¼‰
**iOS æ•´åˆæŒ‡å—**ï¼šè¦‹ [IOS_API_GUIDE.md](./IOS_API_GUIDE.md)
