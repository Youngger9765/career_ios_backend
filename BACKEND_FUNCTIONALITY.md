# å³æ™‚è¦ªå­è«®è©¢ç³»çµ± - å¾Œç«¯åŠŸèƒ½æ–‡æª”

**ç‰ˆæœ¬**: v2.1
**æ–‡æª”æ—¥æœŸ**: 2025-12-26
**ç³»çµ±ç‹€æ…‹**: Staging / Production Ready

---

## ç›®éŒ„

1. [ç³»çµ±æ¦‚è¿°](#ç³»çµ±æ¦‚è¿°)
2. [æ ¸å¿ƒ API ç«¯é»](#æ ¸å¿ƒ-api-ç«¯é»)
3. [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
4. [RAG çŸ¥è­˜åº«æ•´åˆ](#rag-çŸ¥è­˜åº«æ•´åˆ)
5. [å®‰å…¨ç­‰ç´šè©•ä¼°ç³»çµ±](#å®‰å…¨ç­‰ç´šè©•ä¼°ç³»çµ±)
6. [å°ˆå®¶å»ºè­°ç³»çµ±](#å°ˆå®¶å»ºè­°ç³»çµ±)
7. [å‹•æ…‹åˆ†æé–“éš”](#å‹•æ…‹åˆ†æé–“éš”)
8. [å¯è§€æ¸¬æ€§èˆ‡æ•¸æ“šæŒä¹…åŒ–](#å¯è§€æ¸¬æ€§èˆ‡æ•¸æ“šæŒä¹…åŒ–)
9. [å¤š LLM ä¾›æ‡‰å•†æ”¯æ´](#å¤š-llm-ä¾›æ‡‰å•†æ”¯æ´)
10. [æŠ€è¡“æ¶æ§‹](#æŠ€è¡“æ¶æ§‹)

---

## ç³»çµ±æ¦‚è¿°

å³æ™‚è¦ªå­è«®è©¢ç³»çµ±æ˜¯ä¸€å€‹åŸºæ–¼ AI çš„è¦ªå­æºé€šåˆ†æå¹³å°ï¼Œæä¾›å³æ™‚èªéŸ³è½‰æ–‡å­—ã€å°è©±åˆ†æã€å®‰å…¨è©•ä¼°åŠå°ˆå®¶å»ºè­°ã€‚ç³»çµ±æ•´åˆäº† ElevenLabs èªéŸ³è­˜åˆ¥ã€Google Gemini/Codeer LLMã€RAG çŸ¥è­˜åº«åŠ BigQuery æ•¸æ“šåˆ†æã€‚

### ä¸»è¦ç‰¹è‰²

- âœ… **å³æ™‚èªéŸ³è½‰æ–‡å­—**ï¼šElevenLabs WebSocket STTï¼Œæ”¯æ´ä¸­æ–‡è¾¨è­˜
- âœ… **AI å³æ™‚åˆ†æ**ï¼š15ç§’/30ç§’/60ç§’ å‹•æ…‹åˆ†æé–“éš”ï¼Œæ ¹æ“šå®‰å…¨ç­‰ç´šèª¿æ•´
- âœ… **ä¸‰è‰²ç‡ˆè™Ÿç³»çµ±**ï¼šç¶ è‰²/é»ƒè‰²/ç´…è‰² å®‰å…¨ç­‰ç´šè©•ä¼°
- âœ… **200å¥å°ˆå®¶å»ºè­°**ï¼šæ ¹æ“šå°è©±æƒ…å¢ƒå¾å°ˆå®¶å¥åº«ä¸­é¸æ“‡ 1-4 å¥å»ºè­°
- âœ… **RAG çŸ¥è­˜åº«**ï¼šæ•´åˆæ­£å‘æ•™é¤Šã€æƒ…ç·’æ•™é¤Šã€ä¾é™„ç†è«–ç­‰è¦ªå­æ•™é¤Šç†è«–
- âœ… **å®¶é•·å ±å‘Šç”Ÿæˆ**ï¼šå°è©±çµæŸå¾Œç”Ÿæˆå®Œæ•´æºé€šå ±å‘Šï¼ˆæ‘˜è¦ã€äº®é»ã€æ”¹é€²å»ºè­°ï¼‰
- âœ… **å®Œæ•´å¯è§€æ¸¬æ€§**ï¼šBigQuery è¨˜éŒ„æ‰€æœ‰åˆ†ææ•¸æ“šã€RAG ä½¿ç”¨ã€Token ç”¨é‡ã€æˆæœ¬ä¼°ç®—

---

## æ ¸å¿ƒ API ç«¯é»

### 1. `/api/v1/realtime/analyze` - å³æ™‚åˆ†æ

**ç”¨é€”**: åˆ†æå³æ™‚å°è©±ï¼Œæä¾›ç£å°å»ºè­°

**è«‹æ±‚æ–¹æ³•**: `POST`

**è«‹æ±‚åƒæ•¸**:
```json
{
  "transcript": "å®Œæ•´å°è©±é€å­—ç¨¿ï¼ˆç´¯ç©ï¼‰",
  "speakers": [
    {"speaker": "counselor", "text": "å®¶é•·èªªçš„è©±"},
    {"speaker": "client", "text": "å­©å­èªªçš„è©±"}
  ],
  "time_range": "15s|30s|60s",
  "mode": "emergency|practice",
  "provider": "gemini|codeer",
  "use_cache": true,
  "session_id": "optional-session-id"
}
```

**å›æ‡‰æ¬„ä½**:
```json
{
  "safety_level": "green|yellow|red",
  "summary": "æ¡ˆä¸»è™•å¢ƒç°¡è¿°",
  "alerts": ["ğŸ’¡ åŒç†æ¡ˆä¸»æ„Ÿå—", "âš ï¸ éœ€é—œæ³¨çš„éƒ¨åˆ†"],
  "suggestions": ["å¾å°ˆå®¶å»ºè­°å¥åº«é¸å‡ºçš„ 1-4 å¥"],
  "time_range": "15s|30s|60s",
  "timestamp": "2025-12-26T10:00:00Z",
  "rag_sources": [
    {
      "title": "æ­£å‘æ•™é¤Šï¼šç¬¬3ç«  - å»ºç«‹é€£çµ",
      "content": "çŸ¥è­˜åº«å…§å®¹æ‘˜è¦...",
      "score": 0.54,
      "theory": "æ­£å‘æ•™é¤Š"
    }
  ],
  "cache_metadata": {
    "cache_name": "cached_content_name",
    "cache_created": true,
    "cached_tokens": 1500,
    "prompt_tokens": 2000
  },
  "provider_metadata": {
    "provider": "gemini",
    "latency_ms": 850,
    "model": "gemini-2.5-flash"
  }
}
```

**åŠŸèƒ½èªªæ˜**:

1. **å®‰å…¨ç­‰ç´šè©•ä¼°**ï¼šåˆ†ææœ€è¿‘ 5-10 å€‹å°è©±è¼ªæ¬¡ï¼Œåˆ¤æ–·ç¶ è‰²/é»ƒè‰²/ç´…è‰²
2. **RAG æª¢ç´¢**ï¼šåµæ¸¬è¦ªå­é—œéµå­—ï¼ˆå¦‚ã€Œå­©å­ã€ã€Œæƒ…ç·’ã€ã€Œç®¡æ•™ã€ï¼‰ï¼Œè‡ªå‹•æœå°‹çŸ¥è­˜åº«
3. **å°ˆå®¶å»ºè­°é¸æ“‡**ï¼šå¾ 200 å¥å°ˆå®¶å»ºè­°ä¸­é¸ 1-4 å¥ï¼ˆemergency æ¨¡å¼ 1-2 å¥ï¼Œpractice æ¨¡å¼ 3-4 å¥ï¼‰
4. **Context Caching**ï¼šä½¿ç”¨ Gemini Context Caching é™ä½é‡è¤‡ token æˆæœ¬
5. **èƒŒæ™¯å¯«å…¥ GBQ**ï¼šéé˜»å¡å¼å¯«å…¥ BigQueryï¼Œè¨˜éŒ„å®Œæ•´åˆ†ææ•¸æ“š

---

### 2. `/api/v1/realtime/parents-report` - å®¶é•·å ±å‘Šç”Ÿæˆ

**ç”¨é€”**: å°è©±çµæŸå¾Œç”Ÿæˆå®Œæ•´è¦ªå­æºé€šå ±å‘Š

**è«‹æ±‚æ–¹æ³•**: `POST`

**è«‹æ±‚åƒæ•¸**:
```json
{
  "transcript": "å®Œæ•´å°è©±é€å­—ç¨¿",
  "session_id": "optional-session-id"
}
```

**å›æ‡‰æ¬„ä½**:
```json
{
  "summary": "å°è©±ä¸»é¡Œèˆ‡æ‘˜è¦ï¼ˆ1-2å¥ï¼‰",
  "highlights": [
    "å±•ç¾åŒç†å¿ƒï¼Œé¡˜æ„å‚¾è½å­©å­æ„Ÿå—",
    "èªæ°£æº«å’Œï¼Œæ²’æœ‰ç”¨å‘½ä»¤çš„æ–¹å¼",
    "çµ¦å­©å­é¸æ“‡çš„ç©ºé–“"
  ],
  "improvements": [
    {
      "issue": "è©¢å•æ™‚å¸¶æœ‰è³ªç–‘èªæ°£ï¼Œå¯èƒ½è®“å­©å­æ„Ÿåˆ°é˜²è¡›",
      "suggestion": "å¯ä»¥è©¦è©¦ï¼šã€Œä½ é‚£æ™‚å€™æ˜¯ä»€éº¼æ„Ÿè¦ºï¼Ÿã€è€Œä¸æ˜¯ã€Œä½ ç‚ºä»€éº¼è¦é‚£æ¨£åšï¼Ÿã€"
    }
  ],
  "rag_references": [
    {
      "title": "æ­£å‘æ•™é¤Šï¼šç¬¬5ç«  - é¼“å‹µçš„è—è¡“",
      "content": "çŸ¥è­˜åº«å…§å®¹...",
      "score": 0.58,
      "theory": "æ­£å‘æ•™é¤Š"
    }
  ],
  "timestamp": "2025-12-26T10:05:00Z"
}
```

**åŠŸèƒ½èªªæ˜**:

1. **RAG æª¢ç´¢**ï¼šæœå°‹ 5 å€‹ç›¸é—œè¦ªå­æ•™é¤ŠçŸ¥è­˜ï¼ˆtop_k=5ï¼‰
2. **å››ç¶­åº¦åˆ†æ**ï¼š
   - **æ‘˜è¦**ï¼šå°è©±ä¸»é¡Œï¼Œä¸­æ€§ç«‹å ´
   - **äº®é»**ï¼šå®¶é•·åšå¾—å¥½çš„åœ°æ–¹ï¼ˆ3-5 å€‹ï¼‰
   - **æ”¹é€²**ï¼šå…·é«”å¯æ“ä½œçš„å»ºè­°ï¼ˆ2-4 å€‹ï¼‰
   - **çŸ¥è­˜åº«åƒè€ƒ**ï¼šç›¸é—œç†è«–èˆ‡æ–¹æ³•
3. **æº«å’Œèªæ°£**ï¼šé¿å…æ‰¹åˆ¤ï¼Œç”¨ã€Œå¯ä»¥è©¦è©¦ã€ã€Œæˆ–è¨±ã€ç­‰æŸ”å’Œå¼•å°è©
4. **å®Œæ•´å¯è§€æ¸¬æ€§**ï¼šè¨˜éŒ„å®Œæ•´ transcriptï¼ˆä¸æˆªæ–·ï¼‰ã€RAG ä½¿ç”¨ã€Token ç”¨é‡åˆ° GBQ

---

### 3. `/api/v1/realtime/elevenlabs-token` - èªéŸ³è­˜åˆ¥ Token ç”Ÿæˆ

**ç”¨é€”**: ç”Ÿæˆ ElevenLabs WebSocket å–®æ¬¡ä½¿ç”¨ token

**è«‹æ±‚æ–¹æ³•**: `POST`

**å›æ‡‰æ¬„ä½**:
```json
{
  "token": "single-use-token-for-websocket"
}
```

**åŠŸèƒ½èªªæ˜**:

1. å‘¼å« ElevenLabs API ç”Ÿæˆå–®æ¬¡ä½¿ç”¨ token
2. Token é¡å‹ï¼š`realtime_scribe`ï¼ˆèªéŸ³è½‰æ–‡å­—ï¼‰
3. ä¿è­· API Key å®‰å…¨ï¼ˆä¸æš´éœ²çµ¦å‰ç«¯ï¼‰
4. Token æœ‰æ•ˆæœŸï¼šå–®æ¬¡é€£ç·š

---

## æ ¸å¿ƒåŠŸèƒ½

### 1. å³æ™‚èªéŸ³è½‰æ–‡å­— (STT)

**æŠ€è¡“**:
- **ä¾›æ‡‰å•†**: ElevenLabs Speech-to-Text Realtime v2
- **é€šè¨Šå”å®š**: WebSocket (wss://api.elevenlabs.io/v1/speech-to-text)
- **èªè¨€**: ä¸­æ–‡ (`zh`)
- **éŸ³è¨Šæ ¼å¼**: PCM S16LE, 16kHz, Mono
- **å‚³è¼¸æ ¼å¼**: Base64 encoded audio chunks

**æµç¨‹**:
1. å‰ç«¯å‘å¾Œç«¯è«‹æ±‚ single-use token (`/api/v1/realtime/elevenlabs-token`)
2. å‰ç«¯ä½¿ç”¨ token é€£æ¥ ElevenLabs WebSocket
3. éº¥å…‹é¢¨æ“·å–éŸ³è¨Š â†’ ScriptProcessorNode è™•ç† â†’ Float32 è½‰ Int16 PCM
4. Base64 ç·¨ç¢¼å¾Œå‚³é€çµ¦ ElevenLabs
5. æ¥æ”¶å³æ™‚è¾¨è­˜çµæœï¼ˆpartial èˆ‡ final transcriptsï¼‰
6. ç´¯ç©é€å­—ç¨¿ï¼Œå®šæœŸå‘¼å« `/api/v1/realtime/analyze`

**éŸ³è¨Šè™•ç†ç®¡ç·š**:
```
Microphone â†’ getUserMedia() â†’ AudioContext â†’ ScriptProcessorNode
â†’ Float32Array â†’ Int16Array (PCM S16LE) â†’ Base64 â†’ WebSocket
â†’ ElevenLabs STT â†’ JSON Response â†’ Frontend UI
```

---

### 2. å°è©±è§’è‰²è‡ªå‹•åˆ‡æ›

**é‚è¼¯**:
- **é è¨­**: å®¶é•· (counselor)
- **è‡ªå‹•åˆ‡æ›**: åµæ¸¬ã€Œå­©å­ï¼šã€ã€Œå°å­©ï¼šã€ã€Œå…’å­ï¼šã€ã€Œå¥³å…’ï¼šã€ç­‰é—œéµå­—
- **é¡¯ç¤º**: ä¸åŒé¡è‰²æ¨™ç¤ºï¼ˆcounselor = è—è‰²ï¼Œclient = ç¶ è‰²ï¼‰

**å¯¦ä½œä½ç½®**: `app/templates/realtime_counseling.html` (JavaScript)

---

### 3. å‹•æ…‹åˆ†æé–“éš”

**è¦å‰‡**:
- **ğŸ”´ REDï¼ˆç´…è‰²ï¼‰**: 15 ç§’åˆ†æä¸€æ¬¡ï¼ˆé«˜é¢¨éšªï¼Œéœ€å¯†é›†ç›£æ§ï¼‰
- **ğŸŸ¡ YELLOWï¼ˆé»ƒè‰²ï¼‰**: 30 ç§’åˆ†æä¸€æ¬¡ï¼ˆä¸­é¢¨éšªï¼‰
- **ğŸŸ¢ GREENï¼ˆç¶ è‰²ï¼‰**: 60 ç§’åˆ†æä¸€æ¬¡ï¼ˆå®‰å…¨ï¼Œé™ä½ API å‘¼å«é »ç‡ï¼‰

**è§¸ç™¼æ©Ÿåˆ¶**:
1. é¦–æ¬¡åˆ†æï¼š60 ç§’å¾Œï¼ˆé è¨­ç¶ è‰²ï¼‰
2. å¾ŒçºŒåˆ†æï¼šæ ¹æ“šä¸Šæ¬¡ `safety_level` å›æ‡‰èª¿æ•´é–“éš”
3. ä½¿ç”¨ `setTimeout()` å‹•æ…‹è¨­å®šä¸‹æ¬¡åˆ†ææ™‚é–“

**å„ªå‹¢**:
- é™ä½æˆæœ¬ï¼šå®‰å…¨å°è©±é™ä½ API å‘¼å«é »ç‡
- æé«˜è­¦è¦ºï¼šå±éšªå°è©±æé«˜ç›£æ§å¯†åº¦
- æ™ºèƒ½èª¿æ•´ï¼šè‡ªå‹•é©æ‡‰å°è©±é¢¨éšª

---

## RAG çŸ¥è­˜åº«æ•´åˆ

### çŸ¥è­˜åº«å…§å®¹

**é¡åˆ¥**: `parenting`ï¼ˆè¦ªå­æ•™é¤Šï¼‰

**ç†è«–**:
1. **æ­£å‘æ•™é¤Š** (Positive Discipline)
2. **æƒ…ç·’æ•™é¤Š** (Emotion Coaching)
3. **ä¾é™„ç†è«–** (Attachment Theory)
4. **èªçŸ¥ç™¼å±•ç†è«–** (Cognitive Development)
5. **è‡ªæˆ‘æ±ºå®šè«–** (Self-Determination Theory)

**è§¸ç™¼é—œéµå­—** (éƒ¨åˆ†ç¯„ä¾‹):
```python
PARENTING_KEYWORDS = [
    "è¦ªå­", "å­©å­", "å°å­©", "å…’ç«¥", "é’å°‘å¹´", "æ•™é¤Š", "è‚²å…’", "ç®¡æ•™",
    "æƒ…ç·’", "ç”Ÿæ°£", "æ†¤æ€’", "å“­æ³£", "ç„¦æ…®", "å£“åŠ›",
    "åŠŸèª²", "ä½œæ¥­", "ç¡è¦º", "åƒé£¯", "åˆ·ç‰™",
    "æºé€š", "é™ªä¼´", "é¼“å‹µ", "è®šç¾", "è™•ç½°", "çå‹µ",
    # ... å…± 70+ å€‹é—œéµå­—
]
```

### RAG æª¢ç´¢æµç¨‹

1. **é—œéµå­—åµæ¸¬**: æª¢æŸ¥ transcript æ˜¯å¦åŒ…å«è¦ªå­é—œéµå­—
2. **ç”Ÿæˆ Embedding**: ä½¿ç”¨ OpenAI `text-embedding-ada-002` å° transcript ç”Ÿæˆå‘é‡
3. **å‘é‡æœå°‹**: åœ¨ PostgreSQL + pgvector ä¸­æœå°‹ç›¸ä¼¼æ–‡ä»¶ç‰‡æ®µ
   - **éæ¿¾æ¢ä»¶**: `category = 'parenting'`
   - **Top K**:
     - `/analyze`: 7 å€‹çµæœ
     - `/parents-report`: 5 å€‹çµæœ
   - **ç›¸ä¼¼åº¦é–€æª»**:
     - `/analyze`: 0.35ï¼ˆç”Ÿç”¢ç’°å¢ƒæ•¸æ“šé¡¯ç¤ºç›¸é—œå…§å®¹åˆ†æ•¸ ~0.54-0.59ï¼‰
     - `/parents-report`: 0.5
4. **ç†è«–æ¨™è¨»**: æ ¹æ“šæ–‡ä»¶æ¨™é¡Œè‡ªå‹•åµæ¸¬æ‰€å±¬ç†è«–
5. **æ§‹å»º Context**: å°‡ RAG çµæœæ’å…¥ LLM prompt

### RAG å›æ‡‰æ ¼å¼

```python
RAGSource(
    title="æ­£å‘æ•™é¤Šï¼šç¬¬3ç«  - å»ºç«‹é€£çµ",
    content="çŸ¥è­˜åº«å…§å®¹ï¼ˆå‰ 300 å­—ï¼‰",
    score=0.54,
    theory="æ­£å‘æ•™é¤Š"
)
```

---

## å®‰å…¨ç­‰ç´šè©•ä¼°ç³»çµ±

### ä¸‰è‰²ç‡ˆè™Ÿå®šç¾©

| ç­‰ç´š | é¡è‰² | é¢¨éšª | åˆ†æé–“éš” | é—œéµå­—ç¯„ä¾‹ |
|------|------|------|----------|------------|
| ğŸ”´ RED | ç´…è‰² | é«˜é¢¨éšª | 15ç§’ | æ‰“æ­»ã€æ»¾ã€æ®ºã€æ¨æ­»ã€æš´åŠ›ã€æã€å—ä¸äº†ã€ä¸æƒ³æ´» |
| ğŸŸ¡ YELLOW | é»ƒè‰² | ä¸­é¢¨éšª | 30ç§’ | æ°£æ­»ã€ç…©æ­»ã€å—å¤ ã€ä¸è½è©±ã€èªªè¬Šã€å´©æ½°ã€ç™¼ç« |
| ğŸŸ¢ GREEN | ç¶ è‰² | å®‰å…¨ | 60ç§’ | é è¨­ï¼ˆç„¡å±éšªé—œéµå­—ï¼‰ |

### æ»‘å‹•è¦–çª—æ©Ÿåˆ¶

**å•é¡Œ**: å¦‚æœè©•ä¼°å®Œæ•´å°è©±ï¼Œæ—©æœŸçš„å±éšªè©æœƒè®“å®‰å…¨ç­‰ç´šæŒçºŒä¿æŒ RED

**è§£æ±ºæ–¹æ¡ˆ**: åªè©•ä¼°æœ€è¿‘å°è©±ï¼ˆsliding windowï¼‰

**å¯¦ä½œ**:
1. **è©•ä¼°ç¯„åœ**: æœ€è¿‘ 10 å€‹ speaker turnsï¼ˆç´„ 1 åˆ†é˜å°è©±ï¼‰
2. **Fallback**: å¦‚æœ speakers æ•¸é‡ä¸è¶³ï¼Œä½¿ç”¨æœ€è¿‘ 300 å­—å…ƒ
3. **å¿«é€Ÿç·©å’Œ**: å¦‚æœæœ€è¿‘å°è©±å·²å¹³éœï¼Œå³ä½¿ä¹‹å‰æœ‰å±éšªå…§å®¹ï¼Œä¹Ÿè©•ä¼°ç‚ºè¼ƒä½é¢¨éšª

**ç¨‹å¼ç¢¼ä½ç½®**: `app/api/realtime.py:_assess_safety_level()`

### LLM å®‰å…¨è©•ä¼°

**æ¨™è¨»é€å­—ç¨¿**:
```
å®Œæ•´å°è©±é€å­—ç¨¿ï¼ˆä¾›åƒè€ƒï¼Œç†è§£èƒŒæ™¯è„ˆçµ¡ï¼‰ï¼š
[... å®Œæ•´å°è©± ...]

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ã€æœ€è¿‘å°è©± - ç”¨æ–¼å®‰å…¨è©•ä¼°ã€‘
ï¼ˆè«‹æ ¹æ“šæ­¤å€å¡Šåˆ¤æ–·ç•¶å‰å®‰å…¨ç­‰ç´šï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[... æœ€è¿‘ 5-10 å€‹å°è©±è¼ªæ¬¡ ...]
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ CRITICAL: å®‰å…¨ç­‰ç´šè©•ä¼°è«‹åªæ ¹æ“šã€Œã€æœ€è¿‘å°è©± - ç”¨æ–¼å®‰å…¨è©•ä¼°ã€‘ã€å€å¡Šåˆ¤æ–·
```

**LLM å›æ‡‰**: `safety_level: "green" | "yellow" | "red"`

---

## å°ˆå®¶å»ºè­°ç³»çµ±

### 200 å¥å°ˆå®¶å»ºè­°å¥åº«

**çµæ§‹**:
- **ğŸŸ¢ ç¶ è‰²**: 70 å¥ï¼ˆå¼·åŒ–æ­£å‘è¡Œç‚ºï¼‰
- **ğŸŸ¡ é»ƒè‰²**: 65 å¥ï¼ˆæé†’èª¿æ•´æ–¹å‘ï¼‰
- **ğŸ”´ ç´…è‰²**: 65 å¥ï¼ˆç«‹å³ä¿®æ­£å±éšªèªè¨€ï¼‰

**é…ç½®æª”æ¡ˆ**: `app/config/parenting_suggestions.py`

### å»ºè­°é¸æ“‡é‚è¼¯

**Emergency æ¨¡å¼** (ç·Šæ€¥æ¨¡å¼):
- **é¸æ“‡æ•¸é‡**: 1-2 å¥
- **ç”¨é€”**: å¿«é€Ÿã€ç²¾æº–ã€å¯ç«‹å³åŸ·è¡Œ
- **é©ç”¨å ´æ™¯**: å³æ™‚ç£å°ï¼Œéœ€è¦å¿«é€Ÿå›æ‡‰

**Practice æ¨¡å¼** (ç·´ç¿’æ¨¡å¼):
- **é¸æ“‡æ•¸é‡**: 3-4 å¥
- **ç”¨é€”**: æ·±åº¦åˆ†æã€ä¿ƒé€²å­¸ç¿’æˆé•·
- **é©ç”¨å ´æ™¯**: æ•™å­¸ã€è¨“ç·´ã€äº‹å¾Œæª¢è¨

### Bridge æŠ€å·§ï¼ˆæ©‹æ¥çµæ§‹ï¼‰

**ç¶ è‰²ç‡ˆè™Ÿ**: è®šç¾ â†’ æ©‹æ¨‘ â†’ å»¶ä¼¸
```
âœ… "ä½ æ­£åœ¨è½ï¼Œè€Œä¸æ˜¯æ€¥è‘—å›"
â†’ "å¯ä»¥å†å¤šå•ä¸€å¥ï¼Œè®“å­©å­çŸ¥é“ä½ æƒ³ç†è§£"
```

**é»ƒè‰²ç‡ˆè™Ÿ**: è‚¯å®š â†’ æé†’ â†’ æ›¿ä»£
```
âœ… "ä½ æœ‰åœ¨é—œå¿ƒå­©å­çš„ç‹€æ³"
âš ï¸ "ä¸éèªæ°£å¸¶æœ‰ä¸€é»è³ªç–‘"
ğŸ’¡ "å¯ä»¥è©¦è©¦ï¼šã€Œä½ é‚£æ™‚å€™æ˜¯ä»€éº¼æ„Ÿè¦ºï¼Ÿã€"
```

**ç´…è‰²ç‡ˆè™Ÿ**: ç©©ä½ â†’ åŒç† â†’ ä¿®æ­£ï¼ˆæœ€é‡è¦ï¼ï¼‰
```
1ï¸âƒ£ å…ˆç©©ä½ï¼šã€Œç†è§£åœ¨æ•™é¤Šå£“åŠ›ä¸‹ï¼Œæƒ…ç·’å¤±æ§æ˜¯å¾ˆæ­£å¸¸çš„ã€
2ï¸âƒ£ é™ä½é˜²è¡›ï¼šã€Œä½ ä¸€å®šä¹Ÿå¾ˆè¾›è‹¦ï¼Œæƒ³è¦å­©å­å¥½ä½†ä¸çŸ¥é“æ€éº¼åšã€
3ï¸âƒ£ å†æé†’ï¼šã€Œé€™å¥è©±å¯èƒ½æœƒè®“å­©å­æ„Ÿåˆ°å®³æ€•ï¼Œæˆ‘å€‘å¯ä»¥è©¦è©¦é€™æ¨£èªª...ã€
```

### å»ºè­°ç¯„ä¾‹

**ğŸŸ¢ ç¶ è‰²å»ºè­°**:
- "è®“å­©å­çŸ¥é“ä½ ç«™åœ¨ä»–é€™é‚Š"
- "ä½ æ­£åœ¨è½ï¼Œè€Œä¸æ˜¯æ€¥è‘—å›"
- "ä½ çš„èªæ°£è®“å­©å­æ„Ÿåˆ°è¢«å°Šé‡"
- "ä½ å…ˆç†è§£æ„Ÿå—ï¼Œè€Œä¸æ˜¯è™•ç†äº‹æƒ…"

**ğŸŸ¡ é»ƒè‰²å»ºè­°**:
- "å¯ä»¥çµ¦å­©å­å¤šä¸€é»æ™‚é–“åæ‡‰"
- "è©¦è‘—ç”¨ã€Œæˆ‘æ“”å¿ƒã€ï¼Œè€Œä¸æ˜¯ã€Œä½ æ€éº¼ã€"
- "å…ˆè™•ç†æƒ…ç·’ï¼Œå†è™•ç†äº‹æƒ…"

**ğŸ”´ ç´…è‰²å»ºè­°**:
- "ç†è§£åœ¨æ•™é¤Šå£“åŠ›ä¸‹ï¼Œæƒ…ç·’å¤±æ§æ˜¯å¾ˆæ­£å¸¸çš„"
- "é€™å¥è©±å¯èƒ½æœƒè®“å­©å­æ„Ÿåˆ°å®³æ€•ï¼Œå¯ä»¥å…ˆæš«åœä¸€ä¸‹"
- "æˆ‘å€‘å¯ä»¥è©¦è©¦æ›ä¸€å€‹èªªæ³•"

---

## å‹•æ…‹åˆ†æé–“éš”

### å¯¦ä½œç´°ç¯€

**JavaScript é‚è¼¯** (`app/templates/realtime_counseling.html`):

```javascript
function scheduleNextAnalysis(currentSafetyLevel) {
    let nextInterval;

    // æ ¹æ“šå®‰å…¨ç­‰ç´šè¨­å®šé–“éš”
    if (currentSafetyLevel === 'red') {
        nextInterval = 15000;  // 15 ç§’
    } else if (currentSafetyLevel === 'yellow') {
        nextInterval = 30000;  // 30 ç§’
    } else {
        nextInterval = 60000;  // 60 ç§’ï¼ˆé è¨­ï¼‰
    }

    // è¨­å®šä¸‹æ¬¡åˆ†ææ™‚é–“
    analysisTimer = setTimeout(() => {
        performAnalysis();  // åŸ·è¡Œåˆ†æ
        scheduleNextAnalysis(latestSafetyLevel);  // éè¿´æ’ç¨‹
    }, nextInterval);
}
```

### æˆæœ¬å„ªåŒ–æ•ˆæœ

**å ´æ™¯**: 30 åˆ†é˜å°è©±

| å®‰å…¨ç­‰ç´š | åˆ†æé–“éš” | API å‘¼å«æ¬¡æ•¸ | é ä¼°æˆæœ¬ |
|---------|---------|-------------|---------|
| å…¨ç¨‹ GREEN | 60ç§’ | 30 æ¬¡ | ä½ |
| å…¨ç¨‹ YELLOW | 30ç§’ | 60 æ¬¡ | ä¸­ |
| å…¨ç¨‹ RED | 15ç§’ | 120 æ¬¡ | é«˜ |
| **æ··åˆ** (å¯¦éš›å ´æ™¯) | å‹•æ…‹èª¿æ•´ | 40-70 æ¬¡ | **ä¸­ä½** |

**å„ªå‹¢**:
- åœ¨å®‰å…¨å°è©±æ™‚é™ä½æˆæœ¬
- åœ¨å±éšªå°è©±æ™‚æé«˜è­¦è¦º
- æ™ºèƒ½å¹³è¡¡æˆæœ¬èˆ‡å®‰å…¨æ€§

---

## å¯è§€æ¸¬æ€§èˆ‡æ•¸æ“šæŒä¹…åŒ–

### BigQuery æ•¸æ“šè¨˜éŒ„

**è¡¨æ ¼**: `realtime_analysis_logs`

**è¨˜éŒ„ç¯„åœ**:
1. **åŸºæœ¬è³‡è¨Š**: `id`, `tenant_id`, `session_id`, `analyzed_at`, `created_at`
2. **åˆ†æé¡å‹**: `analysis_type` (`emergency`/`practice`/`parents_report`)
3. **å®‰å…¨ç­‰ç´š**: `safety_level` (`green`/`yellow`/`red`)
4. **å®Œæ•´è¼¸å…¥**:
   - `transcript`: å®Œæ•´é€å­—ç¨¿ï¼ˆ**ä¸æˆªæ–·**ï¼‰
   - `speakers`: å°è©±è€…è³‡è¨Š (JSON)
5. **æç¤ºè©**:
   - `system_prompt`: ç³»çµ±æŒ‡ä»¤
   - `user_prompt`: ä½¿ç”¨è€…æç¤º
   - `prompt_template`: æç¤ºæ¨¡æ¿ç‰ˆæœ¬
6. **RAG è³‡è¨Š**:
   - `rag_used`: æ˜¯å¦ä½¿ç”¨ RAG
   - `rag_query`: RAG æŸ¥è©¢æ–‡å­—
   - `rag_documents`: æª¢ç´¢åˆ°çš„æ–‡ä»¶ (JSON)
   - `rag_sources`: æ–‡ä»¶æ¨™é¡Œåˆ—è¡¨
   - `rag_top_k`: æª¢ç´¢æ•¸é‡
   - `rag_similarity_threshold`: ç›¸ä¼¼åº¦é–€æª»
   - `rag_search_time_ms`: RAG æœå°‹æ™‚é–“
7. **LLM è³‡è¨Š**:
   - `provider`: `gemini` / `codeer`
   - `model_name`: æ¨¡å‹åç¨±
   - `model_version`: æ¨¡å‹ç‰ˆæœ¬
   - `llm_raw_response`: LLM åŸå§‹å›æ‡‰
   - `llm_call_time_ms`: LLM å‘¼å«æ™‚é–“
8. **æ™‚é–“åˆ†è§£**:
   - `start_time`: é–‹å§‹æ™‚é–“
   - `end_time`: çµæŸæ™‚é–“
   - `duration_ms`: ç¸½è€—æ™‚
   - `api_response_time_ms`: API å›æ‡‰æ™‚é–“
9. **Token ä½¿ç”¨**:
   - `prompt_tokens`: æç¤ºè© token æ•¸
   - `completion_tokens`: å®Œæˆ token æ•¸
   - `total_tokens`: ç¸½ token æ•¸
   - `cached_tokens`: å¿«å– token æ•¸
10. **æˆæœ¬ä¼°ç®—**:
    - `estimated_cost_usd`: é ä¼°æˆæœ¬ï¼ˆç¾å…ƒï¼‰
11. **åˆ†æçµæœ**:
    - `analysis_result`: å®Œæ•´ JSON å›æ‡‰
    - `matched_suggestions`: é¸ä¸­çš„å»ºè­°

### å¯«å…¥æ–¹å¼

**éé˜»å¡å¼èƒŒæ™¯å¯«å…¥**:
```python
background_tasks.add_task(write_to_gbq_async, gbq_data)
```

**å„ªå‹¢**:
- ä¸é˜»å¡ API å›æ‡‰
- GBQ å¯«å…¥å¤±æ•—ä¸å½±éŸ¿ä½¿ç”¨è€…é«”é©—
- å®Œæ•´éŒ¯èª¤æ—¥èªŒè¨˜éŒ„

### æˆæœ¬è¨ˆç®—å…¬å¼

**Gemini 2.5 Flash å®šåƒ¹** (2025):
- **è¼¸å…¥**: $0.000075 / 1K tokens
- **è¼¸å‡º**: $0.0003 / 1K tokens
- **å¿«å–è¼¸å…¥**: $0.00001875 / 1K tokens (75% æŠ˜æ‰£)

**è¨ˆç®—**:
```python
def _calculate_gemini_cost(usage_metadata: dict) -> float:
    prompt_tokens = usage_metadata.get("prompt_token_count", 0)
    completion_tokens = usage_metadata.get("candidates_token_count", 0)
    cached_tokens = usage_metadata.get("cached_content_token_count", 0)

    non_cached_prompt = max(0, prompt_tokens - cached_tokens)

    prompt_cost = (non_cached_prompt / 1000) * 0.000075
    cached_cost = (cached_tokens / 1000) * 0.00001875
    completion_cost = (completion_tokens / 1000) * 0.0003

    return prompt_cost + cached_cost + completion_cost
```

---

## å¤š LLM ä¾›æ‡‰å•†æ”¯æ´

### æ”¯æ´çš„ä¾›æ‡‰å•†

#### 1. Google Geminiï¼ˆé è¨­ï¼‰

**æ¨¡å‹**: `gemini-2.5-flash`

**å„ªå‹¢**:
- åŸç”Ÿæ”¯æ´ Context Cachingï¼ˆé™ä½é‡è¤‡ token æˆæœ¬ï¼‰
- é«˜å“è³ªä¸­æ–‡ç†è§£
- å¿«é€Ÿå›æ‡‰ï¼ˆ~800-1200msï¼‰

**Context Caching**:
- **æœ€ä½è¦æ±‚**: 1024 tokens
- **TTL**: 2 å°æ™‚
- **ç¯€çœæˆæœ¬**: 75% off å¿«å– token
- **é©ç”¨å ´æ™¯**: é•·å°è©±ã€é‡è¤‡ç³»çµ±æŒ‡ä»¤

**å¯¦ä½œ**:
```python
cached_content = await cache_manager.get_or_create_cache(
    session_id=request.session_id,
    system_instruction=CACHE_SYSTEM_INSTRUCTION,
    accumulated_transcript=request.transcript,
    ttl_seconds=7200
)
```

#### 2. Codeer è¦ªå­å°ˆå®¶ Agent

**æ¨¡å‹é¸æ“‡**:
- `claude-sonnet`: Claude Sonnet 4.5
- `gemini-flash`: Gemini 2.5 Flash
- `gpt5-mini`: GPT-5 Miniï¼ˆé è¨­ï¼‰

**å„ªå‹¢**:
- å°ˆæ¥­è¦ªå­è«®è©¢ agentï¼ˆé è¨“ç·´ï¼‰
- Session poolingï¼ˆæœƒè©±é‡ç”¨ï¼‰
- Token usage tracking

**Session Pooling**:
```python
pool = get_codeer_session_pool()
chat = await pool.get_or_create_session(
    session_id, client, agent_id=agent_id
)
```

**Token Metadata**:
```python
CodeerTokenMetadata(
    total_prompt_tokens=1500,
    total_completion_tokens=300,
    total_tokens=1800,
    total_calls=1
)
```

### ä¾›æ‡‰å•†åˆ‡æ›

**API åƒæ•¸**:
```json
{
  "provider": "gemini|codeer",
  "codeer_model": "claude-sonnet|gemini-flash|gpt5-mini"
}
```

**å›æ‡‰ Metadata**:
```json
{
  "provider_metadata": {
    "provider": "gemini",
    "latency_ms": 850,
    "model": "gemini-2.5-flash"
  }
}
```

---

## æŠ€è¡“æ¶æ§‹

### æŠ€è¡“æ£§

**å¾Œç«¯æ¡†æ¶**:
- **FastAPI**: ç¾ä»£åŒ– Python Web æ¡†æ¶
- **SQLAlchemy**: ORMï¼ŒPostgreSQL é€£æ¥
- **Poetry**: ä¾è³´ç®¡ç†

**è³‡æ–™åº«**:
- **PostgreSQL**: ä¸»è³‡æ–™åº«ï¼ˆæ¡ˆä¸»ã€æœƒè«‡ã€æ–‡ä»¶ï¼‰
- **pgvector**: å‘é‡æœå°‹ï¼ˆRAG çŸ¥è­˜åº«ï¼‰
- **BigQuery**: æ•¸æ“šåˆ†æèˆ‡å¯è§€æ¸¬æ€§

**AI æœå‹™**:
- **ElevenLabs**: èªéŸ³è½‰æ–‡å­— (STT)
- **Google Gemini**: LLM åˆ†æèˆ‡ç”Ÿæˆ
- **Codeer**: å¤š LLM agent å¹³å°
- **OpenAI**: Embedding ç”Ÿæˆ (`text-embedding-ada-002`)

**éƒ¨ç½²**:
- **Cloud Run**: Serverless å®¹å™¨éƒ¨ç½²
- **GitHub Actions**: CI/CD è‡ªå‹•åŒ–
- **Docker**: å®¹å™¨åŒ–

### è³‡æ–™æµ

```
éº¥å…‹é¢¨éŸ³è¨Š â†’ ElevenLabs WebSocket â†’ å³æ™‚è¾¨è­˜
    â†“
ç´¯ç©é€å­—ç¨¿ â†’ /api/v1/realtime/analyze â†’ å®‰å…¨è©•ä¼°
    â†“
é—œéµå­—åµæ¸¬ â†’ RAG æª¢ç´¢ â†’ çŸ¥è­˜åº«å…§å®¹
    â†“
æ§‹å»º Prompt â†’ Gemini/Codeer â†’ AI åˆ†æ
    â†“
å°ˆå®¶å»ºè­°é¸æ“‡ â†’ å›æ‡‰å‰ç«¯ â†’ å³æ™‚å¡ç‰‡é¡¯ç¤º
    â†“
BigQuery å¯«å…¥ â†’ æ•¸æ“šåˆ†æ â†’ å¯è§€æ¸¬æ€§
```

### ç›®éŒ„çµæ§‹

```
app/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ v1/
â”‚       â””â”€â”€ realtime.py          # æ ¸å¿ƒ API ç«¯é»
â”œâ”€â”€ config/
â”‚   â””â”€â”€ parenting_suggestions.py # 200 å¥å°ˆå®¶å»ºè­°
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ gemini_service.py        # Gemini LLM æœå‹™
â”‚   â”œâ”€â”€ codeer_client.py         # Codeer API å®¢æˆ¶ç«¯
â”‚   â”œâ”€â”€ rag_chat_service.py      # RAG æª¢ç´¢æœå‹™
â”‚   â”œâ”€â”€ gbq_service.py           # BigQuery å¯«å…¥æœå‹™
â”‚   â”œâ”€â”€ cache_manager.py         # Gemini Context Caching
â”‚   â””â”€â”€ openai_service.py        # OpenAI Embedding
â”œâ”€â”€ schemas/
â”‚   â””â”€â”€ realtime.py              # Pydantic è³‡æ–™æ¨¡å‹
â””â”€â”€ templates/
    â””â”€â”€ realtime_counseling.html # å‰ç«¯ UI
```

---

## æ•ˆèƒ½æŒ‡æ¨™

### API å›æ‡‰æ™‚é–“

| ç«¯é» | å¹³å‡å»¶é² | P95 å»¶é² |
|------|---------|---------|
| `/analyze` (Gemini) | 850ms | 1200ms |
| `/analyze` (Codeer) | 1500ms | 2500ms |
| `/parents-report` | 2000ms | 3500ms |
| `/elevenlabs-token` | 300ms | 500ms |

### Token ä½¿ç”¨é‡

**å…¸å‹ 30 åˆ†é˜å°è©±**:
- **Prompt tokens**: 15,000 - 25,000 (å«å¿«å–)
- **Completion tokens**: 5,000 - 8,000
- **Cached tokens**: 10,000 - 18,000 (å¿«å–å‘½ä¸­å¾Œ)
- **é ä¼°æˆæœ¬**: $0.10 - $0.20 USD

### RAG æª¢ç´¢æ•ˆèƒ½

- **Embedding ç”Ÿæˆ**: ~200ms
- **å‘é‡æœå°‹**: ~50-100ms
- **ç¸½ RAG æ™‚é–“**: ~250-300ms

---

## å®‰å…¨æ€§èˆ‡éš±ç§

### è³‡æ–™ä¿è­·

1. **API Key ä¿è­·**: ElevenLabs API key ä¸æš´éœ²çµ¦å‰ç«¯
2. **Single-use Token**: æ¯æ¬¡é€£ç·šä½¿ç”¨ç¨ç«‹ token
3. **æœƒè©±éš”é›¢**: æ¯å€‹ session_id ç¨ç«‹ cache
4. **æ•æ„Ÿè³‡æ–™è„«æ•**: BigQuery è¨˜éŒ„æ™‚å¯é¸æ“‡æ€§è„«æ•

### GDPR åˆè¦

- **è³‡æ–™æœ€å°åŒ–**: åªè¨˜éŒ„å¿…è¦æ¬„ä½
- **åŒ¿ååŒ–é¸é …**: å¯ä½¿ç”¨åŒ¿å session_id
- **è³‡æ–™ä¿ç•™æœŸé™**: BigQuery å¯è¨­å®šéæœŸæ”¿ç­–

---

## æœªä¾†æ“´å±•æ–¹å‘

### çŸ­æœŸ (1-2 å€‹æœˆ)

- [ ] å¢åŠ æ›´å¤š RAG çŸ¥è­˜åº«å…§å®¹ï¼ˆ200+ æ–‡ä»¶ï¼‰
- [ ] å„ªåŒ–å°ˆå®¶å»ºè­°å¥åº«ï¼ˆå¢åŠ åˆ° 300 å¥ï¼‰
- [ ] æ”¯æ´æ›´å¤šèªè¨€ï¼ˆè‹±æ–‡ã€å°èªï¼‰
- [ ] å¢åŠ èªéŸ³è¼¸å‡ºï¼ˆTTSï¼‰åŠŸèƒ½

### ä¸­æœŸ (3-6 å€‹æœˆ)

- [ ] å¤šç§Ÿæˆ¶æ”¯æ´ï¼ˆä¸åŒæ©Ÿæ§‹ä½¿ç”¨ï¼‰
- [ ] è‡ªè¨‚å°ˆå®¶å»ºè­°å¥åº«
- [ ] å³æ™‚è¦–è¨Šåˆ†æï¼ˆè¡¨æƒ…ã€è‚¢é«”èªè¨€ï¼‰
- [ ] å®¶é•·å­¸ç¿’å„€è¡¨æ¿ï¼ˆæ­·å²å ±å‘Šã€é€²æ­¥è¿½è¹¤ï¼‰

### é•·æœŸ (6-12 å€‹æœˆ)

- [ ] å¤šèªè¨€å³æ™‚ç¿»è­¯
- [ ] AI è‡ªå‹•ç”Ÿæˆå€‹æ€§åŒ–æ•™é¤Šè¨ˆç•«
- [ ] æ•´åˆç©¿æˆ´è£ç½®ï¼ˆå¿ƒç‡ã€å£“åŠ›ç›£æ¸¬ï¼‰
- [ ] é–‹æ”¾ API çµ¦ç¬¬ä¸‰æ–¹æ•´åˆ

---

## ç¸½çµ

å³æ™‚è¦ªå­è«®è©¢ç³»çµ±æ•´åˆäº†èªéŸ³è­˜åˆ¥ã€RAG çŸ¥è­˜åº«ã€å¤š LLM ä¾›æ‡‰å•†ã€ä¸‰è‰²ç‡ˆè™Ÿå®‰å…¨è©•ä¼°åŠ 200 å¥å°ˆå®¶å»ºè­°ï¼Œæä¾›å³æ™‚ã€æ™ºèƒ½ã€æº«å’Œçš„è¦ªå­æºé€šç£å°æœå‹™ã€‚ç³»çµ±å…·å‚™å®Œæ•´å¯è§€æ¸¬æ€§ã€æˆæœ¬å„ªåŒ–æ©Ÿåˆ¶åŠå‹•æ…‹åˆ†æé–“éš”ï¼Œé©åˆç”¨æ–¼è¦ªå­è«®è©¢æ©Ÿæ§‹ã€æ•™è‚²æ©Ÿæ§‹åŠå®¶åº­æ•™è‚²å ´æ™¯ã€‚

**æ ¸å¿ƒå„ªå‹¢**:
âœ… å³æ™‚å›é¥‹ï¼ˆ15-60 ç§’å‹•æ…‹é–“éš”ï¼‰
âœ… å°ˆæ¥­å»ºè­°ï¼ˆ200 å¥å°ˆå®¶å¥åº«ï¼‰
âœ… çŸ¥è­˜é©…å‹•ï¼ˆRAG æ•´åˆè¦ªå­æ•™é¤Šç†è«–ï¼‰
âœ… æˆæœ¬å„ªåŒ–ï¼ˆContext Caching + å‹•æ…‹é–“éš”ï¼‰
âœ… å®Œæ•´å¯è§€æ¸¬æ€§ï¼ˆBigQuery å…¨è¨˜éŒ„ï¼‰
âœ… å¤šä¾›æ‡‰å•†æ”¯æ´ï¼ˆGemini + Codeerï¼‰

**é©ç”¨å ´æ™¯**:
- è¦ªå­è«®è©¢æ©Ÿæ§‹å³æ™‚ç£å°
- å®¶é•·æ•™é¤Šç·´ç¿’èˆ‡å­¸ç¿’
- è¦ªå­æºé€šå“è³ªè©•ä¼°
- æ•™é¤ŠçŸ¥è­˜æ¨å»£èˆ‡å‚³æ’­

---

**æ–‡æª”ç¶­è­·**: è«‹å®šæœŸæ›´æ–°æ­¤æ–‡æª”ä»¥åæ˜ æœ€æ–°åŠŸèƒ½èˆ‡è®Šæ›´ã€‚

**è¯çµ¡è³‡è¨Š**: å¦‚æœ‰æŠ€è¡“å•é¡Œï¼Œè«‹åƒè€ƒ `WEEKLY_REPORT_*.md` æˆ–è¯çµ¡é–‹ç™¼åœ˜éšŠã€‚
